<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-3TZHCPSK23"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-3TZHCPSK23');
    </script>
    <meta name="theme-color" content="#F97316">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="ListNest">
    <meta name="description" content="ListNest - 拽 砖驻转 专砖转 拽转 转 注 砖转祝  转">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icons/icon-192x192.png">
    <title>ListNest - 专砖转 拽转 砖驻转转 </title>
    <!-- Preconnect to external resources for faster loading -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://unpkg.com" crossorigin>
    <link rel="preconnect" href="https://www.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://firebasestorage.googleapis.com" crossorigin>

    <!-- DNS prefetch for additional resources -->
    <link rel="dns-prefetch" href="https://cdn.tailwindcss.com">
    <link rel="dns-prefetch" href="https://www.googletagmanager.com">

    <!-- Critical font with display swap for faster text rendering -->
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Core libraries - loaded synchronously as they're critical -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Non-critical libraries - loaded with defer -->
    <script src="https://unpkg.com/qrcode-generator@1.4.4/qrcode.js" defer></script>

    <!-- Tesseract.js will be loaded dynamically when needed -->
    <script>
        // Performance timing
        window.appLoadStart = performance.now();

        // Lazy load Tesseract.js only when scanning is initiated
        window.loadTesseract = function() {
            return new Promise((resolve, reject) => {
                if (window.Tesseract) {
                    resolve(window.Tesseract);
                    return;
                }
                const script = document.createElement('script');
                script.src = 'https://unpkg.com/tesseract.js@5.0.4/dist/tesseract.min.js';
                script.onload = () => resolve(window.Tesseract);
                script.onerror = reject;
                document.head.appendChild(script);
            });
        };

        // Remove loading skeleton when React app renders
        window.hideLoadingSkeleton = function() {
            const skeleton = document.getElementById('loading-skeleton');
            if (skeleton) {
                skeleton.style.transition = 'opacity 0.3s ease-out';
                skeleton.style.opacity = '0';
                setTimeout(() => skeleton.remove(), 300);
                // Log performance
                const loadTime = Math.round(performance.now() - window.appLoadStart);
                console.log(` ListNest v3.1 loaded in ${loadTime}ms`);
            }
        };

        tailwind.config = { darkMode: 'class' };
    </script>
    <style>
        * { font-family: 'Heebo', sans-serif; }
        .glass { background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.2); }
        .dark .glass { background: rgba(30, 41, 59, 0.9); border: 1px solid rgba(255, 255, 255, 0.1); }
        .gradient-bg { background: linear-gradient(135deg, #F97316 0%, #FB923C 50%, #FBBF24 100%); }
        .dark .gradient-bg { background: linear-gradient(135deg, #7C2D12 0%, #9A3412 50%, #B45309 100%); }
        .btn-gradient { background: linear-gradient(135deg, #F97316 0%, #FB923C 100%); }
        .btn-gradient:hover { background: linear-gradient(135deg, #EA580C 0%, #F97316 100%); transform: translateY(-2px); box-shadow: 0 10px 40px rgba(249, 115, 22, 0.4); }
        .card-hover { transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
        .card-hover:hover { transform: translateY(-4px) scale(1.02); }
        @keyframes float { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-10px); } }
        .float { animation: float 3s ease-in-out infinite; }
        @keyframes shimmer { 0% { background-position: -200% 0; } 100% { background-position: 200% 0; } }
        .shimmer { background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent); background-size: 200% 100%; animation: shimmer 2s infinite; }
        .progress-animate { background: linear-gradient(90deg, #F97316, #FB923C, #FBBF24, #FB923C, #F97316); background-size: 200% 100%; animation: shimmer 2s linear infinite; }
        .text-gradient { background: linear-gradient(135deg, #F97316 0%, #FBBF24 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        input:focus { outline: none; box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.3); }
        .scrollbar-thin::-webkit-scrollbar { width: 6px; }
        .scrollbar-thin::-webkit-scrollbar-track { background: transparent; }
        .scrollbar-thin::-webkit-scrollbar-thumb { background: rgba(99, 102, 241, 0.3); border-radius: 3px; }
        .scrollbar-thin::-webkit-scrollbar-thumb:hover { background: rgba(99, 102, 241, 0.5); }

        /* Item enter/exit animations */
        @keyframes itemEnter {
            from { opacity: 0; transform: translateX(20px); max-height: 0; }
            to { opacity: 1; transform: translateX(0); max-height: 200px; }
        }
        @keyframes itemExit {
            from { opacity: 1; transform: translateX(0); max-height: 200px; }
            to { opacity: 0; transform: translateX(-30px); max-height: 0; margin: 0; padding: 0; }
        }
        .item-enter { animation: itemEnter 0.3s ease-out forwards; }
        .item-exit { animation: itemExit 0.3s ease-out forwards; overflow: hidden; }

        /* Sync status indicator */
        .sync-indicator {
            position: fixed;
            top: 16px;
            left: 16px;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 6px;
            z-index: 1000;
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .sync-indicator.online { background: rgba(16, 185, 129, 0.9); color: white; }
        .sync-indicator.offline { background: rgba(239, 68, 68, 0.9); color: white; }
        .sync-indicator.syncing { background: rgba(245, 158, 11, 0.9); color: white; }
        @keyframes syncSpin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        @keyframes fadeOut { from { opacity: 1; } to { opacity: 0; visibility: hidden; } }
        .sync-spin { animation: syncSpin 1s linear infinite; }

        /* Sticky category header */
        .sticky-category-header {
            position: sticky;
            top: 0;
            z-index: 30;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 8px 16px;
            margin: -24px -24px 16px -24px;
            border-bottom: 1px solid rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .dark .sticky-category-header {
            background: rgba(30, 41, 59, 0.95);
            border-bottom-color: rgba(255,255,255,0.1);
        }

        /* Swipe gesture styles - Enhanced */
        .swipe-container { position: relative; overflow: hidden; touch-action: pan-y pinch-zoom; border-radius: 16px; }
        .swipe-background { position: absolute; top: 0; bottom: 0; width: 100%; display: flex; align-items: center; padding: 0 24px; border-radius: 16px; }
        .swipe-bg-right { right: 0; justify-content: flex-start; background: linear-gradient(135deg, #10b981 0%, #059669 100%); }
        .swipe-bg-left { left: 0; justify-content: flex-end; background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); }
        .swipe-content { position: relative; z-index: 2; background: inherit; transition: transform 0.15s cubic-bezier(0.4, 0, 0.2, 1); }
        .swipe-content.swiping { transition: none; }
        .swipe-indicator { display: flex; flex-direction: column; align-items: center; gap: 4px; }
        .swipe-icon { color: white; font-size: 1.25rem; font-weight: 700; opacity: 0; transform: scale(0.5) translateY(10px); transition: all 0.15s cubic-bezier(0.4, 0, 0.2, 1); }
        .swipe-icon.visible { opacity: 1; transform: scale(1) translateY(0); }
        .swipe-icon-emoji { font-size: 1.75rem; }

        /* Modern Product Card - Clean & Professional */
        .product-card {
            background: white;
            border-radius: 12px;
            padding: 12px 16px;
            border: 1px solid #e5e7eb;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
            transition: all 0.15s ease;
            position: relative;
        }
        .dark .product-card {
            background: #1f2937;
            border-color: #374151;
        }
        .product-card:active { transform: scale(0.99); }
        .product-card.purchased {
            background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%);
            border-color: #a7f3d0;
        }
        .dark .product-card.purchased {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.12) 0%, rgba(5, 150, 105, 0.18) 100%);
            border-color: rgba(16, 185, 129, 0.4);
        }

        /* Clean item row layout */
        .item-row {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .item-checkbox {
            width: 24px;
            height: 24px;
            border-radius: 8px;
            border: 2px solid #d1d5db;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            cursor: pointer;
            transition: all 0.15s ease;
        }
        .item-checkbox:hover { border-color: #10b981; background: #ecfdf5; }
        .item-checkbox.checked {
            background: #10b981;
            border-color: #10b981;
        }
        .item-name {
            flex: 1;
            font-size: 1rem;
            font-weight: 500;
            color: #1f2937;
            line-height: 1.4;
        }
        .dark .item-name { color: #f3f4f6; }
        .item-name.purchased {
            color: #9ca3af;
            text-decoration: line-through;
        }
        .item-qty-badge {
            background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 600;
            color: #4b5563;
            cursor: pointer;
            transition: all 0.15s ease;
            min-width: 40px;
            text-align: center;
        }
        .dark .item-qty-badge {
            background: linear-gradient(135deg, #374151 0%, #4b5563 100%);
            color: #e5e7eb;
        }
        .item-qty-badge:hover { background: linear-gradient(135deg, #e5e7eb 0%, #d1d5db 100%); }
        .item-menu-btn {
            width: 44px;
            height: 44px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6b7280;
            cursor: pointer;
            transition: all 0.15s ease;
            position: relative;
            z-index: 10;
            background: #f3f4f6;
            border: none;
            flex-shrink: 0;
        }
        .dark .item-menu-btn { background: #374151; color: #9ca3af; }
        .item-menu-btn:hover, .item-menu-btn:active { background: #e5e7eb; color: #374151; transform: scale(1.05); }
        .dark .item-menu-btn:hover, .dark .item-menu-btn:active { background: #4b5563; color: #e5e7eb; }

        /* Item actions menu */
        .item-menu-backdrop {
            position: fixed;
            inset: 0;
            z-index: 9998;
            background: rgba(0,0,0,0.3);
        }
        .item-actions-menu {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            border-radius: 20px 20px 0 0;
            box-shadow: 0 -10px 40px rgba(0,0,0,0.2);
            z-index: 9999;
            overflow: hidden;
            animation: slideUp 0.2s ease;
            padding-bottom: env(safe-area-inset-bottom, 20px);
        }
        .dark .item-actions-menu {
            background: #1f2937;
        }
        @keyframes slideUp {
            from { transform: translateY(100%); }
            to { transform: translateY(0); }
        }
        .animate-slide-up {
            animation: slideUp 0.25s ease-out;
        }
        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-8px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .item-action-btn {
            width: 100%;
            padding: 16px 20px;
            display: flex;
            align-items: center;
            gap: 14px;
            font-size: 1rem;
            font-weight: 500;
            color: #374151;
            transition: background 0.1s ease;
            border: none;
            border-bottom: 1px solid #f3f4f6;
            background: none;
            cursor: pointer;
            text-align: right;
        }
        .dark .item-action-btn { color: #e5e7eb; border-bottom-color: #374151; }
        .item-action-btn:hover, .item-action-btn:active { background: #f3f4f6; }
        .dark .item-action-btn:hover, .dark .item-action-btn:active { background: #374151; }
        .item-action-btn.danger { color: #ef4444; }
        .item-action-btn.danger:hover { background: #fef2f2; }
        .dark .item-action-btn.danger:hover { background: rgba(239,68,68,0.15); }
        .item-action-btn:last-child { border-bottom: none; }

        /* Item note badge */
        .item-note-badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            background: #fef3c7;
            color: #92400e;
            padding: 2px 8px;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 500;
            margin-top: 4px;
        }
        .dark .item-note-badge {
            background: rgba(251, 191, 36, 0.2);
            color: #fbbf24;
        }

        /* Item status badges */
        .item-status {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 2px 8px;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 500;
            margin-top: 4px;
        }
        .item-status.postponed {
            background: #ffedd5;
            color: #c2410c;
        }
        .dark .item-status.postponed {
            background: rgba(251, 146, 60, 0.2);
            color: #fb923c;
        }
        .item-status.purchased-by {
            background: #d1fae5;
            color: #047857;
        }
        .dark .item-status.purchased-by {
            background: rgba(16, 185, 129, 0.2);
            color: #34d399;
        }

        /* Micro animations - All under 200ms */
        @keyframes fadeSlideIn {
            from { opacity: 0; transform: translateY(8px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes fadeSlideOut {
            from { opacity: 1; transform: translateY(0); }
            to { opacity: 0; transform: translateY(-8px); }
        }
        @keyframes expandIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }
        @keyframes checkBounce {
            0% { transform: scale(0); }
            60% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
        @keyframes checkPop {
            0% { transform: scale(1); }
            50% { transform: scale(1.15); }
            100% { transform: scale(1); }
        }
        @keyframes successGlow {
            0% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.5); }
            100% { box-shadow: 0 0 0 12px rgba(16, 185, 129, 0); }
        }
        @keyframes slideOutRight {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
        }
        @keyframes slideOutLeft {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(-100%); opacity: 0; }
        }
        @keyframes ripple {
            to { transform: scale(2); opacity: 0; }
        }
        .fade-slide-in { animation: fadeSlideIn 0.15s cubic-bezier(0.4, 0, 0.2, 1) forwards; }
        .expand-in { animation: expandIn 0.15s cubic-bezier(0.4, 0, 0.2, 1) forwards; }
        .check-animate { animation: checkBounce 0.2s cubic-bezier(0.4, 0, 0.2, 1) forwards; }
        .check-pop { animation: checkPop 0.15s ease; }
        .success-glow { animation: successGlow 0.4s ease forwards; }
        .slide-out-right { animation: slideOutRight 0.2s ease forwards; }
        .slide-out-left { animation: slideOutLeft 0.2s ease forwards; }

        /* Sticky Add Bar */
        .sticky-add-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-top: 1px solid rgba(0, 0, 0, 0.08);
            padding: 12px 16px;
            padding-bottom: calc(12px + env(safe-area-inset-bottom, 0px));
            z-index: 40;
            box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.08);
        }
        .dark .sticky-add-bar {
            background: rgba(17, 24, 39, 0.95);
            border-color: rgba(255, 255, 255, 0.08);
        }

        /* Inline edit input */
        .inline-edit-input {
            background: transparent;
            border: none;
            outline: none;
            font-size: inherit;
            font-weight: inherit;
            color: inherit;
            width: 100%;
            padding: 0;
        }
        .inline-edit-input:focus {
            background: rgba(99, 102, 241, 0.1);
            border-radius: 6px;
            padding: 2px 6px;
            margin: -2px -6px;
        }

        /* Quantity stepper - compact inline design */
        .qty-stepper {
            display: inline-flex;
            align-items: center;
            background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: inset 0 1px 2px rgba(0,0,0,0.06);
        }
        .dark .qty-stepper {
            background: linear-gradient(135deg, rgba(55, 65, 81, 0.8) 0%, rgba(75, 85, 99, 0.8) 100%);
        }
        .qty-btn {
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1rem;
            transition: all 0.1s ease;
            color: #6b7280;
        }
        .qty-btn:hover { color: #4f46e5; }
        .qty-btn:active { transform: scale(0.9); }
        .qty-value {
            min-width: 24px;
            text-align: center;
            font-weight: 700;
            font-size: 0.875rem;
            padding: 0 2px;
        }

        /* Bottom spacing for sticky bar */
        .main-content-with-sticky { padding-bottom: 90px; }

        /* Confetti */
        @keyframes particleFly {
            0% { transform: translate(0, 0) scale(1); opacity: 1; }
            100% { transform: translate(var(--tx, 50px), var(--ty, -50px)) scale(0); opacity: 0; }
        }
        .confetti-particle { position: absolute; pointer-events: none; animation: particleFly 0.5s ease-out forwards; }

        /* Voice recognition styles */
        @keyframes voicePulse {
            0%, 100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(168, 85, 247, 0.7); }
            50% { transform: scale(1.05); box-shadow: 0 0 0 10px rgba(168, 85, 247, 0); }
        }
        .voice-listening { animation: voicePulse 1.5s ease-in-out infinite; }
        @keyframes soundWave {
            0% { transform: scaleY(0.3); }
            50% { transform: scaleY(1); }
            100% { transform: scaleY(0.3); }
        }
        .sound-wave { display: inline-block; width: 3px; height: 20px; background: currentColor; margin: 0 1px; border-radius: 3px; animation: soundWave 0.5s ease-in-out infinite; }
        .sound-wave:nth-child(2) { animation-delay: 0.1s; }
        .sound-wave:nth-child(3) { animation-delay: 0.2s; }
        .sound-wave:nth-child(4) { animation-delay: 0.3s; }
        .sound-wave:nth-child(5) { animation-delay: 0.4s; }

        /* Accessibility styles */
        .high-contrast { filter: contrast(1.4); }
        .high-contrast * { border-color: #000 !important; }
        .low-contrast { filter: contrast(0.8); }
        .highlight-links a, .highlight-links button { outline: 3px solid #0066cc !important; outline-offset: 2px; }
        .cursor-large-black, .cursor-large-black * { cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24'%3E%3Cpath fill='%23000' d='M4 0l16 12.279-6.78 1.138 4.256 8.676-3.902 1.907-4.256-8.676-5.318 4.676z'/%3E%3C/svg%3E"), auto !important; }
        .cursor-large-white, .cursor-large-white * { cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24'%3E%3Cpath fill='%23fff' stroke='%23000' stroke-width='1' d='M4 0l16 12.279-6.78 1.138 4.256 8.676-3.902 1.907-4.256-8.676-5.318 4.676z'/%3E%3C/svg%3E"), auto !important; }

        /* WCAG 2.4.7 Focus Visible - Enhanced focus indicators */
        *:focus { outline: 3px solid #6366f1 !important; outline-offset: 2px !important; }
        *:focus:not(:focus-visible) { outline: none !important; }
        *:focus-visible { outline: 3px solid #6366f1 !important; outline-offset: 2px !important; box-shadow: 0 0 0 6px rgba(99, 102, 241, 0.3) !important; }
        button:focus-visible, a:focus-visible, input:focus-visible, select:focus-visible, textarea:focus-visible { outline: 3px solid #6366f1 !important; outline-offset: 2px !important; }
        .dark *:focus-visible { outline-color: #818cf8 !important; box-shadow: 0 0 0 6px rgba(129, 140, 248, 0.3) !important; }

        /* Skip link for 2.4.1 Bypass Blocks */
        .skip-link { position: absolute; top: -100px; left: 50%; transform: translateX(-50%); background: #6366f1; color: white; padding: 12px 24px; border-radius: 0 0 8px 8px; z-index: 99999; font-weight: bold; text-decoration: none; transition: top 0.3s; }
        .skip-link:focus { top: 0; }

        /* Screen reader only content */
        .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0, 0, 0, 0); white-space: nowrap; border: 0; }

        /* 2.5.5 Target Size - Minimum 44x44px touch targets */
        .touch-target { min-width: 44px; min-height: 44px; }

        /* Onboarding styles */
        .onboarding-highlight {
            position: relative;
            z-index: 10001;
            box-shadow: 0 0 0 4px #6366f1, 0 0 20px rgba(99, 102, 241, 0.5);
            border-radius: 12px;
        }
    </style>

    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { initializeFirestore, persistentLocalCache, persistentMultipleTabManager, collection, addDoc, updateDoc, deleteDoc, doc, onSnapshot, query, orderBy, getDocs, where, serverTimestamp, arrayUnion, arrayRemove, getDoc, setDoc, enableIndexedDbPersistence } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';
        import {
            getAuth,
            createUserWithEmailAndPassword,
            signInWithEmailAndPassword,
            signOut,
            onAuthStateChanged,
            updateProfile,
            sendPasswordResetEmail
        } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';

        const firebaseConfig = {
            apiKey: "AIzaSyD3pwFMmo4mMjxgzUz5oPynt0D68Yy3Iz0",
            authDomain: "shooping-list-d846b.firebaseapp.com",
            projectId: "shooping-list-d846b",
            storageBucket: "shooping-list-d846b.firebasestorage.app",
            messagingSenderId: "1099114666122",
            appId: "1:1099114666122:web:5c704bf2da52aa3ca63573"
        };

        const app = initializeApp(firebaseConfig);
        // Enable offline persistence with multi-tab support
        window.db = initializeFirestore(app, {
            localCache: persistentLocalCache({
                tabManager: persistentMultipleTabManager()
            })
        });
        window.auth = getAuth(app);
        console.log(' Firestore offline persistence enabled');
        window.firestore = { collection, addDoc, updateDoc, deleteDoc, doc, onSnapshot, query, orderBy, getDocs, where, serverTimestamp, arrayUnion, arrayRemove, getDoc, setDoc };
        window.firebaseAuth = {
            createUserWithEmailAndPassword,
            signInWithEmailAndPassword,
            signOut,
            onAuthStateChanged,
            updateProfile,
            sendPasswordResetEmail
        };

        // ListNest Price Comparison API Service
        // Uses Vercel serverless function + Supabase - FREE!
        window.PriceComparisonAPI = {
            // API URLs - same domain, Vercel serverless
            BASE_URL: '/api/compare',
            SUPABASE_URL: '/api/prices',

            // Get chains from Supabase
            async getChains() {
                try {
                    const response = await fetch(`${this.SUPABASE_URL}?action=chains`);
                    if (!response.ok) throw new Error('API Error');
                    const data = await response.json();
                    return data.chains || [];
                } catch (e) {
                    console.warn('Chains API error:', e);
                    return [];
                }
            },

            // Search for product prices
            async searchProductPrices(productName) {
                try {
                    const response = await fetch(
                        `${this.BASE_URL}?action=search&q=${encodeURIComponent(productName)}`
                    );
                    if (!response.ok) throw new Error('API Error');
                    return await response.json();
                } catch (e) {
                    console.warn('Price API error:', e);
                    return this._fallbackProductSearch(productName);
                }
            },

            // Compare shopping list across chains (tries Supabase first, then local)
            async compareShoppingList(items) {
                // Try Supabase API first
                try {
                    const response = await fetch(`${this.SUPABASE_URL}?action=compare`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ items: items.map(i => ({
                            name: i.name,
                            quantity: i.quantity || 1
                        }))})
                    });
                    if (response.ok) {
                        const data = await response.json();
                        if (data.success && data.chains && data.chains.length > 0) {
                            // Convert Supabase format to expected format
                            return {
                                comparison: data.chains.map(c => ({
                                    chain_id: c.id,
                                    chain_name: c.name,
                                    chain_name_he: c.name_he,
                                    total: c.total,
                                    items_found: c.itemsFound,
                                    items: c.items
                                })),
                                cheapest_chain: data.cheapest ? {
                                    name: data.cheapest.name_he,
                                    total: data.cheapest.total
                                } : null,
                                savings: data.savings,
                                source: 'supabase'
                            };
                        }
                    }
                } catch (e) {
                    console.warn('Supabase API error, trying local:', e);
                }

                // Fallback to local API
                try {
                    const response = await fetch(`${this.BASE_URL}?action=compare`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ items: items.map(i => ({
                            name: i.name,
                            quantity: i.quantity || 1
                        }))})
                    });
                    if (!response.ok) throw new Error('API Error');
                    return await response.json();
                } catch (e) {
                    console.warn('Price API error:', e);
                    return this._fallbackListComparison(items);
                }
            },

            // Optimize basket for minimum cost
            async optimizeBasket(items, maxChains = 2, strategy = 'optimal') {
                try {
                    const response = await fetch(`${this.BASE_URL}?action=optimize`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            items: items.map(i => ({
                                name: i.name,
                                quantity: i.quantity || 1
                            })),
                            max_chains: maxChains,
                            strategy: strategy
                        })
                    });
                    if (!response.ok) throw new Error('API Error');
                    return await response.json();
                } catch (e) {
                    console.warn('Price API error:', e);
                    return this._fallbackOptimization(items);
                }
            },

            // Fallback: Generate supermarket search URLs
            _fallbackProductSearch(productName) {
                const encoded = encodeURIComponent(productName);
                return {
                    fallback: true,
                    product: { name: productName },
                    prices: [
                        { chain_name_he: '砖驻专住', price: null, url: `https://www.shufersal.co.il/online/he/search?text=${encoded}` },
                        { chain_name_he: '专 ', price: null, url: `https://www.rami-levy.co.il/he/online/search?q=${encoded}` },
                        { chain_name_he: '拽专', price: null, url: `https://www.victoryonline.co.il/search?q=${encoded}` },
                        { chain_name_he: '转 转', price: null, url: `https://www.ybitan.co.il/search?q=${encoded}` },
                        { chain_name_he: '爪 ', price: null, url: `https://shop.hazi-hinam.co.il/search?q=${encoded}` }
                    ]
                };
            },

            _fallbackListComparison(items) {
                const chains = [
                    { id: 1, name: '砖驻专住', color: '#dc2626', url: 'https://www.shufersal.co.il' },
                    { id: 2, name: '专 ', color: '#2563eb', url: 'https://www.rami-levy.co.il' },
                    { id: 3, name: '拽专', color: '#ea580c', url: 'https://www.victoryonline.co.il' },
                    { id: 4, name: '转 转', color: '#7c3aed', url: 'https://www.ybitan.co.il' },
                    { id: 5, name: '爪 ', color: '#16a34a', url: 'https://shop.hazi-hinam.co.il' }
                ];
                return {
                    fallback: true,
                    comparison: chains.map(c => ({
                        chain_id: c.id,
                        chain_name_he: c.name,
                        color: c.color,
                        url: c.url,
                        total: null,
                        items_found: 0
                    })),
                    items_analyzed: items.length,
                    message: ' 转 砖转 专注'
                };
            },

            _fallbackOptimization(items) {
                return {
                    fallback: true,
                    strategy: 'fallback',
                    message: ' 转 注 专注',
                    shopping_plan: []
                };
            }
        };
    </script>
</head>
<body>
    <!-- WCAG 2.4.1 Skip Link -->
    <a href="#main-content" class="skip-link"> 转 专砖</a>

    <!-- WCAG 4.1.3 Status Messages - Live Region for announcements -->
    <div id="aria-live-region" aria-live="polite" aria-atomic="true" class="sr-only"></div>
    <div id="aria-live-assertive" aria-live="assertive" aria-atomic="true" class="sr-only"></div>

    <!-- Loading skeleton - shows instantly while React loads -->
    <div id="loading-skeleton" style="position:fixed;inset:0;z-index:99999;min-height:100vh;background:linear-gradient(135deg,#F97316 0%,#FB923C 50%,#FBBF24 100%);display:flex;flex-direction:column;align-items:center;justify-content:center;font-family:Heebo,sans-serif;direction:rtl;">
        <style>
            @keyframes pulse{0%,100%{opacity:1}50%{opacity:0.5}}
            @keyframes spin{to{transform:rotate(360deg)}}
            .skeleton-pulse{animation:pulse 1.5s ease-in-out infinite}
            .skeleton-spin{animation:spin 1s linear infinite}
        </style>
        <div style="text-align:center;color:white;">
            <div style="font-size:80px;margin-bottom:16px;" class="skeleton-pulse"></div>
            <h1 style="font-size:32px;font-weight:700;margin:0 0 8px 0;">ListNest</h1>
            <p style="font-size:16px;opacity:0.9;margin:0 0 24px 0;">专砖转 拽转  砖</p>
            <div style="width:48px;height:48px;border:3px solid rgba(255,255,255,0.3);border-top-color:white;border-radius:50%;margin:0 auto;" class="skeleton-spin"></div>
            <p style="font-size:14px;opacity:0.7;margin-top:16px;">注...</p>
        </div>
    </div>
    <div id="root"></div>
    <script>
        // Global error handler for debugging
        window.onerror = function(msg, url, lineNo, columnNo, error) {
            document.getElementById('root').innerHTML = '<div style="padding:20px;direction:rtl;font-family:Heebo,sans-serif;"><h2 style="color:red;">砖:</h2><pre style="background:#f5f5f5;padding:10px;overflow:auto;font-size:12px;">' + msg + '\nLine: ' + lineNo + '</pre><button onclick="location.reload()" style="padding:10px 20px;margin-top:10px;">住 砖</button></div>';
            return false;
        };
    </script>
    <script type="text/babel">
        const { useState, useEffect, createContext, useContext } = React;

        // Auth Context
        const AuthContext = createContext(null);

        function AuthProvider({ children }) {
            const [user, setUser] = useState(null);
            const [loading, setLoading] = useState(true);

            useEffect(() => {
                const unsubscribe = window.firebaseAuth.onAuthStateChanged(window.auth, (user) => {
                    setUser(user);
                    setLoading(false);
                });
                return () => unsubscribe();
            }, []);

            const value = { user, loading };
            return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;
        }

        function useAuth() {
            return useContext(AuthContext);
        }

        // Multi-language Support
        const TRANSLATIONS = {
            he: {
                // App name & general
                appName: 'ListNest',
                loading: '注...',
                save: '砖专',
                cancel: '',
                delete: '拽',
                edit: '注专',
                close: '住专',
                back: '专',
                yes: '',
                no: '',
                search: '驻砖',
                add: '住祝',
                remove: '住专',
                // Auth
                welcome: '专 ',
                login: '转专转',
                register: '专砖',
                logout: '转转拽',
                email: '',
                password: '住住',
                confirmPassword: '转 住住',
                fullName: '砖 ',
                forgotPassword: '砖转 住住',
                resetPassword: '驻住 住住',
                sendResetLink: '砖 拽砖专 驻住',
                noAccount: '  砖?',
                haveAccount: '砖  砖?',
                registerNow: '专砖 注砖',
                loginNow: '转专 注砖',
                orContinueWith: ' 砖 注',
                // Family
                family: '砖驻',
                createFamily: '爪专 砖驻 砖',
                joinFamily: '爪专祝 砖驻 拽转',
                familyName: '砖 砖驻',
                familyCode: '拽 砖驻',
                inviteCode: '拽 ',
                shareCode: '砖转祝 转 拽 注  砖驻 爪专驻转',
                familyMembers: '专 砖驻',
                leaveFamily: '注 砖驻',
                deleteFamily: '拽 砖驻',
                removeMember: '住专 专',
                shareWithFamily: '砖转祝 注 砖驻',
                shareOptions: '驻砖专转 砖转祝',
                copyLink: '注转拽 拽砖专',
                scanQR: '住专拽 转 拽  砖转驻  专 砖 ',
                // Roles
                selectRole: '转驻拽 砖 砖驻',
                father: '',
                mother: '',
                child: '/',
                admin: '',
                limited: '',
                childPermissions: '  住祝 住 爪专,   注专 转 砖驻',
                // Shopping
                shoppingList: '专砖转 拽转',
                addProduct: '住祝 爪专',
                searchProduct: '驻砖 爪专',
                noItems: '专砖 专拽',
                addItemsHint: '住祝 爪专 砖专转 驻砖 ',
                markAsPurchased: '住 拽',
                purchased: '拽',
                notPurchased: ' 拽',
                quantity: '转',
                unit: '',
                note: '注专',
                addNote: '住祝 注专',
                selectAction: '专 驻注',
                postpone: ' 住祝',
                // Categories
                categories: '拽专转',
                backToCategories: '专 拽专转',
                allProducts: ' 爪专',
                // Lists
                lists: '专砖转',
                newList: '专砖 砖',
                savedLists: '专砖转 砖专转',
                saveList: '砖专 专砖',
                loadList: '注 注',
                noSavedLists: ' 专砖转 砖专转',
                // Shopping mode
                shoppingMode: '爪 拽转',
                shoppingModeActive: '爪 拽转 驻注 - 住  ',
                enableShoppingMode: '驻注 爪 拽转',
                // Finish shopping
                finishShopping: '住 拽',
                totalAmount: '住 ',
                uploadReceipt: '注 拽',
                // History
                history: '住专',
                shoppingHistory: '住专转 拽转',
                // Chat
                familyChat: '爪\' 砖驻转',
                newMessages: '注转 砖转',
                typeMessage: '转 注...',
                send: '砖',
                // Scanning
                scanRecipe: '住专拽转 转',
                scanProduct: '住专拽 爪专',
                takePhoto: '爪',
                scanning: '住专拽...',
                identifiedIngredients: '专 砖',
                addToCart: '住祝 注',
                // Voice
                voiceInput: '拽 拽转',
                startRecording: '转 拽 拽转 住驻转 爪专',
                stopRecording: '驻住拽 拽',
                listening: '...',
                // Settings
                settings: '专转',
                darkMode: '爪 ',
                lightMode: '爪 专',
                language: '砖驻',
                // Help
                help: '注专',
                helpTitle: '注专 砖',
                howToUse: ' 砖转砖 驻拽爪',
                howToUseDesc1: '专 拽专 抓 注 爪专 住驻 专砖',
                howToUseDesc2: '拽 砖 注 爪专 住 "拽"',
                howToUseDesc3: '拽   住祝 专砖',
                howToUseDesc4: '砖转砖 驻砖 爪转 爪专 专',
                familySharing: '砖转祝 注 砖驻',
                familySharingDesc1: '爪专 砖驻 砖转祝 转 拽 注  砖驻',
                familySharingDesc2: ' 砖 转注  转  砖驻',
                familySharingDesc3: '砖转砖 爪\' 砖驻转 转拽砖专转',
                smartScanning: '住专拽 ',
                smartScanningDesc1: '住专拽 转 住祝 专 转',
                smartScanningDesc2: '住专拽 爪专 砖转 专',
                sendFeedback: '砖 砖',
                showTutorial: '爪 专 砖',
                // Feedback
                feedback: '砖',
                feedbackType: '住 砖',
                bugReport: ' 注 注',
                featureRequest: '拽砖转 驻爪\'专',
                generalFeedback: '砖 ',
                feedbackMessage: '注 砖',
                sending: '砖...',
                // Accessibility
                accessibility: '砖转',
                accessibilitySettings: '专转 砖转',
                fontSize: ' 拽住',
                normal: '专',
                large: '',
                extraLarge: ' ',
                contrast: '转',
                highContrast: '转 ',
                highlightLinks: '砖 拽砖专',
                cursorSize: ' 住',
                skipToContent: ' 转 专砖',
                accessibilityStatement: '爪专转 砖转',
                // Onboarding
                welcomeTo: '专  ',
                onboardingDesc: '驻拽爪   专砖转 拽转 砖驻转转',
                getStarted: ' 转!',
                next: '',
                skip: '',
                done: '住',
                addingProducts: '住驻转 爪专',
                addingProductsDesc: '专 拽专 爪 注 爪专 住驻,  驻砖 爪专 砖专转 驻砖',
                managingList: ' 专砖',
                managingListDesc: '拽 砖 住 拽,  . 爪 注 驻转专  驻 拽转.',
                familySharingTitle: '砖转祝 砖驻转',
                familySharingOnboardDesc: '砖转驻 转 拽 砖驻  砖转砖 -QR/WhatsApp. 专 转驻拽: 专 ()   ().',
                readyToShop: ' 拽转!',
                readyToShopDesc: '注砖 转  转. 砖转砖  驻爪\'专 驻 转 拽转  砖驻转转!',
                // Notifications
                productAdded: '爪专 住祝 专砖',
                addedBy: '住祝/',
                // Errors
                error: '砖',
                tryAgain: '住 砖',
                invalidEmail: '  转拽',
                passwordTooShort: '住住 转  驻转 6 转',
                passwordsNoMatch: '住住转  转转',
                codeNotFound: '拽  爪',
                alreadyMember: '专 专 砖驻 ',
                selectRoleError: ' 专 转驻拽 砖驻',
                enterFamilyName: '  砖 砖驻',
                enterCode: '  拽  6 转',
                // Additional UI strings
                sent: '砖!',
                resetLinkSent: '拽砖专 驻住 住住 砖 -',
                checkSpam: '拽  转拽转 住驻',
                backToLogin: '专 转专转',
                enterEmailForReset: ' 转 转转  砖 砖  拽砖专 驻住',
                displayName: '砖 转爪',
                displayNamePlaceholder: '砖 砖爪 驻拽爪',
                minChars: '驻转 6 转',
                reenterPassword: ' 砖 转 住住',
                enterDisplayName: '  砖 转爪',
                smartShoppingList: '专砖转 拽转  砖',
                // Main app UI
                recipes: '转',
                whatsapp: 'WhatsApp',
                importList: ' 专砖',
                exportList: '爪 专砖',
                deleteAll: '拽 ',
                whatForgot: ' 砖转?',
                calendar: ' 砖',
                shoppingProgress: '转拽转 拽',
                itemsPurchased: '驻专 拽',
                markPurchased: '住 爪专 砖拽转',
                allPurchased: ' 爪专 拽!',
                purchases: '拽转',
                deleteAllTitle: '拽转  专砖',
                deleteAllConfirm: ' 转  砖专爪 拽 转  爪专?',
                deleteAllWarning: '驻注  转拽 {count} 爪专  转 !',
                deleteProduct: '拽转 爪专',
                deleteProductConfirm: ' 转  砖专爪 拽 爪专 ?',
                addProductPlaceholder: '住祝 爪专...',
                // Categories
                fruitsVeg: '驻专转 专拽转',
                dairyProducts: '爪专 ',
                dairyDesserts: '注 ',
                meat: '砖专',
                fish: '',
                deli: '注转 拽拽',
                breadBakery: ' 驻',
                spreads: '专',
                bakingProducts: '爪专 驻',
                cereals: ' 拽专驻拽住',
                cannedDry: '砖专  砖',
                spices: '转 砖',
                coffeeTea: '拽驻 转',
                drinks: '砖拽转 拽',
                wineAlcohol: ' ',
                snacks: '驻 转拽',
                frozen: '拽驻',
                dietProtein: ' ',
                hygiene: ' 专爪',
                cleaning: '拽',
                candlesOil: '专转',
                babyKids: '转拽转 ',
                pets: '转 ',
                readySalads: '住 ',
                // More UI strings
                searchAddProduct: '住祝 爪专...',
                emptyList: '专砖 专拽',
                addProductsBelow: '住祝 爪专 砖专转 驻砖 ',
                familyNameExample: ': 砖驻转 ',
                listNameExample: ': 拽转 砖转',
                noteExample: ': 转 住, 祝 注...',
                importExample: '\n爪 x2\n3 \n, ',
                productSearchExample: ':  转, 拽壮, ...',
                tagExample: ': 专,  , 专...',
                typeMessage: '拽 注...',
                recipeNameExample: '砖 转 (砖: 注转 砖拽)',
                ingredientsExample: '专砖转 专 ( 专 砖专 砖)',
                feedbackPlaceholder: '住驻专   拽专   转专爪 专转...',
                priceComparison: '砖转 专',
                familySettings: '专转 砖驻',
                createNewFamily: '爪专 砖驻 砖',
                joinExistingFamily: '爪专祝 砖驻 拽转',
                familyChat: '爪\' 砖驻转',
                savedLists: '专砖转 砖专转',
                noSavedLists: ' 专砖转 砖专转',
                loadToCart: '注 注',
                bought: '拽',
                later: '状',
                addToList: '住祝 专砖',
                removeFromList: '住专 专砖',
                selectCategory: '专 拽专',
                allCategories: ' 拽专转',
                scanRecipe: '住专拽转 转',
                scanProduct: '住专拽 爪专',
                voiceInput: '拽 拽转',
                importFromWhatsapp: ' 住驻',
                regularItems: '爪专 拽注',
                forgottenItems: '爪专 砖砖',
                shoppingStreak: '专爪祝 拽转',
                darkMode: '爪 ',
                lightMode: '爪 专',
                language: '砖驻',
                accessibilitySettings: '专转 砖转',
                helpAndFeedback: '注专 砖',
                showTutorial: '爪 专',
                logoutButton: '转转拽转',
                total: '住"',
                items: '驻专',
                share: '砖转祝',
                copy: '注转拽',
                copied: '注转拽!',
                send: '砖',
                confirm: '砖专',
                selectAll: '专 ',
                clearAll: '拽 ',
                noProductsFound: ' 爪 爪专 转',
                tryAnotherSearch: '住 驻砖 专  专 拽专',
                noRecipesSaved: ' 转 砖专',
                addFirstRecipe: '住祝 转 专砖',
                noHistoryYet: ' 住专 注',
                completeFirstShopping: '住 拽 专砖 专转 住住拽',
                // Templates
                templates: '转转',
                saveAsTemplate: '砖专 转转',
                myTemplates: '转转 砖',
                noTemplatesSaved: ' 转转 砖专转 注. 砖专 专砖 转转 砖砖 专!',
                templateNamePlaceholder: '砖 转转 (: 拽转 砖注转)',
                itemsWillBeSaved: '砖专 {count} 驻专  住',
                myList: '专砖 砖',
                // Status labels
                postponedStatus: '',
                outOfStockStatus: '',
                // Price estimation
                estimatedTotal: '住状 砖注专',
                itemsWithPrice: '驻专 注 专',
                of: '转',
                priceDisclaimer: '* 专 砖注专  注砖 砖转转',
                undoPostpone: '专 专砖',
                deleteItem: '拽 驻专',
                addPrice: '住祝 专 砖注专'
            },
            en: {
                // App name & general
                appName: 'Smart Family Shopping List',
                loading: 'Loading...',
                save: 'Save',
                cancel: 'Cancel',
                delete: 'Delete',
                edit: 'Edit',
                close: 'Close',
                back: 'Back',
                yes: 'Yes',
                no: 'No',
                search: 'Search',
                add: 'Add',
                remove: 'Remove',
                // Auth
                welcome: 'Welcome',
                login: 'Login',
                register: 'Register',
                logout: 'Logout',
                email: 'Email',
                password: 'Password',
                confirmPassword: 'Confirm Password',
                fullName: 'Full Name',
                forgotPassword: 'Forgot Password?',
                resetPassword: 'Reset Password',
                sendResetLink: 'Send Reset Link',
                noAccount: "Don't have an account?",
                haveAccount: 'Already have an account?',
                registerNow: 'Register Now',
                loginNow: 'Login Now',
                orContinueWith: 'Or continue with',
                // Family
                family: 'Family',
                createFamily: 'Create New Family',
                joinFamily: 'Join Existing Family',
                familyName: 'Family Name',
                familyCode: 'Family Code',
                inviteCode: 'Invite Code',
                shareCode: 'Share this code with family members to join',
                familyMembers: 'Family Members',
                leaveFamily: 'Leave Family',
                deleteFamily: 'Delete Family',
                removeMember: 'Remove Member',
                shareWithFamily: 'Share with Family',
                shareOptions: 'Share Options',
                copyLink: 'Copy Link',
                scanQR: 'Scan the code or share via any method you prefer',
                // Roles
                selectRole: 'Your role in the family',
                father: 'Father',
                mother: 'Mother',
                child: 'Child',
                admin: 'Admin',
                limited: 'Limited',
                childPermissions: 'Children can add and mark products, but cannot edit family settings',
                // Shopping
                shoppingList: 'Shopping List',
                addProduct: 'Add Product',
                searchProduct: 'Search Product',
                noItems: 'List is empty',
                addItemsHint: 'Add items using the search bar below',
                markAsPurchased: 'Mark as Purchased',
                purchased: 'Purchased',
                notPurchased: 'Not Purchased',
                quantity: 'Quantity',
                unit: 'Unit',
                note: 'Note',
                addNote: 'Add Note',
                selectAction: 'Select action',
                postpone: 'Move to End',
                // Categories
                categories: 'Categories',
                backToCategories: 'Back to Categories',
                allProducts: 'All Products',
                // Lists
                lists: 'Lists',
                newList: 'New List',
                savedLists: 'Saved Lists',
                saveList: 'Save List',
                loadList: 'Load to Cart',
                noSavedLists: 'No saved lists',
                // Shopping mode
                shoppingMode: 'Shopping Mode',
                shoppingModeActive: 'Shopping mode active - screen stays on',
                enableShoppingMode: 'Enable Shopping Mode',
                // Finish shopping
                finishShopping: 'Finish Shopping',
                totalAmount: 'Total Amount',
                uploadReceipt: 'Upload Receipt',
                // History
                history: 'History',
                shoppingHistory: 'Shopping History',
                // Chat
                familyChat: 'Family Chat',
                newMessages: 'New Messages',
                typeMessage: 'Type a message...',
                send: 'Send',
                // Scanning
                scanRecipe: 'Scan Recipe',
                scanProduct: 'Scan Product',
                takePhoto: 'Take Photo',
                scanning: 'Scanning...',
                identifiedIngredients: 'Identified Ingredients',
                addToCart: 'Add to Cart',
                // Voice
                voiceInput: 'Voice Input',
                startRecording: 'Start voice recording to add products',
                stopRecording: 'Stop Recording',
                listening: 'Listening...',
                // Settings
                settings: 'Settings',
                darkMode: 'Dark Mode',
                lightMode: 'Light Mode',
                language: 'Language',
                // Help
                help: 'Help',
                helpTitle: 'Help & Feedback',
                howToUse: 'How to use the app',
                howToUseDesc1: 'Select a category and tap a product to add to list',
                howToUseDesc2: 'Swipe left on a product to mark as "purchased"',
                howToUseDesc3: 'Swipe right to move to end of list',
                howToUseDesc4: 'Use search to quickly find products',
                familySharing: 'Family Sharing',
                familySharingDesc1: 'Create a family and share the code with members',
                familySharingDesc2: 'All changes sync in real-time for all family',
                familySharingDesc3: 'Use family chat for communication',
                smartScanning: 'Smart Scanning',
                smartScanningDesc1: 'Scan a recipe to auto-add ingredients',
                smartScanningDesc2: 'Scan a product for price comparison',
                sendFeedback: 'Send Feedback',
                showTutorial: 'Show Tutorial Again',
                // Feedback
                feedback: 'Feedback',
                feedbackType: 'Feedback Type',
                bugReport: 'Bug Report',
                featureRequest: 'Feature Request',
                generalFeedback: 'General Feedback',
                feedbackMessage: 'Your Message',
                sending: 'Sending...',
                // Accessibility
                accessibility: 'Accessibility',
                accessibilitySettings: 'Accessibility Settings',
                fontSize: 'Font Size',
                normal: 'Normal',
                large: 'Large',
                extraLarge: 'Extra Large',
                contrast: 'Contrast',
                highContrast: 'High Contrast',
                highlightLinks: 'Highlight Links',
                cursorSize: 'Cursor Size',
                skipToContent: 'Skip to main content',
                accessibilityStatement: 'Accessibility Statement',
                // Onboarding
                welcomeTo: 'Welcome to',
                onboardingDesc: 'The smart app for managing family shopping lists',
                getStarted: "Let's get started!",
                next: 'Next',
                skip: 'Skip',
                done: 'Done',
                addingProducts: 'Adding Products',
                addingProductsDesc: 'Choose a category and tap a product to add, or search in the search bar',
                managingList: 'Managing the List',
                managingListDesc: 'Swipe left to mark purchased, right to postpone. Use the postpone button for keyboard alternative.',
                familySharingTitle: 'Family Sharing',
                familySharingOnboardDesc: 'Share family code or use QR/WhatsApp. Choose role: parent (admin) or child (limited).',
                readyToShop: 'Ready to Shop!',
                readyToShopDesc: "You're all set! Use all features and make shopping a family experience!",
                // Notifications
                productAdded: 'Product added to list',
                addedBy: 'Added by',
                // Errors
                error: 'Error',
                tryAgain: 'Try Again',
                invalidEmail: 'Invalid email',
                passwordTooShort: 'Password must be at least 6 characters',
                passwordsNoMatch: 'Passwords do not match',
                codeNotFound: 'Code not found',
                alreadyMember: 'Already a member of this family',
                selectRoleError: 'Please select a family role',
                enterFamilyName: 'Please enter a family name',
                enterCode: 'Please enter a 6-character code',
                // Additional UI strings
                sent: 'Sent!',
                resetLinkSent: 'Password reset link sent to',
                checkSpam: 'Check your spam folder too',
                backToLogin: 'Back to login',
                enterEmailForReset: 'Enter your email and we will send you a reset link',
                displayName: 'Display Name',
                displayNamePlaceholder: 'Name shown in app',
                minChars: 'At least 6 characters',
                reenterPassword: 'Re-enter password',
                enterDisplayName: 'Please enter a display name',
                smartShoppingList: 'Your smart shopping list',
                // Main app UI
                recipes: 'Recipes',
                whatsapp: 'WhatsApp',
                importList: 'Import List',
                exportList: 'Export List',
                deleteAll: 'Delete All',
                whatForgot: 'What did I forget?',
                calendar: 'Calendar',
                shoppingProgress: 'Shopping Progress',
                itemsPurchased: 'items purchased',
                markPurchased: 'Mark items as purchased',
                allPurchased: 'All items purchased!',
                purchases: 'purchases',
                deleteAllTitle: 'Delete All Items',
                deleteAllConfirm: 'Are you sure you want to delete all items?',
                deleteAllWarning: 'This will delete {count} items and cannot be undone!',
                deleteProduct: 'Delete Product',
                deleteProductConfirm: 'Are you sure you want to delete this product?',
                addProductPlaceholder: 'Add product...',
                // Categories
                fruitsVeg: 'Fruits & Vegetables',
                dairyProducts: 'Dairy',
                dairyDesserts: 'Dairy Desserts',
                meat: 'Meat',
                fish: 'Fish',
                deli: 'Deli Sausages',
                breadBakery: 'Bread & Bakery',
                spreads: 'Spreads',
                bakingProducts: 'Baking Products',
                cereals: 'Cereals',
                cannedDry: 'Canned & Dry Foods',
                spices: 'Spices & Cooking',
                coffeeTea: 'Coffee & Tea',
                drinks: 'Soft Drinks',
                wineAlcohol: 'Wine & Alcohol',
                snacks: 'Snacks & Candy',
                frozen: 'Frozen',
                dietProtein: 'Diet & Protein',
                hygiene: 'Hygiene & Bath',
                cleaning: 'Cleaning',
                candlesOil: 'Candles',
                babyKids: 'Baby & Kids',
                pets: 'Pets',
                readySalads: 'Ready Salads',
                // More UI strings
                searchAddProduct: 'Add product...',
                emptyList: 'List is empty',
                addProductsBelow: 'Add products using the search bar below',
                familyNameExample: 'e.g., The Smith Family',
                listNameExample: 'e.g., Weekend Shopping',
                noteExample: 'e.g., Specific brand, top shelf...',
                importExample: 'Milk\nEggs x2\n3 Bread\nCheese, Butter',
                productSearchExample: 'e.g., milk, cottage cheese, chips...',
                tagExample: 'e.g., Fresh, Gluten-free, Organic...',
                typeMessage: 'Type a message...',
                recipeNameExample: 'Recipe name (e.g., Chocolate Cake)',
                ingredientsExample: 'Ingredient list (each on a new line)',
                feedbackPlaceholder: 'Tell us what happened or what you\'d like to see...',
                priceComparison: 'Price Comparison',
                familySettings: 'Family Settings',
                createNewFamily: 'Create New Family',
                joinExistingFamily: 'Join Existing Family',
                familyChat: 'Family Chat',
                savedLists: 'Saved Lists',
                noSavedLists: 'No saved lists',
                loadToCart: 'Load to Cart',
                bought: 'Bought',
                later: 'Later',
                addToList: 'Add to List',
                removeFromList: 'Remove from List',
                selectCategory: 'Select Category',
                allCategories: 'All Categories',
                scanRecipe: 'Scan Recipe',
                scanProduct: 'Scan Product',
                voiceInput: 'Voice Input',
                importFromWhatsapp: 'Import from WhatsApp',
                regularItems: 'Regular Items',
                forgottenItems: 'Forgotten Items',
                shoppingStreak: 'Shopping Streak',
                darkMode: 'Dark Mode',
                lightMode: 'Light Mode',
                language: 'Language',
                accessibilitySettings: 'Accessibility Settings',
                helpAndFeedback: 'Help & Feedback',
                showTutorial: 'Show Tutorial',
                logoutButton: 'Logout',
                total: 'Total',
                items: 'items',
                share: 'Share',
                copy: 'Copy',
                copied: 'Copied!',
                send: 'Send',
                confirm: 'Confirm',
                selectAll: 'Select All',
                clearAll: 'Clear All',
                noProductsFound: 'No products found matching',
                tryAnotherSearch: 'Try another search or select a category',
                noRecipesSaved: 'No recipes saved',
                addFirstRecipe: 'Add first recipe',
                noHistoryYet: 'No history yet',
                completeFirstShopping: 'Complete your first shopping to see statistics',
                // Templates
                templates: 'Templates',
                saveAsTemplate: 'Save as Template',
                myTemplates: 'My Templates',
                noTemplatesSaved: 'No templates saved yet. Save a list as a template for reuse!',
                templateNamePlaceholder: 'Template name (e.g., Weekly Shopping)',
                itemsWillBeSaved: '{count} unchecked items will be saved',
                myList: 'My List',
                // Status labels
                postponedStatus: 'Postponed',
                outOfStockStatus: 'Out of stock',
                // Price estimation
                estimatedTotal: 'Estimated Total',
                itemsWithPrice: 'items with price',
                of: 'of',
                priceDisclaimer: '* Prices are estimates only and may vary',
                undoPostpone: 'Return to List',
                deleteItem: 'Delete Item',
                addPrice: 'Add Estimated Price'
            },
            ru: {
                // App name & general
                appName: '校屑薪泄 械屑械泄薪泄 锌懈芯泻 锌芯泻锌芯泻',
                loading: '邪谐蟹泻邪...',
                save: '小芯邪薪懈',
                cancel: '屑械薪邪',
                delete: '校写邪谢懈',
                edit: '蟹屑械薪懈',
                close: '邪泻',
                back: '邪蟹邪写',
                yes: '邪',
                no: '械',
                search: '芯懈泻',
                add: '芯斜邪胁懈',
                remove: '校写邪谢懈',
                // Auth
                welcome: '芯斜芯 锌芯卸邪谢芯胁邪',
                login: '芯写',
                register: '械谐懈邪懈',
                logout: '泄懈',
                email: '协谢械泻芯薪薪邪 锌芯邪',
                password: '邪芯谢',
                confirmPassword: '芯写胁械卸写械薪懈械 锌邪芯谢',
                fullName: '芯谢薪芯械 懈屑',
                forgotPassword: '邪斜谢懈 锌邪芯谢?',
                resetPassword: '小斜芯 锌邪芯谢',
                sendResetLink: '锌邪胁懈 谢泻 写谢 斜芯邪',
                noAccount: '械 邪泻泻邪薪邪?',
                haveAccount: '校卸械 械 邪泻泻邪薪?',
                registerNow: '邪械谐懈懈芯胁邪',
                loginNow: '芯泄懈',
                orContinueWith: '谢懈 锌芯写芯谢卸懈 ',
                // Family
                family: '小械屑',
                createFamily: '小芯蟹写邪 薪芯胁 械屑',
                joinFamily: '懈芯械写懈薪懈 泻 械屑械',
                familyName: '邪蟹胁邪薪懈械 械屑懈',
                familyCode: '芯写 械屑懈',
                inviteCode: '芯写 锌懈谐谢邪械薪懈',
                shareCode: '芯写械谢懈械 懈屑 泻芯写芯屑  谢械薪邪屑懈 械屑懈',
                familyMembers: '效谢械薪 械屑懈',
                leaveFamily: '芯泻懈薪 械屑',
                deleteFamily: '校写邪谢懈 械屑',
                removeMember: '校写邪谢懈 邪薪懈泻邪',
                shareWithFamily: '芯写械谢懈  械屑泄',
                shareOptions: '邪懈邪薪 芯锌邪胁泻懈',
                copyLink: '芯锌懈芯胁邪 谢泻',
                scanQR: '泻邪薪懈泄械 泻芯写 懈谢懈 锌芯写械谢懈械 写芯斜薪屑 锌芯芯斜芯屑',
                // Roles
                selectRole: '邪邪 芯谢 胁 械屑械',
                father: '邪锌邪',
                mother: '邪屑邪',
                child: '械斜薪芯泻',
                admin: '写屑懈薪懈邪芯',
                limited: '谐邪薪懈械薪芯',
                childPermissions: '械懈 屑芯谐 写芯斜邪胁谢 懈 芯屑械邪 芯胁邪, 薪芯 薪械 屑芯谐 械写邪泻懈芯胁邪 薪邪芯泄泻懈 械屑懈',
                // Shopping
                shoppingList: '小锌懈芯泻 锌芯泻锌芯泻',
                addProduct: '芯斜邪胁懈 芯胁邪',
                searchProduct: '芯懈泻 芯胁邪邪',
                noItems: '小锌懈芯泻 锌',
                addItemsHint: '芯斜邪胁械 芯胁邪 械械蟹 芯泻 锌芯懈泻邪 薪懈卸械',
                markAsPurchased: '屑械懈 泻邪泻 泻锌谢械薪薪芯械',
                purchased: '锌谢械薪芯',
                notPurchased: '械 泻锌谢械薪芯',
                quantity: '芯谢懈械胁芯',
                unit: '写懈薪懈邪',
                note: '邪屑械泻邪',
                addNote: '芯斜邪胁懈 蟹邪屑械泻',
                selectAction: '斜械懈械 写械泄胁懈械',
                postpone: ' 泻芯薪械 锌懈泻邪',
                // Categories
                categories: '邪械谐芯懈懈',
                backToCategories: ' 泻邪械谐芯懈屑',
                allProducts: '械 芯胁邪',
                // Lists
                lists: '小锌懈泻懈',
                newList: '芯胁泄 锌懈芯泻',
                savedLists: '小芯邪薪薪薪械 锌懈泻懈',
                saveList: '小芯邪薪懈 锌懈芯泻',
                loadList: '邪谐蟹懈 胁 泻芯蟹懈薪',
                noSavedLists: '械 芯邪薪薪薪 锌懈泻芯胁',
                // Shopping mode
                shoppingMode: '械卸懈屑 锌芯泻锌芯泻',
                shoppingModeActive: '械卸懈屑 锌芯泻锌芯泻 邪泻懈胁械薪 - 泻邪薪 薪械 胁泻谢懈',
                enableShoppingMode: '泻谢懈 械卸懈屑 锌芯泻锌芯泻',
                // Finish shopping
                finishShopping: '邪胁械懈 锌芯泻锌泻懈',
                totalAmount: '斜邪 屑屑邪',
                uploadReceipt: '邪谐蟹懈 械泻',
                // History
                history: '芯懈',
                shoppingHistory: '芯懈 锌芯泻锌芯泻',
                // Chat
                familyChat: '小械屑械泄薪泄 邪',
                newMessages: '芯胁械 芯芯斜械薪懈',
                typeMessage: '胁械写懈械 芯芯斜械薪懈械...',
                send: '锌邪胁懈',
                // Scanning
                scanRecipe: '小泻邪薪懈芯胁邪 械械锌',
                scanProduct: '小泻邪薪懈芯胁邪 芯胁邪',
                takePhoto: '小写械谢邪 芯芯',
                scanning: '小泻邪薪懈芯胁邪薪懈械...',
                identifiedIngredients: '邪锌芯蟹薪邪薪薪械 懈薪谐械写懈械薪',
                addToCart: ' 泻芯蟹懈薪',
                // Voice
                voiceInput: '芯谢芯芯胁芯泄 胁胁芯写',
                startRecording: '邪邪 蟹邪锌懈 写谢 写芯斜邪胁谢械薪懈 芯胁邪芯胁',
                stopRecording: '邪薪芯胁懈 蟹邪锌懈',
                listening: '小谢邪...',
                // Settings
                settings: '邪芯泄泻懈',
                darkMode: '孝屑薪泄 械卸懈屑',
                lightMode: '小胁械谢泄 械卸懈屑',
                language: '携蟹泻',
                // Help
                help: '芯屑芯',
                helpTitle: '芯屑芯 懈 芯蟹胁',
                howToUse: '邪泻 锌芯谢蟹芯胁邪 锌懈谢芯卸械薪懈械屑',
                howToUseDesc1: '斜械懈械 泻邪械谐芯懈 懈 薪邪卸屑懈械 薪邪 芯胁邪 写谢 写芯斜邪胁谢械薪懈',
                howToUseDesc2: '芯胁械写懈械 胁谢械胁芯 锌芯 芯胁邪 写谢 芯屑械泻懈 "泻锌谢械薪芯"',
                howToUseDesc3: '芯胁械写懈械 胁锌邪胁芯 写谢 锌械械屑械械薪懈 胁 泻芯薪械 锌懈泻邪',
                howToUseDesc4: '锌芯谢蟹泄械 锌芯懈泻 写谢 斜芯谐芯 锌芯懈泻邪 芯胁邪芯胁',
                familySharing: '小械屑械泄薪泄 写芯锌',
                familySharingDesc1: '小芯蟹写邪泄械 械屑 懈 锌芯写械谢懈械 泻芯写芯屑  谢械薪邪屑懈 械屑懈',
                familySharingDesc2: '械 懈蟹屑械薪械薪懈 懈薪芯薪懈蟹懈 胁 械邪谢薪芯屑 胁械屑械薪懈',
                familySharingDesc3: '锌芯谢蟹泄械 械屑械泄薪泄 邪 写谢 芯斜械薪懈',
                smartScanning: '校屑薪芯械 泻邪薪懈芯胁邪薪懈械',
                smartScanningDesc1: '小泻邪薪懈泄械 械械锌 写谢 邪胁芯屑邪懈械泻芯谐芯 写芯斜邪胁谢械薪懈 懈薪谐械写懈械薪芯胁',
                smartScanningDesc2: '小泻邪薪懈泄械 芯胁邪 写谢 邪胁薪械薪懈 械薪',
                sendFeedback: '锌邪胁懈 芯蟹胁',
                showTutorial: '芯泻邪蟹邪 芯斜械薪懈械 薪芯胁邪',
                // Feedback
                feedback: '蟹胁',
                feedbackType: '孝懈锌 芯蟹胁邪',
                bugReport: '小芯芯斜懈 芯斜 芯懈斜泻械',
                featureRequest: '械写谢芯卸懈 薪泻懈',
                generalFeedback: '斜懈泄 芯蟹胁',
                feedbackMessage: '邪械 芯芯斜械薪懈械',
                sending: '锌邪胁泻邪...',
                // Accessibility
                accessibility: '芯锌薪芯',
                accessibilitySettings: '邪芯泄泻懈 写芯锌薪芯懈',
                fontSize: '邪蟹屑械 懈邪',
                normal: '斜薪泄',
                large: '芯谢芯泄',
                extraLarge: '械薪 斜芯谢芯泄',
                contrast: '芯薪邪',
                highContrast: '芯泻懈泄 泻芯薪邪',
                highlightLinks: '写械谢 谢泻懈',
                cursorSize: '邪蟹屑械 泻芯邪',
                skipToContent: '械械泄懈 泻 芯写械卸懈屑芯屑',
                accessibilityStatement: '邪胁谢械薪懈械 芯 写芯锌薪芯懈',
                // Onboarding
                welcomeTo: '芯斜芯 锌芯卸邪谢芯胁邪 胁',
                onboardingDesc: '校屑薪芯械 锌懈谢芯卸械薪懈械 写谢 锌邪胁谢械薪懈 械屑械泄薪屑 锌懈泻芯屑 锌芯泻锌芯泻',
                getStarted: '邪薪屑!',
                next: '邪谢械械',
                skip: '芯锌懈',
                done: '芯芯胁芯',
                addingProducts: '芯斜邪胁谢械薪懈械 芯胁邪芯胁',
                addingProductsDesc: '斜械懈械 泻邪械谐芯懈 懈 薪邪卸屑懈械 薪邪 芯胁邪, 懈谢懈 薪邪泄写懈械 胁 锌芯懈泻械',
                managingList: '校锌邪胁谢械薪懈械 锌懈泻芯屑',
                managingListDesc: '芯胁械写懈械 胁谢械胁芯 写谢 芯屑械泻懈, 胁锌邪胁芯 写谢 锌械械屑械械薪懈. 锌芯谢蟹泄械 泻薪芯锌泻 写谢 泻谢邪胁懈邪薪芯泄 邪谢械薪邪懈胁.',
                familySharingTitle: '小械屑械泄薪泄 写芯锌',
                familySharingOnboardDesc: '芯写械谢懈械 泻芯写芯屑 械屑懈 懈谢懈 懈锌芯谢蟹泄械 QR/WhatsApp. 斜械懈械 芯谢: 芯写懈械谢 (邪写屑懈薪) 懈谢懈 械斜薪芯泻 (芯谐邪薪懈械薪).',
                readyToShop: '芯芯胁 泻 锌芯泻锌泻邪屑!',
                readyToShopDesc: ' 谐芯芯胁芯! 锌芯谢蟹泄械 胁械 薪泻懈懈 懈 写械谢邪泄械 锌芯泻锌泻懈 械屑械泄薪屑 写械谢芯屑!',
                // Notifications
                productAdded: '孝芯胁邪 写芯斜邪胁谢械薪 胁 锌懈芯泻',
                addedBy: '芯斜邪胁懈谢(邪)',
                // Errors
                error: '懈斜泻邪',
                tryAgain: '芯锌芯斜芯胁邪 薪芯胁邪',
                invalidEmail: '械胁械薪泄 email',
                passwordTooShort: '邪芯谢 写芯谢卸械薪 芯写械卸邪 屑懈薪懈屑屑 6 懈屑胁芯谢芯胁',
                passwordsNoMatch: '邪芯谢懈 薪械 芯胁锌邪写邪',
                codeNotFound: '芯写 薪械 薪邪泄写械薪',
                alreadyMember: '校卸械 胁谢械械 谢械薪芯屑 芯泄 械屑懈',
                selectRoleError: '芯卸邪谢泄邪, 胁斜械懈械 芯谢 胁 械屑械',
                enterFamilyName: '芯卸邪谢泄邪, 胁胁械写懈械 薪邪蟹胁邪薪懈械 械屑懈',
                enterCode: '芯卸邪谢泄邪, 胁胁械写懈械 6-蟹薪邪薪泄 泻芯写',
                // Additional UI strings
                sent: '锌邪胁谢械薪芯!',
                resetLinkSent: '小谢泻邪 写谢 斜芯邪 锌邪芯谢 芯锌邪胁谢械薪邪 薪邪',
                checkSpam: '芯胁械械 邪泻卸械 锌邪锌泻 锌邪屑',
                backToLogin: '械薪 泻 胁芯写',
                enterEmailForReset: '胁械写懈械 email 懈 屑 芯锌邪胁懈屑 胁邪屑 谢泻 写谢 斜芯邪',
                displayName: '芯斜邪卸邪械屑芯械 懈屑',
                displayNamePlaceholder: '屑 胁 锌懈谢芯卸械薪懈懈',
                minChars: '懈薪懈屑屑 6 懈屑胁芯谢芯胁',
                reenterPassword: '芯胁芯懈械 锌邪芯谢',
                enterDisplayName: '芯卸邪谢泄邪, 胁胁械写懈械 芯芯斜邪卸邪械屑芯械 懈屑',
                smartShoppingList: '邪 屑薪泄 锌懈芯泻 锌芯泻锌芯泻',
                // Main app UI
                recipes: '械械锌',
                whatsapp: 'WhatsApp',
                importList: '屑锌芯 锌懈泻邪',
                exportList: '协泻锌芯 锌懈泻邪',
                deleteAll: '校写邪谢懈 胁械',
                whatForgot: '效芯 蟹邪斜谢?',
                calendar: '邪谢械薪写邪',
                shoppingProgress: '芯谐械 锌芯泻锌芯泻',
                itemsPurchased: '泻锌谢械薪芯',
                markPurchased: '屑械械 泻锌谢械薪薪械 芯胁邪',
                allPurchased: '械 芯胁邪 泻锌谢械薪!',
                purchases: '锌芯泻锌泻懈',
                deleteAllTitle: '校写邪谢懈 胁械 芯胁邪',
                deleteAllConfirm: ' 胁械械薪, 芯 芯懈械 写邪谢懈 胁械 芯胁邪?',
                deleteAllWarning: '协芯 写邪谢懈 {count} 芯胁邪芯胁 斜械蟹 胁芯蟹屑芯卸薪芯懈 胁芯邪薪芯胁谢械薪懈!',
                deleteProduct: '校写邪谢懈 芯胁邪',
                deleteProductConfirm: ' 胁械械薪, 芯 芯懈械 写邪谢懈 芯 芯胁邪?',
                addProductPlaceholder: '芯斜邪胁懈 芯胁邪...',
                // More UI strings
                searchAddProduct: '芯斜邪胁懈 芯胁邪...',
                emptyList: '小锌懈芯泻 锌',
                addProductsBelow: '芯斜邪胁械 芯胁邪 械械蟹 锌芯懈泻 薪懈卸械',
                familyNameExample: '薪邪锌懈屑械: 小械屑 胁邪薪芯胁',
                listNameExample: '薪邪锌懈屑械: 芯泻锌泻懈 薪邪 胁芯写薪械',
                noteExample: '薪邪锌懈屑械: 锌械写械谢械薪薪泄 斜械薪写, 胁械薪 锌芯谢泻邪...',
                priceComparison: '小邪胁薪械薪懈械 械薪',
                familySettings: '邪芯泄泻懈 械屑懈',
                createNewFamily: '小芯蟹写邪 薪芯胁 械屑',
                joinExistingFamily: '懈芯械写懈薪懈 泻 械屑械',
                familyChat: '小械屑械泄薪泄 邪',
                savedLists: '小芯邪薪械薪薪械 锌懈泻懈',
                noSavedLists: '械 芯邪薪械薪薪 锌懈泻芯胁',
                loadToCart: '邪谐蟹懈 胁 泻芯蟹懈薪',
                bought: '锌谢械薪芯',
                later: '芯蟹卸械',
                addToList: '芯斜邪胁懈 胁 锌懈芯泻',
                removeFromList: '校写邪谢懈 懈蟹 锌懈泻邪',
                selectCategory: '斜械懈械 泻邪械谐芯懈',
                allCategories: '械 泻邪械谐芯懈懈',
                scanRecipe: '小泻邪薪懈芯胁邪 械械锌',
                scanProduct: '小泻邪薪懈芯胁邪 芯胁邪',
                voiceInput: '芯谢芯芯胁芯泄 胁胁芯写',
                importFromWhatsapp: '屑锌芯 懈蟹 WhatsApp',
                regularItems: '芯芯薪薪械 芯胁邪',
                forgottenItems: '邪斜械 芯胁邪',
                shoppingStreak: '小械懈 锌芯泻锌芯泻',
                darkMode: '孝械屑薪泄 械卸懈屑',
                lightMode: '小胁械谢泄 械卸懈屑',
                language: '携蟹泻',
                accessibilitySettings: '邪芯泄泻懈 写芯锌薪芯懈',
                helpAndFeedback: '芯屑芯 懈 芯蟹胁',
                showTutorial: '芯泻邪蟹邪 芯斜械薪懈械',
                logoutButton: '泄懈',
                total: '械谐芯',
                items: '芯胁邪芯胁',
                share: '芯写械谢懈',
                copy: '芯锌懈芯胁邪',
                copied: '小泻芯锌懈芯胁邪薪芯!',
                send: '锌邪胁懈',
                confirm: '芯写胁械写懈',
                selectAll: '斜邪 胁械',
                clearAll: '懈懈 胁械',
                readySalads: '芯芯胁械 邪谢邪',
                meat: '芯',
                fish: '斜邪',
                deli: '芯谢斜邪薪泄 芯写械谢',
                noProductsFound: '械 薪邪泄写械薪芯 芯胁邪芯胁 锌芯 蟹邪锌芯',
                tryAnotherSearch: '芯锌芯斜泄械 写谐芯泄 锌芯懈泻 懈谢懈 胁斜械懈械 泻邪械谐芯懈',
                noRecipesSaved: '械 芯邪薪械薪薪 械械锌芯胁',
                addFirstRecipe: '芯斜邪胁懈 锌械胁泄 械械锌',
                noHistoryYet: '芯懈懈 锌芯泻邪 薪械',
                completeFirstShopping: '邪胁械懈械 锌械胁 锌芯泻锌泻, 芯斜 胁懈写械 邪懈懈泻',
                // Templates
                templates: '楔邪斜谢芯薪',
                saveAsTemplate: '小芯邪薪懈 泻邪泻 邪斜谢芯薪',
                myTemplates: '芯懈 邪斜谢芯薪',
                noTemplatesSaved: '楔邪斜谢芯薪 锌芯泻邪 薪械 芯邪薪械薪. 小芯邪薪懈械 锌懈芯泻 泻邪泻 邪斜谢芯薪 写谢 锌芯胁芯薪芯谐芯 懈锌芯谢蟹芯胁邪薪懈!',
                templateNamePlaceholder: '邪蟹胁邪薪懈械 邪斜谢芯薪邪 (薪邪锌懈屑械: 卸械薪械写械谢薪械 锌芯泻锌泻懈)',
                itemsWillBeSaved: '{count} 薪械芯屑械械薪薪 芯胁邪芯胁 斜写 芯邪薪械薪',
                myList: '芯泄 锌懈芯泻',
                // Status labels
                postponedStatus: '谢芯卸械薪芯',
                outOfStockStatus: '械 胁 薪邪谢懈懈懈',
                // Price estimation
                estimatedTotal: '懈械薪懈芯胁芯薪邪 屑屑邪',
                itemsWithPrice: '芯胁邪芯胁  械薪芯泄',
                of: '懈蟹',
                priceDisclaimer: '* 笑械薪 胁谢 芯懈械薪懈芯胁芯薪屑懈 懈 屑芯谐 屑械薪',
                undoPostpone: '械薪 胁 锌懈芯泻',
                deleteItem: '校写邪谢懈 芯胁邪',
                addPrice: '芯斜邪胁懈 械薪'
            },
            ar: {
                // App name & general
                appName: '丕卅丞 丕鬲爻 丕毓丕卅丞 丕匕丞',
                loading: '噩丕乇 丕鬲丨...',
                save: '丨馗',
                cancel: '廿睾丕亍',
                delete: '丨匕',
                edit: '鬲毓丿',
                close: '廿睾丕',
                back: '乇噩毓',
                yes: '毓',
                no: '丕',
                search: '亘丨孬',
                add: '廿囟丕丞',
                remove: '廿夭丕丞',
                // Auth
                welcome: '乇丨亘丕',
                login: '鬲爻噩 丕丿禺',
                register: '鬲爻噩',
                logout: '鬲爻噩 丕禺乇噩',
                email: '丕亘乇丿 丕廿鬲乇',
                password: '丞 丕乇乇',
                confirmPassword: '鬲兀丿 丞 丕乇乇',
                fullName: '丕丕爻 丕丕',
                forgotPassword: '爻鬲 丞 丕乇乇',
                resetPassword: '廿毓丕丿丞 鬲毓 丞 丕乇乇',
                sendResetLink: '廿乇爻丕 乇丕亘胤 廿毓丕丿丞 丕鬲毓',
                noAccount: '爻 丿 丨爻丕亘',
                haveAccount: '丿 丨爻丕亘 亘丕毓',
                registerNow: '爻噩 丕丌',
                loginNow: '爻噩 丿禺 丕丌',
                orContinueWith: '兀 鬲丕亘毓 毓',
                // Family
                family: '丕毓丕卅丞',
                createFamily: '廿卮丕亍 毓丕卅丞 噩丿丿丞',
                joinFamily: '丕丕囟丕 毓丕卅丞 噩丿丞',
                familyName: '丕爻 丕毓丕卅丞',
                familyCode: '乇夭 丕毓丕卅丞',
                inviteCode: '乇夭 丕丿毓丞',
                shareCode: '卮丕乇 匕丕 丕乇夭 毓 兀乇丕丿 丕毓丕卅丞 丕囟丕',
                familyMembers: '兀乇丕丿 丕毓丕卅丞',
                leaveFamily: '睾丕丿乇丞 丕毓丕卅丞',
                deleteFamily: '丨匕 丕毓丕卅丞',
                removeMember: '廿夭丕丞 毓囟',
                shareWithFamily: '卮丕乇丞 毓 丕毓丕卅丞',
                shareOptions: '禺丕乇丕鬲 丕卮丕乇丞',
                copyLink: '爻禺 丕乇丕亘胤',
                scanQR: '丕爻丨 丕乇夭 兀 卮丕乇 亘兀 胤乇丞 鬲囟丕',
                // Roles
                selectRole: '丿乇  丕毓丕卅丞',
                father: '兀亘',
                mother: '兀',
                child: '胤',
                admin: '丿乇',
                limited: '丨丿丿',
                childPermissions: ' 兀胤丕 廿囟丕丞 丕鬲噩丕鬲 鬲丨丿丿丕  丕  鬲毓丿 廿毓丿丕丿丕鬲 丕毓丕卅丞',
                // Shopping
                shoppingList: '丕卅丞 丕鬲爻',
                addProduct: '廿囟丕丞 鬲噩',
                searchProduct: '亘丨孬 毓 鬲噩',
                noItems: '丕丕卅丞 丕乇睾丞',
                addItemsHint: '兀囟 鬲噩丕鬲  卮乇胤 丕亘丨孬 兀丿丕',
                markAsPurchased: '鬲丨丿丿 卮鬲乇',
                purchased: '鬲 丕卮乇丕亍',
                notPurchased: ' 鬲 丕卮乇丕亍',
                quantity: '丕丞',
                unit: '丕丨丿丞',
                note: '丕丨馗丞',
                addNote: '廿囟丕丞 丕丨馗丞',
                selectAction: '丕禺鬲乇 廿噩乇丕亍',
                postpone: ' 丕丞',
                // Categories
                categories: '丕卅丕鬲',
                backToCategories: '丕毓丿丞 卅丕鬲',
                allProducts: '噩毓 丕鬲噩丕鬲',
                // Lists
                lists: '丕丕卅',
                newList: '丕卅丞 噩丿丿丞',
                savedLists: '丕丕卅 丕丨馗丞',
                saveList: '丨馗 丕丕卅丞',
                loadList: '鬲丨 爻丞',
                noSavedLists: '丕 鬲噩丿 丕卅 丨馗丞',
                // Shopping mode
                shoppingMode: '囟毓 丕鬲爻',
                shoppingModeActive: '囟毓 丕鬲爻 卮胤 - 丕卮丕卮丞  鬲胤卅',
                enableShoppingMode: '鬲毓 囟毓 丕鬲爻',
                // Finish shopping
                finishShopping: '廿丕亍 丕鬲爻',
                totalAmount: '丕亘睾 丕廿噩丕',
                uploadReceipt: '乇毓 丕丕鬲乇丞',
                // History
                history: '丕爻噩',
                shoppingHistory: '爻噩 丕鬲爻',
                // Chat
                familyChat: '丿乇丿卮丞 丕毓丕卅丞',
                newMessages: '乇爻丕卅 噩丿丿丞',
                typeMessage: '丕鬲亘 乇爻丕丞...',
                send: '廿乇爻丕',
                // Scanning
                scanRecipe: '爻丨 丕氐丞',
                scanProduct: '爻丨 丕鬲噩',
                takePhoto: '丕鬲胤 氐乇丞',
                scanning: '噩丕乇 丕爻丨...',
                identifiedIngredients: '丕丕鬲 丕丨丿丿丞',
                addToCart: '廿囟丕丞 爻丞',
                // Voice
                voiceInput: '丕廿丿禺丕 丕氐鬲',
                startRecording: '丕亘丿兀 丕鬲爻噩 丕氐鬲 廿囟丕丞 鬲噩丕鬲',
                stopRecording: '廿丕 丕鬲爻噩',
                listening: '噩丕乇 丕丕爻鬲丕毓...',
                // Settings
                settings: '丕廿毓丿丕丿丕鬲',
                darkMode: '丕囟毓 丕丿丕',
                lightMode: '丕囟毓 丕丕鬲丨',
                language: '丕睾丞',
                // Help
                help: '爻丕毓丿丞',
                helpTitle: '丕爻丕毓丿丞 丕丕丨馗丕鬲',
                howToUse: '丞 丕爻鬲禺丿丕 丕鬲胤亘',
                howToUseDesc1: '丕禺鬲乇 卅丞 丕囟睾胤 毓 鬲噩 廿囟丕鬲 丕卅丞',
                howToUseDesc2: '丕爻丨亘 爻丕乇 毓 鬲噩 鬲丨丿丿  "卮鬲乇"',
                howToUseDesc3: '丕爻丨亘   丕丞 丕丕卅丞',
                howToUseDesc4: '丕爻鬲禺丿 丕亘丨孬 毓孬乇 毓 丕鬲噩丕鬲 亘爻乇毓丞',
                familySharing: '丕卮丕乇丞 丕毓丕卅丞',
                familySharingDesc1: '兀卮卅 毓丕卅丞 卮丕乇 丕乇夭 毓 丕兀乇丕丿',
                familySharingDesc2: '噩毓 丕鬲睾乇丕鬲 鬲鬲夭丕  丕鬲 丕毓',
                familySharingDesc3: '丕爻鬲禺丿 丿乇丿卮丞 丕毓丕卅丞 鬲丕氐',
                smartScanning: '丕爻丨 丕匕',
                smartScanningDesc1: '丕爻丨 氐丞 廿囟丕丞 丕丕鬲 鬲丕卅丕',
                smartScanningDesc2: '丕爻丨 鬲噩 丕乇丞 丕兀爻毓丕乇',
                sendFeedback: '廿乇爻丕 丕丨馗丕鬲',
                showTutorial: '毓乇囟 丕卮乇丨 噩丿丿丕',
                // Feedback
                feedback: '丕丨馗丕鬲',
                feedbackType: '毓 丕丕丨馗丞',
                bugReport: '丕廿亘丕睾 毓 卮丞',
                featureRequest: '胤亘 夭丞',
                generalFeedback: '丕丨馗丕鬲 毓丕丞',
                feedbackMessage: '乇爻丕鬲',
                sending: '噩丕乇 丕廿乇爻丕...',
                // Accessibility
                accessibility: '廿丕丞 丕氐',
                accessibilitySettings: '廿毓丿丕丿丕鬲 廿丕丞 丕氐',
                fontSize: '丨噩 丕禺胤',
                normal: '毓丕丿',
                large: '亘乇',
                extraLarge: '亘乇 噩丿丕',
                contrast: '丕鬲亘丕',
                highContrast: '鬲亘丕 毓丕',
                highlightLinks: '鬲夭 丕乇丕亘胤',
                cursorSize: '丨噩 丕丐卮乇',
                skipToContent: '鬲禺胤 廿 丕丨鬲 丕乇卅爻',
                accessibilityStatement: '亘丕 廿丕丞 丕氐',
                // Onboarding
                welcomeTo: '乇丨亘丕 亘 ',
                onboardingDesc: '丕鬲胤亘 丕匕 廿丿丕乇丞 丕卅丞 鬲爻 丕毓丕卅丞',
                getStarted: '丕 亘丿兀!',
                next: '丕鬲丕',
                skip: '鬲禺胤',
                done: '鬲',
                addingProducts: '廿囟丕丞 丕鬲噩丕鬲',
                addingProductsDesc: '丕禺鬲乇 卅丞 丕囟睾胤 毓 鬲噩 兀 丕亘丨孬  卮乇胤 丕亘丨孬',
                managingList: '廿丿丕乇丞 丕丕卅丞',
                managingListDesc: '丕爻丨亘 爻丕乇 鬲丨丿丿  鬲兀噩. 丕爻鬲禺丿 夭乇 丕鬲兀噩 亘丿 丨丞 丕丕鬲丨.',
                familySharingTitle: '丕卮丕乇丞 丕毓丕卅丞',
                familySharingOnboardDesc: '卮丕乇 乇夭 丕毓丕卅丞 兀 丕爻鬲禺丿 QR/WhatsApp. 丕禺鬲乇 丿乇: 丕丿 (丿乇) 兀 胤 (丨丿丿).',
                readyToShop: '噩丕夭 鬲爻!',
                readyToShopDesc: '兀鬲 噩丕夭 丕丌! 丕爻鬲禺丿 噩毓 丕夭丕鬲 丕噩毓 丕鬲爻 鬲噩乇亘丞 毓丕卅丞!',
                // Notifications
                productAdded: '鬲鬲 廿囟丕丞 鬲噩 丕卅丞',
                addedBy: '兀囟丕',
                // Errors
                error: '禺胤兀',
                tryAgain: '丨丕 乇丞 兀禺乇',
                invalidEmail: '亘乇丿 廿鬲乇 睾乇 氐丕丨',
                passwordTooShort: '丞 丕乇乇 噩亘 兀 鬲丨鬲 毓 6 兀丨乇 毓 丕兀',
                passwordsNoMatch: '丕鬲 丕乇乇 睾乇 鬲胤丕亘丞',
                codeNotFound: '丕乇夭 睾乇 噩丿',
                alreadyMember: '兀鬲 毓囟 亘丕毓  匕 丕毓丕卅丞',
                selectRoleError: '乇噩 丕禺鬲丕乇 丿乇  丕毓丕卅丞',
                enterFamilyName: '乇噩 廿丿禺丕 丕爻 丕毓丕卅丞',
                enterCode: '乇噩 廿丿禺丕 乇夭  6 兀丨乇',
                // Additional UI strings
                sent: '鬲 丕廿乇爻丕!',
                resetLinkSent: '鬲 廿乇爻丕 乇丕亘胤 廿毓丕丿丞 鬲毓 丞 丕乇乇 廿',
                checkSpam: '鬲丨  噩丿 丕亘乇丿 丕毓卮丕卅 兀囟丕',
                backToLogin: '丕毓丿丞 鬲爻噩 丕丿禺',
                enterEmailForReset: '兀丿禺 亘乇丿 丕廿鬲乇 爻乇爻  乇丕亘胤 廿毓丕丿丞 丕鬲毓',
                displayName: '丕爻 丕毓乇囟',
                displayNamePlaceholder: '丕丕爻 丕毓乇囟  丕鬲胤亘',
                minChars: '6 兀丨乇 毓 丕兀',
                reenterPassword: '兀毓丿 廿丿禺丕 丞 丕乇乇',
                enterDisplayName: '乇噩 廿丿禺丕 丕爻 丕毓乇囟',
                smartShoppingList: '丕卅丞 丕鬲爻 丕匕丞 丕禺丕氐丞 亘',
                // Main app UI
                recipes: '氐丕鬲',
                whatsapp: '丕鬲爻丕亘',
                importList: '丕爻鬲乇丕丿 丕卅丞',
                exportList: '鬲氐丿乇 丕卅丞',
                deleteAll: '丨匕 丕',
                whatForgot: '丕匕丕 爻鬲',
                calendar: '丕鬲',
                shoppingProgress: '鬲丿 丕鬲爻',
                itemsPurchased: '鬲噩丕鬲 鬲 卮乇丕丐丕',
                markPurchased: '丨丿丿 丕鬲噩丕鬲 丕卮鬲乇丕丞',
                allPurchased: '鬲 卮乇丕亍 噩毓 丕鬲噩丕鬲!',
                purchases: '卮鬲乇丕鬲',
                deleteAllTitle: '丨匕 噩毓 丕鬲噩丕鬲',
                deleteAllConfirm: ' 兀鬲 鬲兀丿 兀 鬲乇丿 丨匕 噩毓 丕鬲噩丕鬲',
                deleteAllWarning: '爻鬲 丨匕 {count} 鬲噩 丕  丕鬲乇丕噩毓!',
                deleteProduct: '丨匕 丕鬲噩',
                deleteProductConfirm: ' 兀鬲 鬲兀丿 兀 鬲乇丿 丨匕 匕丕 丕鬲噩',
                addProductPlaceholder: '兀囟 鬲噩...',
                // Categories
                fruitsVeg: '丕 禺囟乇丕鬲',
                dairyProducts: '鬲噩丕鬲 丕兀亘丕',
                dairyDesserts: '丨丕鬲 丕兀亘丕',
                meat: '丨',
                fish: '兀爻丕',
                deli: '爻 丕丕',
                breadBakery: '禺亘夭 禺亘夭丕鬲',
                spreads: '毓噩丕鬲 乇亘',
                bakingProducts: '丕丿 丕禺亘夭',
                cereals: '丨亘亘 丕廿胤丕乇',
                cannedDry: '毓亘丕鬲 兀胤毓丞 噩丕丞',
                spices: '亘丕乇丕鬲 胤亘禺',
                coffeeTea: '丞 卮丕',
                drinks: '卮乇亘丕鬲 睾丕夭丞',
                wineAlcohol: '亘匕 丨',
                snacks: '噩亘丕鬲 禺丞 丨',
                frozen: '噩丿丕鬲',
                dietProtein: '丿丕鬲 亘乇鬲',
                hygiene: '馗丕丞 卮禺氐丞',
                cleaning: '鬲馗',
                candlesOil: '卮毓',
                babyKids: '兀胤丕 乇囟毓',
                pets: '丨丕丕鬲 兀丞',
                readySalads: '爻胤丕鬲 噩丕夭丞',
                // More UI strings
                searchAddProduct: '兀囟 鬲噩...',
                emptyList: '丕丕卅丞 丕乇睾丞',
                addProductsBelow: '兀囟 鬲噩丕鬲  卮乇胤 丕亘丨孬 兀丿丕',
                familyNameExample: '孬丕: 毓丕卅丞 丨丿',
                listNameExample: '孬丕: 鬲爻 丕丞 丕兀爻亘毓',
                noteExample: '孬丕: 毓丕丞 鬲噩丕乇丞 毓丞  丕乇 丕毓...',
                importExample: '丨亘\n亘囟 x2\n3 禺亘夭\n噩亘丞 夭亘丿丞',
                productSearchExample: '孬丕: 丨亘 噩亘丞 乇丕卅...',
                tagExample: '孬丕: 胤丕夭噩 禺丕  丕睾鬲 毓囟...',
                typeMessage: '丕鬲亘 乇爻丕丞...',
                recipeNameExample: '丕爻 丕氐丞 (孬丕: 毓丞 丕卮丕鬲丞)',
                ingredientsExample: '丕卅丞 丕丕鬲 (   爻胤乇 噩丿丿)',
                feedbackPlaceholder: '兀禺亘乇丕 丕 丨丿孬 兀 丕 鬲乇丿 乇丐鬲...',
                priceComparison: '丕乇丞 丕兀爻毓丕乇',
                familySettings: '廿毓丿丕丿丕鬲 丕毓丕卅丞',
                createNewFamily: '廿卮丕亍 毓丕卅丞 噩丿丿丞',
                joinExistingFamily: '丕丕囟丕 毓丕卅丞 噩丿丞',
                familyChat: '丿乇丿卮丞 丕毓丕卅丞',
                savedLists: '丕卅 丨馗丞',
                noSavedLists: '丕 鬲噩丿 丕卅 丨馗丞',
                loadToCart: '鬲丨 爻丞',
                bought: '鬲 丕卮乇丕亍',
                later: '丕丨丕',
                addToList: '兀囟 丕卅丞',
                removeFromList: '廿夭丕丞  丕丕卅丞',
                selectCategory: '丕禺鬲乇 卅丞',
                allCategories: '噩毓 丕卅丕鬲',
                scanRecipe: '爻丨 氐丞',
                scanProduct: '爻丨 鬲噩',
                voiceInput: '廿丿禺丕 氐鬲',
                importFromWhatsapp: '丕爻鬲乇丕丿  丕鬲爻丕亘',
                regularItems: '鬲噩丕鬲 丿丕卅丞',
                forgottenItems: '鬲噩丕鬲 爻丞',
                shoppingStreak: '爻爻丞 丕鬲爻',
                darkMode: '丕囟毓 丕丿丕',
                lightMode: '丕囟毓 丕丕鬲丨',
                language: '丕睾丞',
                accessibilitySettings: '廿毓丿丕丿丕鬲 廿丕丞 丕氐',
                helpAndFeedback: '丕爻丕毓丿丞 丕丕丨馗丕鬲',
                showTutorial: '毓乇囟 丕廿乇卮丕丿丕鬲',
                logoutButton: '鬲爻噩 丕禺乇噩',
                total: '丕噩毓',
                items: '鬲噩丕鬲',
                share: '卮丕乇丞',
                copy: '爻禺',
                copied: '鬲 丕爻禺!',
                send: '廿乇爻丕',
                confirm: '鬲兀丿',
                selectAll: '鬲丨丿丿 丕',
                clearAll: '爻丨 丕',
                noProductsFound: ' 鬲 丕毓孬乇 毓 鬲噩丕鬲 鬲胤丕亘',
                tryAnotherSearch: '噩乇亘 亘丨孬丕 丌禺乇 兀 丕禺鬲乇 卅丞',
                noRecipesSaved: '丕 鬲噩丿 氐丕鬲 丨馗丞',
                addFirstRecipe: '兀囟 兀 氐丞',
                noHistoryYet: '丕 噩丿 爻噩 亘毓丿',
                completeFirstShopping: '兀 兀 鬲爻 乇丐丞 丕廿丨氐丕卅丕鬲',
                // Templates
                templates: '丕丕亘',
                saveAsTemplate: '丨馗 丕亘',
                myTemplates: '丕亘',
                noTemplatesSaved: '丕 鬲噩丿 丕亘 丨馗丞 亘毓丿. 丕丨馗 丕卅丞 丕亘 廿毓丕丿丞 丕丕爻鬲禺丿丕!',
                templateNamePlaceholder: '丕爻 丕丕亘 (孬丕: 丕鬲爻 丕兀爻亘毓)',
                itemsWillBeSaved: '爻鬲 丨馗 {count} 毓氐乇 睾乇 丨丿丿',
                myList: '丕卅鬲',
                // Status labels
                postponedStatus: '丐噩',
                outOfStockStatus: '睾乇 鬲乇',
                // Price estimation
                estimatedTotal: '丕噩毓 丕鬲丿乇',
                itemsWithPrice: '毓丕氐乇 亘爻毓乇',
                of: '',
                priceDisclaimer: '* 丕兀爻毓丕乇 鬲丿乇丞 胤 丕亘丞 鬲睾乇',
                undoPostpone: '廿乇噩丕毓 丕卅丞',
                deleteItem: '丨匕 丕毓氐乇',
                addPrice: '廿囟丕丞 爻毓乇 鬲丿乇'
            }
        };

        // Language Context
        const LanguageContext = createContext(null);

        function LanguageProvider({ children }) {
            const [language, setLanguage] = useState(() => {
                return localStorage.getItem('appLanguage') || 'he';
            });

            const changeLanguage = (lang) => {
                setLanguage(lang);
                localStorage.setItem('appLanguage', lang);
                // Update document direction
                document.documentElement.dir = (lang === 'he' || lang === 'ar') ? 'rtl' : 'ltr';
                document.documentElement.lang = lang;
            };

            // Set direction whenever language changes
            useEffect(() => {
                document.documentElement.dir = (language === 'he' || language === 'ar') ? 'rtl' : 'ltr';
                document.documentElement.lang = language;
            }, [language]);

            const t = (key) => TRANSLATIONS[language]?.[key] || TRANSLATIONS['he'][key] || key;

            return (
                <LanguageContext.Provider value={{ language, changeLanguage, t }}>
                    {children}
                </LanguageContext.Provider>
            );
        }

        function useLanguage() {
            return useContext(LanguageContext);
        }

        // Family Context
        const FamilyContext = createContext(null);

        function FamilyProvider({ children }) {
            const { user } = useAuth();
            const [family, setFamily] = useState(null);
            const [lists, setLists] = useState([]);
            const [currentList, setCurrentList] = useState(null);
            const [loading, setLoading] = useState(true);
            const [activities, setActivities] = useState([]);

            // Generate random 6-character code
            const generateCode = () => {
                const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789';
                let code = '';
                for (let i = 0; i < 6; i++) {
                    code += chars.charAt(Math.floor(Math.random() * chars.length));
                }
                return code;
            };

            // Find user's family
            useEffect(() => {
                if (!user) {
                    setFamily(null);
                    setLists([]);
                    setCurrentList(null);
                    setLoading(false);
                    return;
                }

                setLoading(true);

                // Query families where user is a member
                const q = window.firestore.query(
                    window.firestore.collection(window.db, 'families')
                );

                const unsubscribe = window.firestore.onSnapshot(q, async (snapshot) => {
                    let userFamily = null;
                    snapshot.forEach((doc) => {
                        const data = doc.data();
                        const isMember = data.members?.some(m => m.userId === user.uid);
                        if (isMember) {
                            userFamily = { id: doc.id, ...data };
                        }
                    });

                    setFamily(userFamily);
                    setLoading(false);
                });

                return () => unsubscribe();
            }, [user]);

            // Load lists when family changes
            useEffect(() => {
                if (!family) {
                    setLists([]);
                    setCurrentList(null);
                    return;
                }

                const q = window.firestore.query(
                    window.firestore.collection(window.db, 'lists'),
                    window.firestore.where('familyId', '==', family.id)
                );

                const unsubscribe = window.firestore.onSnapshot(q, (snapshot) => {
                    const listsData = [];
                    snapshot.forEach((doc) => {
                        listsData.push({ id: doc.id, ...doc.data() });
                    });
                    listsData.sort((a, b) => (b.isDefault ? 1 : 0) - (a.isDefault ? 1 : 0));
                    setLists(listsData);

                    // Set current list to default or first
                    if (!currentList || !listsData.find(l => l.id === currentList.id)) {
                        const defaultList = listsData.find(l => l.isDefault) || listsData[0];
                        setCurrentList(defaultList);
                    }
                });

                return () => unsubscribe();
            }, [family]);

            // Load activities
            useEffect(() => {
                if (!family) {
                    setActivities([]);
                    return;
                }

                const q = window.firestore.query(
                    window.firestore.collection(window.db, 'activity'),
                    window.firestore.where('familyId', '==', family.id)
                );

                const unsubscribe = window.firestore.onSnapshot(q, (snapshot) => {
                    const activitiesData = [];
                    snapshot.forEach((doc) => {
                        activitiesData.push({ id: doc.id, ...doc.data() });
                    });
                    activitiesData.sort((a, b) => {
                        const dateA = a.timestamp?.toDate?.() || new Date(0);
                        const dateB = b.timestamp?.toDate?.() || new Date(0);
                        return dateB - dateA;
                    });
                    setActivities(activitiesData.slice(0, 50));
                });

                return () => unsubscribe();
            }, [family]);

            // Create a new family
            const createFamily = async (familyName, userRole = 'parent_father') => {
                if (!user) return null;

                const code = generateCode();
                const roleLabel = userRole === 'parent_father' ? '' : userRole === 'parent_mother' ? '' : '专';
                const newFamily = {
                    name: familyName,
                    code: code,
                    adminId: user.uid,
                    members: [{
                        userId: user.uid,
                        email: user.email,
                        displayName: user.displayName || user.email,
                        joinedAt: new Date(),
                        role: 'admin',
                        familyRole: userRole,
                        familyRoleLabel: roleLabel,
                        isParent: true
                    }],
                    createdAt: new Date()
                };

                const familyRef = await window.firestore.addDoc(
                    window.firestore.collection(window.db, 'families'),
                    newFamily
                );

                // Create default list
                await window.firestore.addDoc(
                    window.firestore.collection(window.db, 'lists'),
                    {
                        familyId: familyRef.id,
                        name: '专砖转 拽转',
                        icon: '',
                        createdBy: user.uid,
                        createdAt: new Date(),
                        isDefault: true
                    }
                );

                // Log activity
                await logActivity('member_joined', { memberName: user.displayName || user.email }, familyRef.id);

                return { id: familyRef.id, ...newFamily };
            };

            // Join existing family
            const joinFamily = async (code, userRole = 'child') => {
                if (!user) return { success: false, error: ' 专' };

                const q = window.firestore.query(
                    window.firestore.collection(window.db, 'families'),
                    window.firestore.where('code', '==', code.toUpperCase())
                );

                const snapshot = await window.firestore.getDocs(q);

                if (snapshot.empty) {
                    return { success: false, error: '拽  爪' };
                }

                const familyDoc = snapshot.docs[0];
                const familyData = familyDoc.data();

                // Check if already a member
                if (familyData.members?.some(m => m.userId === user.uid)) {
                    return { success: false, error: '专 专 砖驻 ' };
                }

                const isParent = userRole.startsWith('parent');
                const roleLabel = userRole === 'parent_father' ? '' : userRole === 'parent_mother' ? '' : '/';

                // Add user to family
                const newMember = {
                    userId: user.uid,
                    email: user.email,
                    displayName: user.displayName || user.email,
                    joinedAt: new Date(),
                    role: isParent ? 'admin' : 'member',
                    familyRole: userRole,
                    familyRoleLabel: roleLabel,
                    isParent: isParent
                };

                await window.firestore.updateDoc(
                    window.firestore.doc(window.db, 'families', familyDoc.id),
                    { members: window.firestore.arrayUnion(newMember) }
                );

                // Log activity
                await logActivity('member_joined', { memberName: user.displayName || user.email }, familyDoc.id);

                return { success: true };
            };

            // Leave family
            const leaveFamily = async () => {
                if (!family || !user) return;

                const memberToRemove = family.members.find(m => m.userId === user.uid);
                if (!memberToRemove) return;

                // If admin and only member, delete family
                if (family.adminId === user.uid && family.members.length === 1) {
                    // Delete all lists
                    const listsSnapshot = await window.firestore.getDocs(
                        window.firestore.query(
                            window.firestore.collection(window.db, 'lists'),
                            window.firestore.where('familyId', '==', family.id)
                        )
                    );
                    for (const doc of listsSnapshot.docs) {
                        await window.firestore.deleteDoc(doc.ref);
                    }
                    // Delete family
                    await window.firestore.deleteDoc(
                        window.firestore.doc(window.db, 'families', family.id)
                    );
                } else {
                    // Remove member
                    await window.firestore.updateDoc(
                        window.firestore.doc(window.db, 'families', family.id),
                        { members: window.firestore.arrayRemove(memberToRemove) }
                    );
                }
            };

            // Remove member (admin only)
            const removeMember = async (memberUserId) => {
                if (!family || family.adminId !== user.uid) return;
                if (memberUserId === user.uid) return; // Can't remove self

                const memberToRemove = family.members.find(m => m.userId === memberUserId);
                if (!memberToRemove) return;

                await window.firestore.updateDoc(
                    window.firestore.doc(window.db, 'families', family.id),
                    { members: window.firestore.arrayRemove(memberToRemove) }
                );
            };

            // Create new list
            const createList = async (name, icon = '') => {
                if (!family) return;

                await window.firestore.addDoc(
                    window.firestore.collection(window.db, 'lists'),
                    {
                        familyId: family.id,
                        name: name,
                        icon: icon,
                        createdBy: user.uid,
                        createdAt: new Date(),
                        isDefault: false
                    }
                );

                await logActivity('list_created', { listName: name });
            };

            // Delete list
            const deleteList = async (listId) => {
                if (!family) return;
                const list = lists.find(l => l.id === listId);
                if (!list || list.isDefault) return; // Can't delete default list

                await window.firestore.deleteDoc(
                    window.firestore.doc(window.db, 'lists', listId)
                );
            };

            // Log activity
            const logActivity = async (type, details = {}, overrideFamilyId = null) => {
                if (!user) return;
                const fid = overrideFamilyId || family?.id;
                if (!fid) return;

                await window.firestore.addDoc(
                    window.firestore.collection(window.db, 'activity'),
                    {
                        familyId: fid,
                        listId: currentList?.id || null,
                        type: type,
                        userId: user.uid,
                        userName: user.displayName || user.email,
                        timestamp: new Date(),
                        ...details
                    }
                );
            };

            const value = {
                family,
                lists,
                currentList,
                setCurrentList,
                activities,
                loading,
                createFamily,
                joinFamily,
                leaveFamily,
                removeMember,
                createList,
                deleteList,
                logActivity,
                isAdmin: family?.adminId === user?.uid
            };

            return <FamilyContext.Provider value={value}>{children}</FamilyContext.Provider>;
        }

        function useFamily() {
            return useContext(FamilyContext);
        }

        // No Family Screen
        function NoFamilyScreen() {
            const [mode, setMode] = useState('choose'); // choose, create, join
            const [familyName, setFamilyName] = useState('');
            const [joinCode, setJoinCode] = useState('');
            const [error, setError] = useState('');
            const [loading, setLoading] = useState(false);
            const [createdCode, setCreatedCode] = useState('');
            const [selectedRole, setSelectedRole] = useState(''); // parent_father, parent_mother, child
            const { createFamily, joinFamily } = useFamily();
            const { user } = useAuth();
            const { t, language } = useLanguage();
            const [darkMode, setDarkMode] = useState(false);

            useEffect(() => {
                const savedDark = localStorage.getItem('darkMode') === 'true';
                if (savedDark) {
                    setDarkMode(true);
                    document.documentElement.classList.add('dark');
                }
            }, []);

            const handleCreate = async (e) => {
                e.preventDefault();
                if (!familyName.trim()) {
                    setError('  砖 砖驻');
                    return;
                }
                if (!selectedRole) {
                    setError(' 专 转驻拽 砖驻');
                    return;
                }
                setLoading(true);
                setError('');
                try {
                    const newFamily = await createFamily(familyName.trim(), selectedRole);
                    setCreatedCode(newFamily.code);
                    setMode('created');
                } catch (err) {
                    setError('砖 爪专转 砖驻');
                } finally {
                    setLoading(false);
                }
            };

            const handleJoin = async (e) => {
                e.preventDefault();
                if (!joinCode.trim() || joinCode.trim().length !== 6) {
                    setError('  拽  6 转');
                    return;
                }
                if (!selectedRole) {
                    setError(' 专 转驻拽 砖驻');
                    return;
                }
                setLoading(true);
                setError('');
                try {
                    const result = await joinFamily(joinCode.trim(), selectedRole);
                    if (!result.success) {
                        setError(result.error);
                    }
                } catch (err) {
                    setError('砖 爪专驻转');
                } finally {
                    setLoading(false);
                }
            };

            const handleLogout = async () => {
                await window.firebaseAuth.signOut(window.auth);
            };

            const toggleDarkMode = () => {
                const newMode = !darkMode;
                setDarkMode(newMode);
                localStorage.setItem('darkMode', String(newMode));
                document.documentElement.classList.toggle('dark');
            };

            return (
                <div className="min-h-screen gradient-bg flex items-center justify-center p-4">
                    <div className="glass rounded-3xl shadow-2xl p-8 max-w-md w-full relative overflow-hidden">
                        <div className="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500"></div>

                        <button onClick={toggleDarkMode} className="absolute top-6 left-6 p-2.5 rounded-xl bg-white/50 dark:bg-gray-700/50 text-2xl hover:scale-110 transition-all">
                            {darkMode ? '锔' : ''}
                        </button>

                        <button onClick={handleLogout} className="absolute top-6 right-6 p-2.5 rounded-xl bg-red-100 dark:bg-red-900/50 text-sm text-red-600 dark:text-red-400 hover:scale-105 transition-all">
                            转转拽
                        </button>

                        <div className="text-center mb-8 pt-8">
                            <div className="text-7xl mb-4 float">ㄢ┾р</div>
                            <h1 className="text-2xl font-bold text-gradient mb-2">{t('welcome')}, {user?.displayName || '砖转砖'}!</h1>
                            <p className="text-gray-500 dark:text-gray-400 text-sm">{t('createNewFamily')} / {t('joinExistingFamily')}</p>
                        </div>

                        {mode === 'choose' && (
                            <div className="space-y-4">
                                <button onClick={() => setMode('create')} className="w-full btn-gradient text-white py-4 rounded-xl font-semibold hover:shadow-lg transition-all flex items-center justify-center gap-3">
                                    <span className="text-2xl"></span>
                                    {t('createNewFamily')}
                                </button>
                                <button onClick={() => setMode('join')} className="w-full glass border-2 border-indigo-300 dark:border-indigo-600 py-4 rounded-xl font-semibold hover:bg-indigo-50 dark:hover:bg-indigo-900/30 transition-all flex items-center justify-center gap-3 text-gray-700 dark:text-gray-200">
                                    <span className="text-2xl"></span>
                                    {t('joinExistingFamily')}
                                </button>
                            </div>
                        )}

                        {mode === 'create' && (
                            <form onSubmit={handleCreate} className="space-y-4">
                                <h2 className="text-xl font-bold text-center text-gray-800 dark:text-white mb-4">{t('createFamily')}</h2>

                                {error && (
                                    <div className="bg-red-100 dark:bg-red-900/30 border-2 border-red-300 dark:border-red-700 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg text-sm">
                                        {error}
                                    </div>
                                )}

                                <div>
                                    <label className="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">{t('familyName')}</label>
                                    <input
                                        type="text"
                                        value={familyName}
                                        onChange={e => setFamilyName(e.target.value)}
                                        placeholder={t('familyNameExample')}
                                        className="w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-xl dark:bg-gray-700 dark:text-white focus:border-indigo-500"
                                        required
                                    />
                                </div>

                                <div>
                                    <label className="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">{t('selectRole')}</label>
                                    <div className="grid grid-cols-2 gap-3">
                                        <button
                                            type="button"
                                            onClick={() => setSelectedRole('parent_father')}
                                            className={`p-4 rounded-xl border-2 transition-all flex flex-col items-center gap-2 ${
                                                selectedRole === 'parent_father'
                                                    ? 'border-indigo-500 bg-indigo-50 dark:bg-indigo-900/30'
                                                    : 'border-gray-200 dark:border-gray-600 hover:border-indigo-300'
                                            }`}
                                        >
                                            <span className="text-3xl"></span>
                                            <span className="font-medium text-gray-800 dark:text-white">{t('father')}</span>
                                            <span className="text-xs text-green-600">{t('admin')}</span>
                                        </button>
                                        <button
                                            type="button"
                                            onClick={() => setSelectedRole('parent_mother')}
                                            className={`p-4 rounded-xl border-2 transition-all flex flex-col items-center gap-2 ${
                                                selectedRole === 'parent_mother'
                                                    ? 'border-indigo-500 bg-indigo-50 dark:bg-indigo-900/30'
                                                    : 'border-gray-200 dark:border-gray-600 hover:border-indigo-300'
                                            }`}
                                        >
                                            <span className="text-3xl"></span>
                                            <span className="font-medium text-gray-800 dark:text-white">{t('mother')}</span>
                                            <span className="text-xs text-green-600">{t('admin')}</span>
                                        </button>
                                    </div>
                                </div>

                                <button type="submit" disabled={loading || !selectedRole} className="w-full btn-gradient text-white py-3 rounded-xl font-semibold disabled:opacity-50">
                                    {loading ? t('loading') : t('createFamily')}
                                </button>

                                <button type="button" onClick={() => { setMode('choose'); setError(''); setSelectedRole(''); }} className="w-full text-indigo-600 dark:text-indigo-400 text-sm hover:underline">
                                    专
                                </button>
                            </form>
                        )}

                        {mode === 'join' && (
                            <form onSubmit={handleJoin} className="space-y-4">
                                <h2 className="text-xl font-bold text-center text-gray-800 dark:text-white mb-4">{t('joinFamily')}</h2>

                                {error && (
                                    <div className="bg-red-100 dark:bg-red-900/30 border-2 border-red-300 dark:border-red-700 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg text-sm">
                                        {error}
                                    </div>
                                )}

                                <div>
                                    <label className="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">{t('familyCode')}</label>
                                    <input
                                        type="text"
                                        value={joinCode}
                                        onChange={e => setJoinCode(e.target.value.toUpperCase())}
                                        placeholder="ABC123"
                                        maxLength={6}
                                        className="w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-xl dark:bg-gray-700 dark:text-white focus:border-indigo-500 text-center text-2xl tracking-widest font-mono"
                                        dir="ltr"
                                        required
                                    />
                                    <p className="text-xs text-gray-500 dark:text-gray-400 mt-1 text-center">{t('shareCode')}</p>
                                </div>

                                <div>
                                    <label className="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">{t('selectRole')}</label>
                                    <div className="grid grid-cols-3 gap-2">
                                        <button
                                            type="button"
                                            onClick={() => setSelectedRole('parent_father')}
                                            className={`p-3 rounded-xl border-2 transition-all flex flex-col items-center gap-1 ${
                                                selectedRole === 'parent_father'
                                                    ? 'border-indigo-500 bg-indigo-50 dark:bg-indigo-900/30'
                                                    : 'border-gray-200 dark:border-gray-600 hover:border-indigo-300'
                                            }`}
                                        >
                                            <span className="text-2xl"></span>
                                            <span className="text-sm font-medium text-gray-800 dark:text-white">{t('father')}</span>
                                            <span className="text-xs text-green-600">{t('admin')}</span>
                                        </button>
                                        <button
                                            type="button"
                                            onClick={() => setSelectedRole('parent_mother')}
                                            className={`p-3 rounded-xl border-2 transition-all flex flex-col items-center gap-1 ${
                                                selectedRole === 'parent_mother'
                                                    ? 'border-indigo-500 bg-indigo-50 dark:bg-indigo-900/30'
                                                    : 'border-gray-200 dark:border-gray-600 hover:border-indigo-300'
                                            }`}
                                        >
                                            <span className="text-2xl"></span>
                                            <span className="text-sm font-medium text-gray-800 dark:text-white">{t('mother')}</span>
                                            <span className="text-xs text-green-600">{t('admin')}</span>
                                        </button>
                                        <button
                                            type="button"
                                            onClick={() => setSelectedRole('child')}
                                            className={`p-3 rounded-xl border-2 transition-all flex flex-col items-center gap-1 ${
                                                selectedRole === 'child'
                                                    ? 'border-indigo-500 bg-indigo-50 dark:bg-indigo-900/30'
                                                    : 'border-gray-200 dark:border-gray-600 hover:border-indigo-300'
                                            }`}
                                        >
                                            <span className="text-2xl"></span>
                                            <span className="text-sm font-medium text-gray-800 dark:text-white">{t('child')}</span>
                                            <span className="text-xs text-amber-600">{t('limited')}</span>
                                        </button>
                                    </div>
                                    <p className="text-xs text-gray-500 dark:text-gray-400 mt-2 text-center">{t('childPermissions')}</p>
                                </div>

                                <button type="submit" disabled={loading || !selectedRole} className="w-full btn-gradient text-white py-3 rounded-xl font-semibold disabled:opacity-50">
                                    {loading ? t('loading') : t('joinFamily')}
                                </button>

                                <button type="button" onClick={() => { setMode('choose'); setError(''); }} className="w-full text-indigo-600 dark:text-indigo-400 text-sm hover:underline">
                                    {t('back')}
                                </button>
                            </form>
                        )}

                        {mode === 'created' && (
                            <div className="text-center space-y-4">
                                <div className="text-6xl mb-4"></div>
                                <h2 className="text-xl font-bold text-gradient">砖驻 爪专!</h2>
                                <p className="text-gray-600 dark:text-gray-400">砖转祝 转 拽  注  砖驻:</p>
                                <div className="bg-indigo-100 dark:bg-indigo-900/50 px-6 py-4 rounded-xl">
                                    <div className="text-3xl font-mono font-bold text-indigo-600 dark:text-indigo-400 tracking-widest">{createdCode}</div>
                                </div>
                                <button
                                    onClick={() => navigator.clipboard.writeText(createdCode)}
                                    className="text-indigo-600 dark:text-indigo-400 text-sm hover:underline flex items-center justify-center gap-2 mx-auto"
                                >
                                     注转拽 拽
                                </button>
                                <p className="text-xs text-gray-500 dark:text-gray-400">祝 转专注 转...</p>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        // Family Settings Modal
        function FamilySettingsModal({ onClose }) {
            const { family, leaveFamily, removeMember, isAdmin } = useFamily();
            const { user } = useAuth();
            const [showLeaveConfirm, setShowLeaveConfirm] = useState(false);
            const [copied, setCopied] = useState(false);
            const [showShareOptions, setShowShareOptions] = useState(false);
            const [qrCodeUrl, setQrCodeUrl] = useState('');

            const inviteLink = `https://yossigidi.github.io/shooping-list/?join=${family?.code}`;

            const copyCode = () => {
                navigator.clipboard.writeText(family.code);
                setCopied(true);
                setTimeout(() => setCopied(false), 2000);
            };

            const copyLink = () => {
                navigator.clipboard.writeText(inviteLink);
                setCopied(true);
                setTimeout(() => setCopied(false), 2000);
            };

            const generateQRCode = () => {
                try {
                    const qr = qrcode(0, 'M');
                    qr.addData(inviteLink);
                    qr.make();
                    setQrCodeUrl(qr.createDataURL(6, 0));
                    setShowShareOptions(true);
                } catch (e) {
                    console.error('QR generation error:', e);
                }
            };

            const shareViaWhatsApp = () => {
                const text = encodeURIComponent(`爪专祝/ 砖驻转 "${family.name}" 驻拽爪转 专砖转 拽转 砖!\n\n拽 爪专驻转: ${family.code}\n\n 抓 注 拽砖专:\n${inviteLink}`);
                window.open(`https://wa.me/?text=${text}`, '_blank');
            };

            const shareViaEmail = () => {
                const subject = encodeURIComponent(` 爪专祝 砖驻转 ${family.name}`);
                const body = encodeURIComponent(`砖!\n\n  转 爪专祝 砖驻转 "${family.name}" 驻拽爪转 专砖转 拽转 砖转驻转 砖.\n\n拽 爪专驻转: ${family.code}\n\n 抓 注 拽砖专 :\n${inviteLink}\n\n转专 专砖!`);
                window.open(`mailto:?subject=${subject}&body=${body}`, '_blank');
            };

            const handleLeave = async () => {
                await leaveFamily();
                onClose();
            };

            return (
                <div className="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4">
                    <div className="glass rounded-3xl p-8 max-w-md w-full shadow-2xl max-h-[90vh] overflow-y-auto">
                        <div className="flex justify-between items-center mb-6">
                            <h2 className="text-2xl font-bold flex items-center gap-3">
                                <span className="text-3xl">ㄢ┾р</span>
                                <span className="text-gradient">{family.name}</span>
                            </h2>
                            <button onClick={onClose} className="w-10 h-10 flex items-center justify-center glass rounded-full text-gray-500 hover:text-red-500 text-2xl hover:scale-110 hover:rotate-90 transition-all"></button>
                        </div>

                        {/* Share Code */}
                        <div className="glass rounded-xl p-4 mb-4">
                            <h3 className="font-bold text-gray-700 dark:text-gray-300 mb-2">拽 </h3>
                            <div className="flex items-center gap-3">
                                <div className="flex-1 bg-indigo-100 dark:bg-indigo-900/50 px-4 py-3 rounded-lg text-center">
                                    <span className="text-2xl font-mono font-bold text-indigo-600 dark:text-indigo-400 tracking-widest">{family.code}</span>
                                </div>
                                <button onClick={copyCode} className="btn-gradient text-white px-4 py-3 rounded-lg hover:scale-105 transition-all">
                                    {copied ? '' : ''}
                                </button>
                            </div>
                        </div>

                        {/* Share Options Button */}
                        <button
                            onClick={generateQRCode}
                            className="w-full mb-4 bg-gradient-to-r from-green-500 to-emerald-500 text-white py-3 rounded-xl font-semibold hover:from-green-600 hover:to-emerald-600 transition-all flex items-center justify-center gap-2"
                        >
                            <span></span> 砖转祝 注 砖驻
                        </button>

                        {/* Share Options Modal */}
                        {showShareOptions && (
                            <div className="glass rounded-xl p-4 mb-4 border-2 border-green-200 dark:border-green-800">
                                <div className="flex justify-between items-center mb-3">
                                    <h4 className="font-bold text-gray-700 dark:text-gray-300">驻砖专转 砖转祝</h4>
                                    <button onClick={() => setShowShareOptions(false)} className="text-gray-400 hover:text-gray-600"></button>
                                </div>

                                {/* QR Code */}
                                {qrCodeUrl && (
                                    <div className="flex justify-center mb-4">
                                        <div className="bg-white p-3 rounded-xl">
                                            <img src={qrCodeUrl} alt="QR Code" className="w-40 h-40" />
                                        </div>
                                    </div>
                                )}

                                {/* Share Buttons */}
                                <div className="grid grid-cols-3 gap-2 mb-3">
                                    <button
                                        onClick={shareViaWhatsApp}
                                        className="flex flex-col items-center gap-1 p-3 bg-green-100 dark:bg-green-900/30 rounded-xl hover:bg-green-200 dark:hover:bg-green-900/50 transition-all"
                                    >
                                        <span className="text-2xl"></span>
                                        <span className="text-xs font-medium text-green-700 dark:text-green-400">WhatsApp</span>
                                    </button>
                                    <button
                                        onClick={shareViaEmail}
                                        className="flex flex-col items-center gap-1 p-3 bg-blue-100 dark:bg-blue-900/30 rounded-xl hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-all"
                                    >
                                        <span className="text-2xl"></span>
                                        <span className="text-xs font-medium text-blue-700 dark:text-blue-400"></span>
                                    </button>
                                    <button
                                        onClick={copyLink}
                                        className="flex flex-col items-center gap-1 p-3 bg-purple-100 dark:bg-purple-900/30 rounded-xl hover:bg-purple-200 dark:hover:bg-purple-900/50 transition-all"
                                    >
                                        <span className="text-2xl"></span>
                                        <span className="text-xs font-medium text-purple-700 dark:text-purple-400">注转拽 拽砖专</span>
                                    </button>
                                </div>

                                <p className="text-xs text-gray-500 dark:text-gray-400 text-center">住专拽 转 拽  砖转驻  专 砖 </p>
                            </div>
                        )}

                        {/* Members List */}
                        <div className="mb-6">
                            <h3 className="font-bold text-gray-700 dark:text-gray-300 mb-3">专 砖驻 ({family.members?.length})</h3>
                            <div className="space-y-2">
                                {family.members?.map((member, idx) => (
                                    <div key={idx} className="glass rounded-lg p-3 flex items-center justify-between">
                                        <div className="flex items-center gap-3">
                                            <div className="w-10 h-10 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white text-xl">
                                                {member.familyRole === 'parent_father' ? '' : member.familyRole === 'parent_mother' ? '' : member.familyRole === 'child' ? '' : member.displayName?.charAt(0)?.toUpperCase() || '?'}
                                            </div>
                                            <div>
                                                <div className="font-medium dark:text-white">{member.displayName}</div>
                                                <div className="text-xs text-gray-500 dark:text-gray-400">
                                                    {member.familyRoleLabel || (member.role === 'admin' ? ' ' : '专')}
                                                    {(member.isParent || member.role === 'admin') && <span className="mr-1 text-green-600"> </span>}
                                                </div>
                                            </div>
                                        </div>
                                        {isAdmin && member.userId !== user.uid && (
                                            <button
                                                onClick={() => removeMember(member.userId)}
                                                className="text-red-500 hover:bg-red-100 dark:hover:bg-red-900/30 p-2 rounded-lg transition-colors"
                                                title="住专 专"
                                            >
                                                
                                            </button>
                                        )}
                                    </div>
                                ))}
                            </div>
                        </div>

                        {/* Leave Family */}
                        {!showLeaveConfirm ? (
                            <button
                                onClick={() => setShowLeaveConfirm(true)}
                                className="w-full bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 py-3 rounded-xl font-semibold hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors"
                            >
                                {isAdmin && family.members?.length === 1 ? ' 拽 砖驻' : ' 注 砖驻'}
                            </button>
                        ) : (
                            <div className="glass rounded-xl p-4 border-2 border-red-300 dark:border-red-700">
                                <p className="text-center text-red-600 dark:text-red-400 mb-4 font-medium">
                                    {isAdmin && family.members?.length === 1
                                        ? '砖驻 转拽 爪转转. 砖?'
                                        : ' 砖专爪 注?'}
                                </p>
                                <div className="flex gap-2">
                                    <button onClick={handleLeave} className="flex-1 bg-red-500 text-white py-2 rounded-lg font-semibold hover:bg-red-600">
                                        , {isAdmin && family.members?.length === 1 ? '拽' : '注'}
                                    </button>
                                    <button onClick={() => setShowLeaveConfirm(false)} className="flex-1 glass py-2 rounded-lg font-semibold">
                                        
                                    </button>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        // Create List Modal
        function CreateListModal({ onClose }) {
            const { createList } = useFamily();
            const [name, setName] = useState('');
            const [icon, setIcon] = useState('');
            const [loading, setLoading] = useState(false);

            const icons = ['', '', '', '', '', '', '', '斤', 'Ч', '锔'];

            const handleSubmit = async (e) => {
                e.preventDefault();
                if (!name.trim()) return;
                setLoading(true);
                await createList(name.trim(), icon);
                onClose();
            };

            return (
                <div className="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4">
                    <div className="glass rounded-3xl p-8 max-w-sm w-full shadow-2xl">
                        <div className="text-5xl text-center mb-4"></div>
                        <h2 className="text-xl font-bold text-center text-gradient mb-6">专砖 砖</h2>

                        <form onSubmit={handleSubmit} className="space-y-4">
                            <div>
                                <label className="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">砖 专砖</label>
                                <input
                                    type="text"
                                    value={name}
                                    onChange={e => setName(e.target.value)}
                                    placeholder=": 拽转 砖转"
                                    className="w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-xl dark:bg-gray-700 dark:text-white focus:border-indigo-500"
                                    autoFocus
                                    required
                                />
                            </div>

                            <div>
                                <label className="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">拽</label>
                                <div className="flex flex-wrap gap-2">
                                    {icons.map(i => (
                                        <button
                                            key={i}
                                            type="button"
                                            onClick={() => setIcon(i)}
                                            className={`text-2xl p-2 rounded-lg transition-all ${icon === i ? 'bg-indigo-100 dark:bg-indigo-900/50 scale-110' : 'hover:bg-gray-100 dark:hover:bg-gray-700'}`}
                                        >
                                            {i}
                                        </button>
                                    ))}
                                </div>
                            </div>

                            <div className="flex gap-3 pt-2">
                                <button type="submit" disabled={loading} className="flex-1 btn-gradient text-white py-3 rounded-xl font-semibold disabled:opacity-50">
                                    {loading ? '爪专...' : '爪专 专砖'}
                                </button>
                                <button type="button" onClick={onClose} className="px-6 py-3 glass border-2 border-gray-300 dark:border-gray-600 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700">
                                    
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            );
        }

        // Item Note Modal
        function ItemNoteModal({ item, onClose, onSave }) {
            const { language } = useLanguage();
            const [note, setNote] = useState(item.note || '');
            const [loading, setLoading] = useState(false);

            const handleSave = async () => {
                setLoading(true);
                await onSave(note);
                onClose();
            };

            return (
                <div className="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4">
                    <div className="glass rounded-3xl p-8 max-w-sm w-full shadow-2xl">
                        <div className="text-5xl text-center mb-4"></div>
                        <h2 className="text-xl font-bold text-center text-gradient mb-2">注专 爪专</h2>
                        <p className="text-center text-gray-500 dark:text-gray-400 mb-4">{getProductTranslation(item.name, language)}</p>

                        <textarea
                            value={note}
                            onChange={e => setNote(e.target.value)}
                            placeholder=": 转 住, 祝 注..."
                            className="w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-xl dark:bg-gray-700 dark:text-white focus:border-indigo-500 resize-none h-24 mb-4"
                            autoFocus
                        />

                        <div className="flex gap-3">
                            <button onClick={handleSave} disabled={loading} className="flex-1 btn-gradient text-white py-3 rounded-xl font-semibold disabled:opacity-50">
                                {loading ? '砖专...' : '砖专'}
                            </button>
                            <button onClick={onClose} className="px-6 py-3 glass border-2 border-gray-300 dark:border-gray-600 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700">
                                
                            </button>
                        </div>
                    </div>
                </div>
            );
        }

        // Error message helper
        function getErrorMessage(errorCode) {
            const messages = {
                'auth/email-already-in-use': '转转  专 砖砖',
                'auth/invalid-email': '转转   转拽',
                'auth/operation-not-allowed': '驻注  专砖转',
                'auth/weak-password': '住住 砖  (驻转 6 转)',
                'auth/user-disabled': '砖转砖 砖转',
                'auth/user-not-found': '砖转砖  爪',
                'auth/wrong-password': '住住 砖',
                'auth/too-many-requests': '转专  住转, 住 砖 专 转专',
                'auth/invalid-credential': '驻专 转专转 砖',
                'auth/missing-password': '  住住'
            };
            return messages[errorCode] || '专注 砖, 住 砖';
        }

        // Sign Up Form
        function SignUpForm({ onSwitchToLogin }) {
            const { t, language } = useLanguage();
            const [email, setEmail] = useState('');
            const [password, setPassword] = useState('');
            const [confirmPassword, setConfirmPassword] = useState('');
            const [displayName, setDisplayName] = useState('');
            const [error, setError] = useState('');
            const [loading, setLoading] = useState(false);
            const isRTL = language === 'he' || language === 'ar';

            const handleSignUp = async (e) => {
                e.preventDefault();
                setError('');

                if (!displayName.trim()) {
                    return setError(t('enterDisplayName'));
                }
                if (password !== confirmPassword) {
                    return setError(t('passwordsNoMatch'));
                }
                if (password.length < 6) {
                    return setError(t('passwordTooShort'));
                }

                try {
                    setLoading(true);
                    const userCredential = await window.firebaseAuth.createUserWithEmailAndPassword(
                        window.auth, email, password
                    );
                    await window.firebaseAuth.updateProfile(userCredential.user, {
                        displayName: displayName.trim()
                    });
                } catch (err) {
                    setError(getErrorMessage(err.code));
                } finally {
                    setLoading(false);
                }
            };

            return (
                <form onSubmit={handleSignUp} className="space-y-4" dir={isRTL ? 'rtl' : 'ltr'}>
                    <h2 className="text-2xl font-bold text-gray-800 dark:text-white text-center mb-6">{t('register')}</h2>

                    {error && (
                        <div className="bg-red-100 dark:bg-red-900/30 border-2 border-red-300 dark:border-red-700 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg text-sm">
                            {error}
                        </div>
                    )}

                    <div>
                        <label className="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">{t('displayName')}</label>
                        <input
                            type="text"
                            value={displayName}
                            onChange={e => setDisplayName(e.target.value)}
                            placeholder={t('displayNamePlaceholder')}
                            className="w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:border-indigo-500 dark:focus:border-indigo-400 transition-colors"
                            required
                        />
                    </div>

                    <div>
                        <label className="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">{t('email')}</label>
                        <input
                            type="email"
                            value={email}
                            onChange={e => setEmail(e.target.value)}
                            placeholder="example@email.com"
                            className="w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:border-indigo-500 dark:focus:border-indigo-400 transition-colors"
                            dir="ltr"
                            required
                        />
                    </div>

                    <div>
                        <label className="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">{t('password')}</label>
                        <input
                            type="password"
                            value={password}
                            onChange={e => setPassword(e.target.value)}
                            placeholder={t('minChars')}
                            className="w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:border-indigo-500 dark:focus:border-indigo-400 transition-colors"
                            dir="ltr"
                            required
                        />
                    </div>

                    <div>
                        <label className="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">{t('confirmPassword')}</label>
                        <input
                            type="password"
                            value={confirmPassword}
                            onChange={e => setConfirmPassword(e.target.value)}
                            placeholder={t('reenterPassword')}
                            className="w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:border-indigo-500 dark:focus:border-indigo-400 transition-colors"
                            dir="ltr"
                            required
                        />
                    </div>

                    <button
                        type="submit"
                        disabled={loading}
                        className="w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 rounded-lg font-semibold hover:from-indigo-700 hover:to-purple-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed"
                    >
                        {loading ? t('loading') : t('register')}
                    </button>

                    <p className="text-center text-gray-600 dark:text-gray-400 text-sm">
                        {t('haveAccount')}{' '}
                        <button type="button" onClick={onSwitchToLogin} className="text-indigo-600 dark:text-indigo-400 font-semibold hover:underline">
                            {t('login')}
                        </button>
                    </p>
                </form>
            );
        }

        // Login Form
        function LoginForm({ onSwitchToSignUp, onSwitchToReset }) {
            const { t, language } = useLanguage();
            const [email, setEmail] = useState('');
            const [password, setPassword] = useState('');
            const [error, setError] = useState('');
            const [loading, setLoading] = useState(false);
            const isRTL = language === 'he' || language === 'ar';

            const handleLogin = async (e) => {
                e.preventDefault();
                setError('');

                try {
                    setLoading(true);
                    await window.firebaseAuth.signInWithEmailAndPassword(window.auth, email, password);
                } catch (err) {
                    setError(getErrorMessage(err.code));
                } finally {
                    setLoading(false);
                }
            };

            return (
                <form onSubmit={handleLogin} className="space-y-4" dir={isRTL ? 'rtl' : 'ltr'}>
                    <h2 className="text-2xl font-bold text-gray-800 dark:text-white text-center mb-6">{t('login')}</h2>

                    {error && (
                        <div className="bg-red-100 dark:bg-red-900/30 border-2 border-red-300 dark:border-red-700 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg text-sm">
                            {error}
                        </div>
                    )}

                    <div>
                        <label className="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">{t('email')}</label>
                        <input
                            type="email"
                            value={email}
                            onChange={e => setEmail(e.target.value)}
                            placeholder="example@email.com"
                            className="w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:border-indigo-500 dark:focus:border-indigo-400 transition-colors"
                            dir="ltr"
                            required
                        />
                    </div>

                    <div>
                        <label className="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">{t('password')}</label>
                        <input
                            type="password"
                            value={password}
                            onChange={e => setPassword(e.target.value)}
                            placeholder={t('password')}
                            className="w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:border-indigo-500 dark:focus:border-indigo-400 transition-colors"
                            dir="ltr"
                            required
                        />
                    </div>

                    <button
                        type="submit"
                        disabled={loading}
                        className="w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 rounded-lg font-semibold hover:from-indigo-700 hover:to-purple-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed"
                    >
                        {loading ? t('loading') : t('login')}
                    </button>

                    <button
                        type="button"
                        onClick={onSwitchToReset}
                        className="w-full text-indigo-600 dark:text-indigo-400 text-sm hover:underline"
                    >
                        {t('forgotPassword')}
                    </button>

                    <p className="text-center text-gray-600 dark:text-gray-400 text-sm">
                        {t('noAccount')}{' '}
                        <button type="button" onClick={onSwitchToSignUp} className="text-indigo-600 dark:text-indigo-400 font-semibold hover:underline">
                            {t('register')}
                        </button>
                    </p>
                </form>
            );
        }

        // Password Reset Form
        function PasswordResetForm({ onSwitchToLogin }) {
            const { t, language } = useLanguage();
            const [email, setEmail] = useState('');
            const [error, setError] = useState('');
            const [success, setSuccess] = useState(false);
            const [loading, setLoading] = useState(false);
            const isRTL = language === 'he' || language === 'ar';

            const handleReset = async (e) => {
                e.preventDefault();
                setError('');

                try {
                    setLoading(true);
                    await window.firebaseAuth.sendPasswordResetEmail(window.auth, email);
                    setSuccess(true);
                } catch (err) {
                    setError(getErrorMessage(err.code));
                } finally {
                    setLoading(false);
                }
            };

            if (success) {
                return (
                    <div className="text-center space-y-4" dir={isRTL ? 'rtl' : 'ltr'}>
                        <div className="text-6xl"></div>
                        <h2 className="text-2xl font-bold text-gray-800 dark:text-white">{t('sent')}</h2>
                        <p className="text-gray-600 dark:text-gray-400">
                            {t('resetLinkSent')}<br/>
                            <span className="font-semibold" dir="ltr">{email}</span>
                        </p>
                        <p className="text-sm text-gray-500 dark:text-gray-500">{t('checkSpam')}</p>
                        <button
                            onClick={onSwitchToLogin}
                            className="text-indigo-600 dark:text-indigo-400 font-semibold hover:underline"
                        >
                            {t('backToLogin')}
                        </button>
                    </div>
                );
            }

            return (
                <form onSubmit={handleReset} className="space-y-4" dir={isRTL ? 'rtl' : 'ltr'}>
                    <h2 className="text-2xl font-bold text-gray-800 dark:text-white text-center mb-2">{t('resetPassword')}</h2>
                    <p className="text-center text-gray-600 dark:text-gray-400 text-sm mb-6">
                        {t('enterEmailForReset')}
                    </p>

                    {error && (
                        <div className="bg-red-100 dark:bg-red-900/30 border-2 border-red-300 dark:border-red-700 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg text-sm">
                            {error}
                        </div>
                    )}

                    <div>
                        <label className="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">{t('email')}</label>
                        <input
                            type="email"
                            value={email}
                            onChange={e => setEmail(e.target.value)}
                            placeholder="example@email.com"
                            className="w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:border-indigo-500 dark:focus:border-indigo-400 transition-colors"
                            dir="ltr"
                            required
                        />
                    </div>

                    <button
                        type="submit"
                        disabled={loading}
                        className="w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 rounded-lg font-semibold hover:from-indigo-700 hover:to-purple-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed"
                    >
                        {loading ? t('sending') : t('sendResetLink')}
                    </button>

                    <button
                        type="button"
                        onClick={onSwitchToLogin}
                        className="w-full text-indigo-600 dark:text-indigo-400 text-sm hover:underline"
                    >
                        {t('backToLogin')}
                    </button>
                </form>
            );
        }

        // Auth Screen Container
        function AuthScreen() {
            const [mode, setMode] = useState('login');
            const [darkMode, setDarkMode] = useState(false);

            useEffect(() => {
                const savedDark = localStorage.getItem('darkMode') === 'true';
                if (savedDark) {
                    setDarkMode(true);
                    document.documentElement.classList.add('dark');
                }
            }, []);

            const toggleDarkMode = () => {
                const newMode = !darkMode;
                setDarkMode(newMode);
                localStorage.setItem('darkMode', String(newMode));
                document.documentElement.classList.toggle('dark');
            };

            return (
                <div className="min-h-screen gradient-bg flex items-center justify-center p-4">
                    <div className="glass rounded-3xl shadow-2xl p-8 max-w-md w-full relative overflow-hidden">
                        <div className="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500"></div>
                        <button
                            onClick={toggleDarkMode}
                            className="absolute top-6 left-6 p-2.5 rounded-xl bg-white/50 dark:bg-gray-700/50 text-2xl hover:scale-110 transition-all duration-300 shadow-lg"
                        >
                            {darkMode ? '锔' : ''}
                        </button>

                        <div className="text-center mb-8 pt-4">
                            <div className="text-7xl mb-4 float"></div>
                            <h1 className="text-3xl font-bold text-gradient mb-2">ListNest</h1>
                            <p className="text-gray-500 dark:text-gray-400 text-sm">专砖转 拽转  砖</p>
                        </div>

                        {mode === 'login' && (
                            <LoginForm
                                onSwitchToSignUp={() => setMode('signup')}
                                onSwitchToReset={() => setMode('reset')}
                            />
                        )}
                        {mode === 'signup' && (
                            <SignUpForm onSwitchToLogin={() => setMode('login')} />
                        )}
                        {mode === 'reset' && (
                            <PasswordResetForm onSwitchToLogin={() => setMode('login')} />
                        )}
                    </div>
                </div>
            );
        }

        const CATEGORIES = {
            fruits: { name: '驻专转 专拽转', icon: '', unit: '拽"', unitOptions: ['拽"', '\'', '专'] },
            dairy: { name: '爪专 ', icon: '', unit: '\'', unitOptions: ['\'', '专', '"', '专'] },
            desserts: { name: '注 ', icon: '', unit: '\'', unitOptions: ['\'', '专'] },
            meat: { name: '砖专', icon: 'ォ', unit: '拽"', unitOptions: ['拽"', '专', '\''] },
            fish: { name: '', icon: '', unit: '拽"', unitOptions: ['拽"', '专', '\''] },
            deli: { name: '注转 拽拽', icon: '', unit: '专', unitOptions: ['专', '拽"', '\''] },
            salads: { name: '住 ', icon: '', unit: '\'', unitOptions: ['\'', '专'] },
            bakery: { name: ' 驻', icon: '', unit: '\'', unitOptions: ['\''] },
            spreads: { name: '专', icon: '', unit: '\'', unitOptions: ['\'', '专'] },
            baking: { name: '爪专 驻', icon: '', unit: '\'', unitOptions: ['\'', '专', '拽"'] },
            cereals: { name: ' 拽专驻拽住', icon: '', unit: '\'', unitOptions: ['\'', '专'] },
            canned: { name: '砖专  砖', icon: 'カ', unit: '\'', unitOptions: ['\'', '专'] },
            spices: { name: '转 砖', icon: '', unit: '专', unitOptions: ['专', '\''] },
            coffee: { name: '拽驻 转', icon: '', unit: '\'', unitOptions: ['\'', '专'] },
            drinks: { name: '砖拽转 拽', icon: '', unit: '\'', unitOptions: ['\'', '专', '"'] },
            wine: { name: ' ', icon: '', unit: '\'', unitOptions: ['\'', '"'] },
            snacks: { name: '驻 转拽', icon: '', unit: '\'', unitOptions: ['\'', '专'] },
            frozen: { name: '拽驻', icon: '锔', unit: '\'', unitOptions: ['\'', '拽"', '专'] },
            health: { name: ' ', icon: '', unit: '\'', unitOptions: ['\'', '专'] },
            hygiene: { name: ' 专爪', icon: '', unit: '\'', unitOptions: ['\''] },
            cleaning: { name: '拽', icon: '', unit: '\'', unitOptions: ['\'', '专'] },
            candles: { name: '专转', icon: '锔', unit: '\'', unitOptions: ['\''] },
            baby: { name: '转拽转 ', icon: '', unit: '\'', unitOptions: ['\''] },
            pets: { name: '转 ', icon: '', unit: '\'', unitOptions: ['\'', '拽"'] }
        };

        // Category key to translation key mapping
        const CATEGORY_TO_TRANSLATION = {
            fruits: 'fruitsVeg',
            dairy: 'dairyProducts',
            desserts: 'dairyDesserts',
            meat: 'meat',
            fish: 'fish',
            deli: 'deli',
            salads: 'readySalads',
            bakery: 'breadBakery',
            spreads: 'spreads',
            baking: 'bakingProducts',
            cereals: 'cereals',
            canned: 'cannedDry',
            spices: 'spices',
            coffee: 'coffeeTea',
            drinks: 'drinks',
            wine: 'wineAlcohol',
            snacks: 'snacks',
            frozen: 'frozen',
            health: 'dietProtein',
            hygiene: 'hygiene',
            cleaning: 'cleaning',
            candles: 'candlesOil',
            baby: 'babyKids',
            pets: 'pets'
        };

        // Israeli holidays for calendar reminders (2025-2030)
        const ISRAELI_HOLIDAYS = [
            // 2025
            { name: '驻专', icon: '', date: '14.03.2025', dateObj: new Date('2025-03-14'), reminder: ' 拽转 砖 转  ', type: 'jewish' },
            { name: '驻住', icon: '', date: '13-19.04.2025', dateObj: new Date('2025-04-13'), reminder: ' 拽转 爪转, , 专住转 爪专 ', type: 'jewish' },
            { name: ' 砖', icon: '锔', date: '24.04.2025', dateObj: new Date('2025-04-24'), reminder: ' 专 砖 专', type: 'national' },
            { name: ' 专', icon: '锔', date: '30.04.2025', dateObj: new Date('2025-04-30'), reminder: ' 专  爪"', type: 'national' },
            { name: ' 注爪转', icon: '', date: '01.05.2025', dateObj: new Date('2025-05-01'), reminder: ' 拽转 砖专, 拽拽转 爪 !', type: 'national' },
            { name: '" 注专', icon: '', date: '16.05.2025', dateObj: new Date('2025-05-16'), reminder: ' 拽转 砖专 拽拽转 专', type: 'jewish' },
            { name: ' 专砖', icon: '锔', date: '02.06.2025', dateObj: new Date('2025-06-02'), reminder: ' 专砖', type: 'national' },
            { name: '砖注转', icon: '', date: '02-03.06.2025', dateObj: new Date('2025-06-02'), reminder: ' 拽转 爪专  注转 ', type: 'jewish' },
            { name: '专砖 砖', icon: '', date: '23-24.09.2025', dateObj: new Date('2025-09-23'), reminder: ' 拽转 砖, 转驻, 专 ', type: 'jewish' },
            { name: ' 驻专', icon: '锔', date: '02.10.2025', dateObj: new Date('2025-10-02'), reminder: '   驻 专 爪', type: 'jewish' },
            { name: '住转', icon: '', date: '07-13.10.2025', dateObj: new Date('2025-10-07'), reminder: ' 拽转 专注转   ', type: 'jewish' },
            { name: '砖转 转专', icon: '', date: '15.10.2025', dateObj: new Date('2025-10-15'), reminder: '   转拽', type: 'jewish' },
            { name: '', icon: '', date: '15-22.12.2025', dateObj: new Date('2025-12-15'), reminder: ' 拽转 砖, 专转, 住驻转 转', type: 'jewish' },
            { name: '住住专', icon: '', date: '31.12.2025', dateObj: new Date('2025-12-31'), reminder: '住转 住祝 砖 -  拽转 驻 砖转', type: 'civil' },
            // 2026
            { name: '专砖 砖 专转', icon: '', date: '01.01.2026', dateObj: new Date('2026-01-01'), reminder: '砖 专转 砖!', type: 'civil' },
            { name: '" 砖', icon: '', date: '04.02.2026', dateObj: new Date('2026-02-04'), reminder: ' 拽转 驻专转 砖 驻专转 专抓', type: 'jewish' },
            { name: '驻专', icon: '', date: '03.03.2026', dateObj: new Date('2026-03-03'), reminder: ' 拽转 砖 转  ', type: 'jewish' },
            { name: '驻住', icon: '', date: '02-08.04.2026', dateObj: new Date('2026-04-02'), reminder: ' 拽转 爪转, , 专住转 爪专 ', type: 'jewish' },
            { name: ' 砖', icon: '锔', date: '21.04.2026', dateObj: new Date('2026-04-21'), reminder: ' 专 砖 专', type: 'national' },
            { name: ' 专', icon: '锔', date: '28.04.2026', dateObj: new Date('2026-04-28'), reminder: ' 专  爪"', type: 'national' },
            { name: ' 注爪转', icon: '', date: '29.04.2026', dateObj: new Date('2026-04-29'), reminder: ' 拽转 砖专, 拽拽转 爪 !', type: 'national' },
            { name: '" 注专', icon: '', date: '07.05.2026', dateObj: new Date('2026-05-07'), reminder: ' 拽转 砖专 拽拽转 专', type: 'jewish' },
            { name: ' 专砖', icon: '锔', date: '22.05.2026', dateObj: new Date('2026-05-22'), reminder: ' 专砖', type: 'national' },
            { name: '砖注转', icon: '', date: '22-23.05.2026', dateObj: new Date('2026-05-22'), reminder: ' 拽转 爪专  注转 ', type: 'jewish' },
            { name: '专砖 砖', icon: '', date: '12-13.09.2026', dateObj: new Date('2026-09-12'), reminder: ' 拽转 砖, 转驻, 专 ', type: 'jewish' },
            { name: ' 驻专', icon: '锔', date: '21.09.2026', dateObj: new Date('2026-09-21'), reminder: '   驻 专 爪', type: 'jewish' },
            { name: '住转', icon: '', date: '26.09-02.10.2026', dateObj: new Date('2026-09-26'), reminder: ' 拽转 专注转   ', type: 'jewish' },
            { name: '砖转 转专', icon: '', date: '04.10.2026', dateObj: new Date('2026-10-04'), reminder: '   转拽', type: 'jewish' },
            { name: '', icon: '', date: '05-12.12.2026', dateObj: new Date('2026-12-05'), reminder: ' 拽转 砖, 专转, 住驻转 转', type: 'jewish' },
            { name: '住住专', icon: '', date: '31.12.2026', dateObj: new Date('2026-12-31'), reminder: '住转 住祝 砖 -  拽转 驻 砖转', type: 'civil' },
            // 2027
            { name: '专砖 砖 专转', icon: '', date: '01.01.2027', dateObj: new Date('2027-01-01'), reminder: '砖 专转 砖!', type: 'civil' },
            { name: '" 砖', icon: '', date: '23.01.2027', dateObj: new Date('2027-01-23'), reminder: ' 拽转 驻专转 砖 驻专转 专抓', type: 'jewish' },
            { name: '驻专', icon: '', date: '23.03.2027', dateObj: new Date('2027-03-23'), reminder: ' 拽转 砖 转  ', type: 'jewish' },
            { name: '驻住', icon: '', date: '22-28.04.2027', dateObj: new Date('2027-04-22'), reminder: ' 拽转 爪转, , 专住转 爪专 ', type: 'jewish' },
            { name: ' 砖', icon: '锔', date: '11.05.2027', dateObj: new Date('2027-05-11'), reminder: ' 专 砖 专', type: 'national' },
            { name: ' 专', icon: '锔', date: '18.05.2027', dateObj: new Date('2027-05-18'), reminder: ' 专  爪"', type: 'national' },
            { name: ' 注爪转', icon: '', date: '19.05.2027', dateObj: new Date('2027-05-19'), reminder: ' 拽转 砖专, 拽拽转 爪 !', type: 'national' },
            { name: '" 注专', icon: '', date: '27.05.2027', dateObj: new Date('2027-05-27'), reminder: ' 拽转 砖专 拽拽转 专', type: 'jewish' },
            { name: ' 专砖', icon: '锔', date: '10.06.2027', dateObj: new Date('2027-06-10'), reminder: ' 专砖', type: 'national' },
            { name: '砖注转', icon: '', date: '11-12.06.2027', dateObj: new Date('2027-06-11'), reminder: ' 拽转 爪专  注转 ', type: 'jewish' },
            { name: '专砖 砖', icon: '', date: '02-03.10.2027', dateObj: new Date('2027-10-02'), reminder: ' 拽转 砖, 转驻, 专 ', type: 'jewish' },
            { name: ' 驻专', icon: '锔', date: '11.10.2027', dateObj: new Date('2027-10-11'), reminder: '   驻 专 爪', type: 'jewish' },
            { name: '住转', icon: '', date: '16-22.10.2027', dateObj: new Date('2027-10-16'), reminder: ' 拽转 专注转   ', type: 'jewish' },
            { name: '砖转 转专', icon: '', date: '24.10.2027', dateObj: new Date('2027-10-24'), reminder: '   转拽', type: 'jewish' },
            { name: '', icon: '', date: '25.12.2027-01.01.2028', dateObj: new Date('2027-12-25'), reminder: ' 拽转 砖, 专转, 住驻转 转', type: 'jewish' },
            { name: '住住专', icon: '', date: '31.12.2027', dateObj: new Date('2027-12-31'), reminder: '住转 住祝 砖 -  拽转 驻 砖转', type: 'civil' },
            // 2028
            { name: '专砖 砖 专转', icon: '', date: '01.01.2028', dateObj: new Date('2028-01-01'), reminder: '砖 专转 砖!', type: 'civil' },
            { name: '" 砖', icon: '', date: '11.02.2028', dateObj: new Date('2028-02-11'), reminder: ' 拽转 驻专转 砖 驻专转 专抓', type: 'jewish' },
            { name: '驻专', icon: '', date: '12.03.2028', dateObj: new Date('2028-03-12'), reminder: ' 拽转 砖 转  ', type: 'jewish' },
            { name: '驻住', icon: '', date: '11-17.04.2028', dateObj: new Date('2028-04-11'), reminder: ' 拽转 爪转, , 专住转 爪专 ', type: 'jewish' },
            { name: ' 砖', icon: '锔', date: '30.04.2028', dateObj: new Date('2028-04-30'), reminder: ' 专 砖 专', type: 'national' },
            { name: ' 专', icon: '锔', date: '07.05.2028', dateObj: new Date('2028-05-07'), reminder: ' 专  爪"', type: 'national' },
            { name: ' 注爪转', icon: '', date: '08.05.2028', dateObj: new Date('2028-05-08'), reminder: ' 拽转 砖专, 拽拽转 爪 !', type: 'national' },
            { name: '" 注专', icon: '', date: '16.05.2028', dateObj: new Date('2028-05-16'), reminder: ' 拽转 砖专 拽拽转 专', type: 'jewish' },
            { name: ' 专砖', icon: '锔', date: '30.05.2028', dateObj: new Date('2028-05-30'), reminder: ' 专砖', type: 'national' },
            { name: '砖注转', icon: '', date: '31.05-01.06.2028', dateObj: new Date('2028-05-31'), reminder: ' 拽转 爪专  注转 ', type: 'jewish' },
            { name: '专砖 砖', icon: '', date: '21-22.09.2028', dateObj: new Date('2028-09-21'), reminder: ' 拽转 砖, 转驻, 专 ', type: 'jewish' },
            { name: ' 驻专', icon: '锔', date: '30.09.2028', dateObj: new Date('2028-09-30'), reminder: '   驻 专 爪', type: 'jewish' },
            { name: '住转', icon: '', date: '05-11.10.2028', dateObj: new Date('2028-10-05'), reminder: ' 拽转 专注转   ', type: 'jewish' },
            { name: '砖转 转专', icon: '', date: '13.10.2028', dateObj: new Date('2028-10-13'), reminder: '   转拽', type: 'jewish' },
            { name: '', icon: '', date: '13-20.12.2028', dateObj: new Date('2028-12-13'), reminder: ' 拽转 砖, 专转, 住驻转 转', type: 'jewish' },
            { name: '住住专', icon: '', date: '31.12.2028', dateObj: new Date('2028-12-31'), reminder: '住转 住祝 砖 -  拽转 驻 砖转', type: 'civil' },
            // 2029
            { name: '专砖 砖 专转', icon: '', date: '01.01.2029', dateObj: new Date('2029-01-01'), reminder: '砖 专转 砖!', type: 'civil' },
            { name: '" 砖', icon: '', date: '31.01.2029', dateObj: new Date('2029-01-31'), reminder: ' 拽转 驻专转 砖 驻专转 专抓', type: 'jewish' },
            { name: '驻专', icon: '', date: '01.03.2029', dateObj: new Date('2029-03-01'), reminder: ' 拽转 砖 转  ', type: 'jewish' },
            { name: '驻住', icon: '', date: '31.03-06.04.2029', dateObj: new Date('2029-03-31'), reminder: ' 拽转 爪转, , 专住转 爪专 ', type: 'jewish' },
            { name: ' 砖', icon: '锔', date: '18.04.2029', dateObj: new Date('2029-04-18'), reminder: ' 专 砖 专', type: 'national' },
            { name: ' 专', icon: '锔', date: '25.04.2029', dateObj: new Date('2029-04-25'), reminder: ' 专  爪"', type: 'national' },
            { name: ' 注爪转', icon: '', date: '26.04.2029', dateObj: new Date('2029-04-26'), reminder: ' 拽转 砖专, 拽拽转 爪 !', type: 'national' },
            { name: '" 注专', icon: '', date: '04.05.2029', dateObj: new Date('2029-05-04'), reminder: ' 拽转 砖专 拽拽转 专', type: 'jewish' },
            { name: ' 专砖', icon: '锔', date: '18.05.2029', dateObj: new Date('2029-05-18'), reminder: ' 专砖', type: 'national' },
            { name: '砖注转', icon: '', date: '20-21.05.2029', dateObj: new Date('2029-05-20'), reminder: ' 拽转 爪专  注转 ', type: 'jewish' },
            { name: '专砖 砖', icon: '', date: '10-11.09.2029', dateObj: new Date('2029-09-10'), reminder: ' 拽转 砖, 转驻, 专 ', type: 'jewish' },
            { name: ' 驻专', icon: '锔', date: '19.09.2029', dateObj: new Date('2029-09-19'), reminder: '   驻 专 爪', type: 'jewish' },
            { name: '住转', icon: '', date: '24-30.09.2029', dateObj: new Date('2029-09-24'), reminder: ' 拽转 专注转   ', type: 'jewish' },
            { name: '砖转 转专', icon: '', date: '02.10.2029', dateObj: new Date('2029-10-02'), reminder: '   转拽', type: 'jewish' },
            { name: '', icon: '', date: '02-09.12.2029', dateObj: new Date('2029-12-02'), reminder: ' 拽转 砖, 专转, 住驻转 转', type: 'jewish' },
            { name: '住住专', icon: '', date: '31.12.2029', dateObj: new Date('2029-12-31'), reminder: '住转 住祝 砖 -  拽转 驻 砖转', type: 'civil' },
            // 2030
            { name: '专砖 砖 专转', icon: '', date: '01.01.2030', dateObj: new Date('2030-01-01'), reminder: '砖 专转 砖!', type: 'civil' },
            { name: '" 砖', icon: '', date: '19.01.2030', dateObj: new Date('2030-01-19'), reminder: ' 拽转 驻专转 砖 驻专转 专抓', type: 'jewish' },
            { name: '驻专', icon: '', date: '18.02.2030', dateObj: new Date('2030-02-18'), reminder: ' 拽转 砖 转  ', type: 'jewish' },
            { name: '驻住', icon: '', date: '18-24.03.2030', dateObj: new Date('2030-03-18'), reminder: ' 拽转 爪转, , 专住转 爪专 ', type: 'jewish' },
            { name: ' 砖', icon: '锔', date: '07.04.2030', dateObj: new Date('2030-04-07'), reminder: ' 专 砖 专', type: 'national' },
            { name: ' 专', icon: '锔', date: '14.04.2030', dateObj: new Date('2030-04-14'), reminder: ' 专  爪"', type: 'national' },
            { name: ' 注爪转', icon: '', date: '15.04.2030', dateObj: new Date('2030-04-15'), reminder: ' 拽转 砖专, 拽拽转 爪 !', type: 'national' },
            { name: '" 注专', icon: '', date: '23.04.2030', dateObj: new Date('2030-04-23'), reminder: ' 拽转 砖专 拽拽转 专', type: 'jewish' },
            { name: ' 专砖', icon: '锔', date: '07.05.2030', dateObj: new Date('2030-05-07'), reminder: ' 专砖', type: 'national' },
            { name: '砖注转', icon: '', date: '08-09.05.2030', dateObj: new Date('2030-05-08'), reminder: ' 拽转 爪专  注转 ', type: 'jewish' },
            { name: '专砖 砖', icon: '', date: '28-29.09.2030', dateObj: new Date('2030-09-28'), reminder: ' 拽转 砖, 转驻, 专 ', type: 'jewish' },
            { name: ' 驻专', icon: '锔', date: '07.10.2030', dateObj: new Date('2030-10-07'), reminder: '   驻 专 爪', type: 'jewish' },
            { name: '住转', icon: '', date: '12-18.10.2030', dateObj: new Date('2030-10-12'), reminder: ' 拽转 专注转   ', type: 'jewish' },
            { name: '砖转 转专', icon: '', date: '20.10.2030', dateObj: new Date('2030-10-20'), reminder: '   转拽', type: 'jewish' },
            { name: '', icon: '', date: '21-28.12.2030', dateObj: new Date('2030-12-21'), reminder: ' 拽转 砖, 专转, 住驻转 转', type: 'jewish' },
            { name: '住住专', icon: '', date: '31.12.2030', dateObj: new Date('2030-12-31'), reminder: '住转 住祝 砖 -  拽转 驻 砖转', type: 'civil' }
        ];

        const PRODUCTS = {
            dairy: [' 3%', ' 1%', '  砖', ' 住', ' 砖拽', ' 拽拽住', ' 砖转 砖注', '', ' 注', ' 爪 注拽', ' 爪 注', ' 爪 9%', ' 爪 22%', '拽壮 5%', '拽壮 3%', ' 专转', '爪驻转转', '转 砖转', '驻专', '爪专', '爪 L', '爪 XL', '爪 专转', '爪 驻砖转', '', ' ', '砖转 转拽', '砖转 爪', '砖转 拽爪驻转', '专', '专 ', '专  0%', '专 转', '专 砖专住', '专 拽', '  5%', '  9%', '专 专', '专 ', '转 注', '转 专拽驻专', '拽砖拽', '', '', '专', '拽专', '', '驻驻', '', '专拽', '住拽专驻', '专 ', ' 转转', ' 爪', ' 砖', '专专', '驻', '驻 拽砖'],

            fruits: ['注转', '注转 砖专', '注转 ', '驻驻', '驻驻 ', '爪', '爪 住', '爪 专拽', '砖', '砖 拽祝', '驻驻 ', '驻驻 专拽', '驻驻 爪', '驻驻 转', '驻驻 专祝', '住', '住 住专', '住 专转', '专', '专 住', '专 住', '专', '专 ', '住拽', '住拽 砖', '转驻状 ', '转驻状 ', '', '拽砖', '拽砖 专拽', '爪', '专拽', '专转', '转专', '转专 ', '砖专', '专', '专砖', '专', '注注', '专拽', '驻专', '住专', '住专', '砖专', '拽专', '专砖拽', '住驻专住', '驻专转 砖驻', '驻专转 驻专', '', '', '转', '转驻 专拽', '转驻 ', '转驻', '砖转', '砖转 ', '驻', '', '', ' ', '注 专拽', '注 砖专', '住', '砖驻', '驻专住拽', '拽专转', '拽转', '拽', '专', '', '住', '拽', '转转', '驻', '转', '', '砖砖', '转', '驻住驻专', '驻驻', '拽专', '爪\'', '专拽 驻专', '拽拽住'],

            bakery: ['', ' ', ' 砖驻', ' 住', ' ', ' 驻专住', ' ', '  ', '', ' ', ' 转拽', '注转', '注转 砖拽 爪\'驻住', '注转 ', '驻转转', '驻转转 转', '驻转转 ', '转', '转 专专', '转 拽拽', '', '爪\'', '驻拽爪\'', '专', ' 砖砖', ' 驻砖', '爪转', '爪转 转', '拽专拽专', ' 拽', '专', '驻', '', '拽专住', '拽专住 砖拽', '专砖', '住驻转', '住', '驻住', '注转 砖专', '砖专', '专', '专拽住', '专拽住 ', '专拽住 转驻状', '专拽住 驻专转'],

            spreads: ['', ' 400 专', ' 750 专', '专 砖拽', '专 砖拽 砖专 注', '专 砖拽 注转', '专 ', '专 住', '转 ', '转  拽', '转  拽专爪\'', '转  住拽驻', '转 砖拽', '转 拽砖', '转  ', '', ' 转', '  专', ' ', '', ' 驻专住', ' 砖拽', ' 驻住拽', '专', '专 转转', '专 砖砖', '专 ', '专 转驻', '专 驻', '专  住专', '专', '砖', '砖 专', '砖 驻专', '砖 专', '住', '住 专', '专 砖', '专 转', '专 注转 砖转', '专 专砖拽', '驻住', '驻住 专拽', '驻住 ', '专 ', '专 爪', '住 专'],

            baking: ['拽', '拽 ', '拽 ', '拽 转专住', '拽 住', '拽 砖拽', '拽 拽拽住', '拽  ', '拽 转驻', '拽 ', '拽 ', '拽 驻爪', '拽 驻拽爪\'', '拽  驻', '拽专驻专', '注', '注 转专住', '住专', '住专 ', '住专 ', '住专 专专', '住专 ', '住专 拽', '住专转', '住', '砖专', '砖专 砖', '砖专 专', '拽转 驻', '住 砖转', '', '转爪转 ', '拽转 ', '砖拽 爪\'驻住', '砖拽 爪\'驻住 专专', '砖拽 爪\'驻住 ', '砖拽 专专 驻', '砖拽  驻', '砖拽  驻', '拽拽', '拽转 拽拽', '拽拽住 专', '拽拽住 ', '砖拽', '砖拽 ', '砖拽 驻专住', '砖拽 砖', ' ', '  ', '驻拽', '驻拽 ', '拽砖', '驻住拽', ' ', '爪拽', '爪转', '转专', '转专 \'', '驻专', '砖砖', '专爪驻', '驻', '爪拽 住专', '爪注 ', '住专转 拽砖', '专 驻', '驻专专 ', '驻专专 住拽', '驻 砖拽', '驻 '],

            meat: ['注祝 砖 专', '注祝 砖 拽驻', ' 注祝 专', ' 注祝 拽驻', ' 注祝 驻专住 专', '专注 注祝 专转', '专注 注祝 拽驻转', '砖拽 注祝 专', '砖拽 注祝 拽驻', '驻 注祝 专转', '驻 注祝 拽驻转', '注祝  专', '注祝  拽驻', ' 注祝 专', ' 注祝 拽驻', '转 注祝', '驻专转 专', '驻专转 拽驻', '  专', '  拽驻', '  专', '  拽驻', '砖专  专', '砖专  拽驻', '砖专  专 专', '专拽 专', '专拽 拽驻', '住 专', '住 拽驻', '驻 拽专 专', '驻 拽专 拽驻', '爪注转 拽专 专转', '爪注转 拽专 拽驻转', '砖驻专 专', '砖驻专 拽驻', '住 专', '住 拽驻', '砖 专', '砖 拽驻', '砖专 砖专 专', '砖专 砖专 拽驻', ' 专', ' 拽驻', '砖 专', '砖 拽驻', '砖爪 注祝 专', '砖爪 注祝 拽驻', '砖爪  专', '砖爪  拽驻', '拽 专', '拽 拽驻', '专专 专', '专专 拽驻', '专专 转', '拽拽转 注祝', '拽拽转 拽专'],

            fish: ['住 专', '住 拽驻', '住 注砖', '驻 住 专', '驻 住 拽驻', '驻  专', '驻  拽驻', '驻 专 专', '驻 专 拽驻', '驻 住 专', '驻 住 拽驻', ' 专', ' 砖 专', ' 砖 拽驻', '住 ', '砖专驻住 拽驻', '拽专 拽驻', '', '住专', ' 注砖'],

            desserts: ['拽', '拽 专', '', ' 砖拽', '驻', '', '注 ', '注 砖拽', '注 拽专', '注 住拽', '注 住', '砖拽 转', '砖拽 转', '注 专', '注 转转', '注 ', '住 砖拽', '住 ', '驻专 ', ' 专', '专住', '拽专 专', '驻拽', '专 ', '住专', '', '', '拽专 拽'],

            deli: ['住 注砖', '拽拽 转祝', '住 转', '拽拽 住 拽拽', '拽拽 专', '专住祝', '转祝 拽专 驻驻', '驻住专 拽转', '驻住专 ', '驻住专 专', '驻住专 ', '驻住专 砖', '驻住专 专拽', '驻住专 爪 注 ', '驻住专 驻专转', '驻住专 驻专转'],

            salads: ['住', '', '住 爪', '住 ', '住 专拽', '住 专', '住 专', '住 拽住', '住 爪', '住 ', '住 专', '住 专拽转', '住 拽', '住 驻住', '住 注砖', '拽', '住住', ' 砖', '住 住', '住 驻专转', '住 住拽', '住 转驻状', '住 驻驻 拽', '专 拽', '住 拽'],

            canned: ['专', '专 住', '专 住', '专 ', '专 住砖', '专 驻专住', '驻住', '驻住 驻', '驻住 住驻', '驻住 驻专驻', '驻住 驻', '驻住 ', '驻住 ', '拽住拽住', '拽住拽住 ', '拽住拽住 驻转转', '拽转', '专 注转', '专 驻住', '专住拽 注转', '', ' ', ' 砖', ' 专', '转专住', '转专住 转拽', '专专 转专住', '砖 转', '砖 转 转转', '砖 拽', '砖 转', '砖 转专住', '砖 砖砖', '砖 ', '抓 住', '抓 ', '抓 转驻', '抓 ', '抓 ', '住', '住 ', '转', '转 砖专', '转 专拽', '转 拽', '驻驻 抓', '驻驻 专祝', '驻驻专拽 拽', '', '', '专', '拽', '驻专拽', '住', '专转', '驻', '专专 住', '注砖', '注砖 转转', '注砖 专拽转', '砖注注转 ', '砖注注转 ', '砖注注转 砖专', '驻', '住', '砖'],

            cereals: ['拽专驻拽住 拽住', '拽专驻拽住 砖', '拽专驻拽住 砖拽', '拽专驻拽住 专转', '拽专驻拽住 驻专转', '专拽住', '驻转转 转专住', '专', '专 砖拽', '专 驻专转', '专 ', '', '砖转 砖注', '驻爪驻爪 专', '拽拽专', ' ', ' 住', '爪\'专住', '住 驻住', '住拽 专', '祝 ', '祝 专', ' 专', '驻专 驻住', '拽拽 驻驻住', '', '住拽住', '爪\'专住', '拽专抓\'', '住 拽专抓\'', '专 砖拽'],

            spices: ['', ' ', ' 砖', ' 住', '驻驻 砖专', '驻驻 专住', '驻驻专拽', '驻驻专拽 转拽', '驻驻专拽 专驻', '驻驻专拽 注砖转', '专', '', '拽', '拽 ', '拽转 拽', '拽转 砖', '拽转 爪', '专', '拽', '注转专', '住拽', '壮', '转 注祝', '转 ', '转 砖专', '转 专', '拽专', '专 住', '爪', '拽', '', ' 住拽', '爪驻专', '住专 ', '拽专', '注 驻', '专专', '', '驻驻专拽 ', '', ' 住', '砖专', '注专转', '专'],

            coffee: ['拽驻 住', '拽驻 \'拽住', '拽驻 专拽', '拽驻 砖专', '拽驻 住驻专住', '拽驻  拽驻', '拽驻住转 住驻专住', '拽驻住转 爪\'', '拽驻住转 爪', '拽驻住转 住', '拽驻住转 专', '拽驻 拽 ', '转 砖专', '转 专拽', '转 专拽 住', '转 爪', '转 注注', '转 ', '转 驻', '转 住爪拽', '转 驻拽', '转 拽', '转 专', '转 \'\'专', '转 ', '转 专 专', '转 ', ' 专', '住 拽驻', '拽拽 砖拽', '拽转 拽拽'],

            drinks: [' 注', ' 注', '注转', '拽 1.5 专', '拽 1 专', '拽 驻转', '砖砖转 拽', '砖砖转 拽 驻转', '拽 专 1.5 专', '拽 专 1 专', '拽 专 驻转', '砖砖转 拽 专', '拽 ', '拽  1.5 专', '驻驻住', '驻驻住 1.5 专', '驻驻住 驻转', '砖砖转 驻驻住', '驻驻住 拽住', '驻驻住 拽住 1.5 专', '住驻专', '住驻专 1.5 专', '住驻专 驻转', '砖砖转 住驻专', '住驻专 专', '驻', '驻 1.5 专', '驻 驻转', '砖砖转 驻', '住', '住 驻转', '拽', '拽 驻转', '抓 转驻', '抓 转驻 住', '抓 转驻 1 专', '抓 转驻', '抓 注', '抓 专', '抓 专', '抓 驻专转', '抓 住驻专', '拽专', '转驻', '', '注注', 'XL 专', 'XL 驻转', '专 ', '专  驻转', '住专', '住专 驻转', '砖拽 住驻专', '砖拽 专', '砖拽 ', ' 拽拽住'],

            wine: [' ', ' ', ' 专', ' 注注', ' 砖', ' 爪 砖', ' 转拽', ' 拽砖', ' 驻住', ' 专拽', ' 拽 ', ' 专', ' 驻专专', ' 住', ' 驻住转', ' 专转 ', ' 专', ' 转专', '砖驻', '驻专住拽', '拽', '住转', '专', '专 住专', '专 ', '专 拽专住专', '专 拽', '专 拽专', '专 住', '专 专', '专 住专', '专 转', '专 ', '专  ', '住专', '住专 转驻', '注专拽', '注专拽 转', '拽', '拽 住', '拽 住专祝', '拽 专 住', '住拽', '住拽 \' 拽专', '住拽 \'拽 住', '住拽 \'住', '专', '专 拽专', '\'', '\' 专住', '拽', '拽拽', '专', '拽专', '拽专 拽驻', '拽专 砖拽', '拽专 驻专转', '专', '住', '拽驻专', '驻专', '住专'],

            snacks: ['', ' ', ' ', '住', '住 专', '住 爪', '住 驻爪', '专住', '专住 爪\'', '专 爪\'驻住', '转驻爪\'驻住', '驻专住', '驻专住 抓', '驻驻拽专', '驻驻拽专 拽专', '驻驻拽专 拽专', '砖拽', '砖拽 驻专', '砖拽 拽', '砖拽 ', '砖拽 专专', '砖拽 ', '砖拽 注 ', '拽专', '住拽专住', '专住', '拽住', '拽拽', '住拽', '注转 专', '注转 住', '驻', '驻 ', '拽爪驻转', '专砖', '住专转', '住专转 ', '', '住拽', '住', '拽 拽', '注转 砖拽', '注转 ', '专', '拽专', '驻住拽 ', '拽拽', '注'],

            frozen: ['', ' ', ' 砖拽', ' 转转', ' 驻住拽', ' 拽专', '转 驻专', '专拽', '', '拽专', '砖', '驻专转 拽驻', '转转 拽驻', '驻 拽驻', '转 拽驻转', ' 拽驻', '专拽转 拽驻', '专拽转 拽驻爪', '驻 拽驻', '转专住 拽驻', '砖注注转 专拽 拽驻', '专拽 拽驻', '转专 拽驻', '砖爪 拽驻', '住 拽驻', '拽爪爪转 拽驻转', '专专 拽驻', '驻爪 拽驻', '驻爪 砖驻转转', ' 拽驻', '爪拽 注', '爪拽 驻', '爪拽 驻爪', '爪拽 驻', '爪拽 \'', '爪拽 ', '爪拽 住住拽', '爪拽 专拽住', '爪\'住', '拽专驻', '驻 拽驻', '\' 驻 '],

            health: ['专 ', '拽\' 3%', '砖拽 ', '砖拽 ', '拽转 ', '驻专 专', '祝 ', '祝 专', ' ', '  ', '驻转 ', '拽专拽专 ', '拽专拽专 专', ' ', '住 ', ' 注祝 注砖', '专 专转', '砖转 砖注', '专注 爪\'', '专注 驻砖转', '拽', ' 注', '砖拽 注', '驻专转 砖  住专', '爪转', '\' 专', '住驻专', '', ' 3', '驻专拽'],

            cleaning: ['专 ', '专  转转 砖转', '转 专', '转 专 ', '转 专', '住 ', '住  驻专', ' ', '拽转 住', '拽转 住 专', '\' 住', '\' 住 专', '拽驻住转 住', '专 住', '砖 住', '拽拽', '拽拽 \'', '抓 住', '拽 专爪驻转', '拽 专爪驻转 住', '拽 转', '拽 ', '拽 砖专转', '拽 专', '拽 转专', '拽 砖', '拽转 拽', '住祝', '专 住拽', '住驻', '住驻 驻', '转 专爪驻', '转 拽', '砖拽转 砖驻', '砖拽转 砖驻 转', '砖拽转 砖驻 专转', '砖拽转 驻拽', '砖拽转 专', '砖拽转 拽驻', '专 驻', '专 ', ' 爪', '转 ', ' ', ' 专拽 ', '拽 ', '专 专', '专 砖驻'],

            hygiene: ['住 ', '住  ', ' ', '\' ', '专砖转 砖', '专砖转 砖 砖转', '专砖 专砖转', '砖转 砖', '砖转 砖 住住', ' 驻', ' ', '拽住 砖', '砖驻', '砖驻   砖专住', '砖驻 驻', '砖驻 砖注专 砖', '砖驻 砖注专 砖', '砖驻  拽砖拽砖', '专 砖注专', '住 砖注专', '住专 砖注专', '住驻专 砖注专', '\' 砖注专', '拽爪祝 砖注专', '砖驻 ', '住 祝', '\' 专爪', '\' 专爪 ', '拽专 ', '\' ', '住 ', '住  \'', '专', '专 专 ', '专 住驻专', '驻专住驻专', '拽专 驻', '拽专 转', '拽专 ', '拽专 祝', '拽专 专', '砖 祝', '住 祝', '转砖转', '驻住专', '爪专 驻', '拽 ', '驻', ' 转转', '转砖转 ', '转砖转 ', '拽专 ', '拽专 砖祝', '驻专 住', '住专 驻专', ' 住专转 驻专'],

            candles: ['专转 砖转', '专转 ', '专转  爪注', '专 砖 24 砖注转', '专 砖 48 砖注转', '专 砖 7 ', '专 ', '专转  转', '专转 专', '专转 拽专', '驻转转', '驻专专', '爪转'],

            baby: ['转  1', '转  2', '转  3', '转  4', '转  5', '转  6', '住 转', '转 ', ' 转拽转', ' 专砖', '砖驻 转拽转', '住 转拽转', ' 住 转拽转', '拽专 转', '拽专 驻砖', '拽专 住', '砖转 转', '砖 转拽转', '拽专 驻 转拽', '拽转  住拽', '拽转  专', '转 驻专转', '转 专拽转', '住 转拽转', '住 转拽转', '祝 转拽转', '抓 转拽转', '爪爪', '拽拽 转拽', '驻转', '专砖转 砖 转拽', '砖转 砖 转拽', '砖驻 ', '住 '],

            pets: [' ', ' 砖 ', ' 专 ', '  专', ' 专', ' 转', ' 砖 转', ' 专 转', ' 转 专', ' 专 转', ' 转', ' 转砖', ' 住拽', '驻 ', '驻 转', '注爪转 注住', '住拽住', '爪注爪注 ', '爪注爪注 转', ' ', ' 转', '拽注专转 ', '拽注专转 ', '专爪注 ', '拽专', '住专拽 ', '砖驻 ', '砖拽转 拽拽', '砖 ', ' ', ' 爪驻专', ' 专']
        };

        // Average Israeli supermarket prices (in NIS) - Updated 2024
        // Comprehensive Israeli supermarket price database (average prices in NIS)
        // Price database - will be updated from API
        let PRODUCT_PRICES = {
            // Dairy - 爪专  (expanded)
            ' 3%': 6.90, ' 1%': 6.50, '  砖': 6.50, ' 住': 12.90, ' 砖拽': 14.90,
            ' 拽拽住': 14.90, ' 砖转 砖注': 13.90, '': 5.90, ' 注': 8.90,
            ' 爪 注拽': 32.90, ' 爪 注': 28.90, ' 爪 9%': 24.90, ' 爪 22%': 28.90,
            '拽壮 5%': 8.90, '拽壮 3%': 8.50, ' 专转': 18.90, '爪驻转转': 22.90,
            '转 砖转': 12.90, '爪专': 19.90, '驻专': 42.90, '': 34.90,
            '': 38.90, '专': 32.90, '拽专': 28.90, '': 36.90,
            '驻驻': 16.90, '': 12.90, '专拽': 22.90, '转 注': 28.90,
            '爪 L': 24.90, '爪 XL': 28.90, '爪 专转': 34.90, '爪 驻砖转': 32.90, '': 14.90,
            ' ': 15.90, '砖转 转拽': 9.90, '砖转 爪': 7.90, '砖转 拽爪驻转': 11.90,
            '专': 5.90, '专 ': 8.90, '专  0%': 9.90, '专 转': 5.90,
            '专 拽': 7.90, '  5%': 8.90, '  9%': 9.90,
            '专专': 9.90, '驻': 18.90,

            // Bread & Bakery -  驻 (expanded)
            '': 7.90, ' ': 9.90, ' 砖驻': 12.90, ' 住': 14.90, ' ': 11.90,
            ' 驻专住': 8.90, '  ': 22.90, '': 12.90, ' ': 14.90,
            '驻转转': 8.90, '驻转转 转': 10.90, '驻转转 ': 7.90, '转': 9.90,
            '转 专专': 12.90, '': 6.90, '爪\'': 9.90, '驻拽爪\'': 14.90,
            '专': 14.90, '驻': 8.90, '拽专住': 7.90, '拽专住 砖拽': 9.90,
            '专拽住 ': 14.90, '专拽住 转驻状': 12.90, '专拽住 驻专转': 14.90,
            '驻住': 16.90, '注转': 12.90, '注转 砖拽 爪\'驻住': 14.90,
            '专': 19.90, '砖专': 24.90, '爪转': 12.90, '拽专拽专': 9.90,

            // Fruits & Vegetables - 驻专转 专拽转 (expanded)
            '注转': 8.90, '注转 砖专': 12.90, '注转 ': 14.90, '驻驻': 6.90,
            '驻驻 ': 9.90, '爪': 4.90, '爪 住': 6.90, '爪 专拽': 4.90, '砖': 9.90,
            '驻驻 ': 12.90, '驻驻 专拽': 8.90, '驻驻 爪': 12.90, '驻驻 转': 12.90,
            '住': 7.90, '住 住专': 9.90, '住 专转': 8.90, '专': 5.90, '专 住': 7.90,
            '专': 5.90, '专 ': 9.90, '住拽': 6.90, '转驻状 ': 5.90, '转驻状 ': 5.90,
            '': 8.90, '拽砖': 7.90, '爪': 8.90, '专拽': 12.90, '专转': 9.90,
            '转专': 9.90, '驻专': 4.90, '住专': 4.90, '注注': 4.90, '砖专': 4.90, '拽': 5.90,
            '专拽': 9.90, '住专': 7.90, '砖专': 8.90, '驻专转 砖驻': 14.90, '驻专转 驻专': 19.90,
            '转': 9.90, '转驻 专拽': 12.90, '转驻 ': 12.90, '转驻': 8.90,
            '拽转': 12.90, '砖转': 6.90, '砖转 ': 7.90, '驻': 8.90,
            '': 7.90, '': 9.90, '拽': 6.90, '': 14.90, '住': 16.90,
            '注 专拽': 24.90, '注 砖专': 24.90, '住': 14.90, '砖驻': 18.90,
            '驻专住拽': 16.90, '拽专转': 16.90, '拽': 4.90, '专': 9.90,
            '转转': 24.90, '转': 34.90, '驻': 29.90, '': 39.90,
            '': 3.90, '': 5.90,

            // Meat - 砖专 (expanded)
            '注祝 砖 专': 34.90, '注祝 砖 拽驻': 29.90, ' 注祝 专': 39.90, ' 注祝 拽驻': 34.90,
            '专注 注祝 专转': 24.90, '专注 注祝 拽驻转': 19.90, '砖拽 注祝 专': 29.90,
            '驻 注祝 专转': 22.90, '注祝  专': 34.90, ' 注祝 专': 19.90,
            '驻专转 专': 36.90, '  专': 44.90, '  专': 39.90,
            '砖专  专': 49.90, '砖专  拽驻': 44.90, '砖专  专 专': 54.90,
            '专拽 专': 129.90, '住 专': 109.90, '驻 拽专 专': 149.90,
            '爪注转 拽专 专转': 89.90, '住 专': 79.90, '砖 专': 69.90,
            '砖爪 注祝 专': 42.90, '砖爪 注祝 拽驻': 36.90, '砖爪  专': 46.90,
            '专专 专': 44.90, '专专 拽驻': 39.90, '拽 专': 49.90,
            '拽拽转 注祝': 24.90, '拽拽转 拽专': 29.90,

            // Deli - 注
            '驻住专': 89.90, '住': 79.90, '  注砖': 84.90, '专住祝': 99.90,
            '拽拽': 34.90, '拽拽 驻专拽驻专专': 39.90,

            // Fish -  (expanded)
            '住 专': 89.90, '驻 住 专': 99.90, '住 注砖': 69.90,
            '驻  专': 54.90, '住 专': 69.90, '专拽 专': 79.90,
            '驻 拽': 49.90, '驻 砖': 44.90, '砖专驻住': 89.90,
            '': 12.90, ' 砖': 14.90, '住专': 9.90,

            // Pantry -  (expanded)
            '专': 12.90, '专 住': 16.90, '专 住': 18.90, '专 ': 14.90,
            '驻住': 7.90, '驻住 住驻': 7.90, '驻住 驻': 8.90, '驻住 驻专驻': 8.90,
            '住': 9.90, '拽住拽住': 9.90, '专': 11.90, '拽': 24.90,
            '砖 转': 34.90, '砖 转 转转': 44.90, '砖 拽': 14.90, '砖 转': 12.90,
            '专 注转': 8.90, '专住拽 注转': 5.90, '注转 专住拽转': 7.90,
            '住': 12.90, '住 ': 9.90, '': 18.90, ' 转': 22.90,
            '': 18.90, '转': 14.90, '转 砖专': 16.90, '爪': 9.90,
            '拽': 6.90, '拽 ': 8.90, '拽 转驻': 9.90, '住专': 8.90, '住专 ': 12.90,
            '': 3.90, '驻驻 砖专': 9.90, '驻驻专拽': 8.90, '专': 12.90, '拽': 9.90,
            '拽转 驻': 5.90, '砖专': 6.90, '': 8.90, '拽拽': 14.90,
            '砖拽 爪\'驻住': 12.90, '拽拽住 专': 9.90, '砖拽': 44.90, ' ': 49.90,
            '爪拽': 14.90, '爪转': 19.90, '转专': 24.90,

            // Snacks - 驻 (expanded)
            '': 6.90, ' ': 7.90, '住': 6.90, '住 专': 7.90,
            '转驻爪\'驻住': 9.90, '专住': 12.90, '驻专住': 14.90, '爪\'住': 8.90,
            '': 8.90, '拽专拽专': 7.90, '注转 专': 12.90,
            '砖拽': 8.90, '砖拽 驻专': 9.90, '砖拽 专专': 12.90, '砖拽 ': 9.90,
            '住拽专住': 6.90, '专住': 6.90, '拽拽': 5.90, '拽住': 6.90, '拽专 ': 9.90,
            '注转 专专': 14.90, '驻专': 29.90, '住专转': 8.90, '住拽': 6.90,

            // Drinks - 砖拽转 (expanded)
            '拽 1.5 专': 8.90, '拽 专 1.5 专': 8.90, '拽 2 专': 9.90,
            '住驻专 1.5 专': 8.90, '驻 1.5 专': 8.90, '砖驻住 1.5 专': 8.90,
            ' 专': 4.90, ' 注': 5.90, ' 注 1.5 专': 5.90,
            '抓 转驻': 12.90, '抓 转驻 1 专': 14.90, '抓 转驻': 12.90,
            '抓 注': 14.90, '抓 砖转': 12.90, '拽专': 9.90,
            '砖拽 专': 9.90, '专 ': 12.90, 'XL': 8.90,

            // Coffee & Tea - 拽驻 转 (expanded)
            '拽驻 住': 24.90, '拽驻 住 注转': 26.90, '拽驻 专拽': 19.90, '拽驻 专拽 注转': 22.90,
            '拽驻住转 住驻专住': 29.90, '拽驻 ': 34.90, '拽驻 驻': 44.90,
            '转 砖专': 12.90, '转 专拽': 14.90, '转 爪': 16.90, '转 注 注注': 14.90,

            // Frozen - 拽驻 (expanded)
            '': 24.90, ' ': 24.90, ' 砖拽': 24.90, '转   \'专': 34.90,
            '专拽': 4.90, '': 9.90, '拽专': 7.90,
            '驻爪 拽驻': 29.90, ' 拽驻': 34.90, '专拽住 拽驻': 24.90,
            '专拽转 拽驻': 14.90, '专拽转 拽驻爪': 16.90, '转专住 拽驻': 12.90, '驻 拽驻': 12.90,
            '砖爪 拽驻': 34.90, '住': 29.90, '拽爪爪转 拽驻转': 34.90,
            '爪拽 注': 14.90, '爪拽 驻': 16.90, '爪拽 驻爪': 12.90,
            ' 砖 拽驻': 14.90, '\' 拽驻': 24.90, ' 拽驻': 19.90,

            // Cleaning - 拽 (expanded)
            '专 ': 34.90, '专  24 ': 49.90, '转 专': 19.90,
            '住 ': 9.90, '住  驻专': 12.90, '转 ': 44.90,
            '拽转 住': 44.90, '\' 住': 39.90, '专 住': 24.90,
            '拽拽': 9.90, '拽拽 注 拽': 12.90, '住专 砖': 14.90,
            ' 专爪驻转': 14.90, ' 转': 12.90, '住驻专 ': 14.90,
            '砖拽转 砖驻': 14.90, '砖拽转  转': 19.90, '住驻': 9.90, '转': 12.90,

            // Hygiene -  (expanded)
            '砖驻': 19.90, '砖驻   砖专住': 24.90, '专 砖注专': 19.90,
            '住 祝': 14.90, '\' 专爪': 16.90, '住 ': 9.90,
            '砖转 砖': 12.90, '砖转 砖 拽': 14.90, '专砖转 砖': 14.90,
            '专': 18.90, '专 专拽住': 22.90, '专 住驻专': 19.90,
            '拽专 祝': 24.90, '拽专 ': 14.90, '拽专 驻': 34.90,
            '': 29.90, '住 ': 44.90, '拽爪祝 ': 19.90,
            '转砖转': 14.90, '驻': 24.90, '驻': 9.90,

            // Baby - 转拽转 (expanded)
            '转  1': 44.90, '转  2': 46.90, '转  3': 49.90,
            '转  4': 49.90, '转  5': 52.90, '转  6': 54.90,
            ' 转拽转': 14.90, ' 转拽转 3 转': 29.90,
            '砖驻 转拽转': 19.90, '住 转拽转': 14.90, '拽专 转': 24.90,
            ' 转拽转': 12.90, '住 转拽转': 24.90, '驻专': 89.90,
            '爪抓': 19.90, '拽拽 转拽': 34.90,

            // Spreads - 专 (expanded)
            '': 24.90, ' 400 专': 29.90, ' 750 专': 44.90,
            '专 砖拽': 14.90, '专 砖拽 ': 16.90,
            '转 ': 22.90, '转  拽': 24.90, '转 砖拽': 44.90,
            '专': 14.90, '专 转转': 16.90, '专 砖砖': 14.90, '专': 12.90,
            '砖': 29.90, '砖 专': 34.90, '住': 19.90,
            '专 转': 18.90, '驻住': 22.90,

            // Desserts - 拽 (expanded)
            '拽': 5.90, '': 5.50, '驻': 5.90, '砖拽 转': 4.90,
            ' 住': 7.90, '注 砖拽': 6.90, '拽专 拽专': 5.90,
            '注转 ': 34.90, '专住': 29.90, '住驻 砖拽': 24.90,
            '驻': 9.90, '\'': 4.90,

            // Pets - 转 
            ' ': 44.90, '  砖': 89.90, ' 转': 34.90,
            ' 转 砖': 79.90, ' 转': 39.90, '驻 ': 19.90,
            '驻 转': 16.90, ' 专 ': 8.90, ' 专 转': 6.90,
            '爪注爪注 ': 29.90, '爪注爪注 转': 19.90, '专砖转 ': 24.90,
            '砖驻 ': 34.90, '砖驻 转': 29.90,

            // Candles & Oil - 专转 砖
            '专转 砖转': 12.90, '专转 砖转 24': 14.90, '专转 砖转 72': 29.90,
            '专转 ': 9.90, '专转  爪注': 12.90, '专转  驻专': 19.90,
            '砖 专': 14.90, '砖 转 专': 24.90, '驻转转': 7.90, '驻转转 砖转': 9.90,
            '专 砖 24 砖注转': 5.90, '专 砖 48 砖注转': 7.90, '专 砖 7 ': 12.90,
            '专 砖': 5.90, '专 ': 9.90, '砖 ': 14.90,
            '专转  转': 9.90, '专转 住驻专转': 14.90, '专转 拽': 19.90,
            '专转 专': 24.90, '专转 拽专': 29.90, '专转 爪驻': 19.90,
            '驻专专': 4.90, '驻专专 专': 7.90, '爪转': 9.90, '爪转': 9.90,
            '': 29.90, ' 专转': 79.90, '住': 9.90,

            // Cleaning - 拽 (expanded)
            '拽拽': 9.90, '拽拽 砖转': 12.90, '拽拽 \'': 14.90,
            ' ': 9.90, '  驻专': 14.90, '  住': 12.90,
            '住 ': 9.90, '转 ': 44.90, ' ': 14.90, '专拽 ': 19.90,
            ' 专爪驻转': 14.90, ' 专爪驻转 住': 19.90, ' 专住': 12.90,
            '住专 砖': 16.90, '住专 转': 14.90, '拽 砖专转': 12.90,
            '拽 ': 14.90, '拽 转': 12.90, '拽 转专': 19.90,
            '专 住': 19.90, '专 住': 24.90, '拽转 住': 29.90,
            ' 住': 34.90, '拽驻住转 住': 44.90, '住专 转': 19.90,
            '转': 9.90, '转 专爪驻': 14.90, '住驻': 9.90, '住驻 驻': 7.90,
            '砖拽转 砖驻': 14.90, '砖拽转 砖驻 转': 19.90, '砖拽转 ': 14.90,
            '': 29.90, '注': 24.90, '': 34.90, ' 住': 39.90,
            '驻驻转 ': 9.90, '驻驻转  驻注转': 14.90,

            // Health Foods -  专转
            '拽转 ': 149.90, '  ': 169.90, '祝 ': 9.90,
            '专': 24.90, '专  住专': 29.90, '砖转 砖注': 14.90,
            '拽': 29.90, '专': 12.90, '住转': 19.90, '注砖': 14.90,
            '住 砖': 12.90, '砖注注转 砖': 12.90, '砖注注转 砖专': 14.90,
            ' 转': 34.90, '转 砖拽': 49.90, '转 拽砖': 54.90,
            '砖 拽拽住': 34.90, '砖 MCT': 79.90, '住': 19.90,
            '砖 专': 39.90, '砖 专': 54.90, '转拽 住': 29.90,
            ' 砖拽': 14.90, ' 拽拽住': 14.90, ' 砖转 砖注': 16.90,
            '驻': 18.90, '驻': 24.90, '住': 29.90
        };

        // Products sold by weight - price per KG (not per unit)
        // These products have quantity in grams, so we calculate: pricePerKg * (quantity / 1000)
        let WEIGHT_BASED_PRICES = {
            // Cheese - 转 (price per kg)
            ' 爪 注拽': 119.90, ' 爪 注': 109.90, ' 爪 9%': 99.90,
            ' 爪 22%': 109.90, ' 爪': 109.90, '': 129.90, '': 149.90,
            '注拽': 119.90, '注': 109.90, ' ': 45.90, ' 专转': 69.90,
            '爪驻转转': 79.90, '爪专': 79.90, '驻专': 189.90, '专': 139.90, '拽专': 119.90,
            '': 149.90, '转 注': 119.90,
            // Deli - 注 (price per kg)
            '驻住专': 149.90, '驻住专 砖': 149.90, '驻住专 ': 149.90,
            '住': 139.90, '住 专': 149.90,
            '  注砖': 129.90, ' 注砖': 129.90, ' ': 129.90,
            '专住祝': 169.90, '专住 祝': 169.90,
            '拽拽': 89.90, '拽拽 驻专拽驻专专': 99.90, ' 注祝 注砖': 119.90,
            '砖爪 ': 89.90, '拽爪爪转 转': 79.90, '拽 ': 89.90,
            // Meat - 砖专 (price per kg)
            ' 注祝 专': 49.90, ' 注祝': 49.90, '砖拽 注祝': 39.90, '专注 注祝': 34.90,
            '驻 注祝': 29.90, '注祝 ': 44.90, ' 注祝': 29.90, '驻专转': 46.90,
            ' ': 59.90, ' ': 54.90, '砖专 ': 69.90, '砖专  专': 79.90,
            '专拽': 179.90, '住': 159.90, '驻 拽专': 219.90, '爪注转 拽专': 129.90,
            '住': 109.90, '砖': 99.90, '拽': 69.90,
            // Fish -  (price per kg)
            '住 专': 129.90, '住': 129.90, '住': 79.90, '专拽': 89.90, '专': 59.90,
            '': 49.90, ' 专': 119.90, '驻 ': 89.90,
            // Salads & Spreads - 住 专 (price per kg)
            '住': 39.90, '': 49.90, '爪': 39.90, '住 专拽转': 35.90,
            '': 45.90, '住 爪': 45.90, '住 专拽': 42.90,
            // Fruits & Vegetables by weight
            '注转': 9.90, '驻驻': 7.90, '爪': 5.90, '专': 6.90, '转驻状': 6.90,
            '': 9.90, '驻驻': 14.90, '爪': 9.90, '拽砖': 8.90, '专拽': 16.90,
            '转': 10.90, '转驻': 14.90, '转驻': 9.90, '注': 29.90
        };

        // API URL for prices
        const PRICES_API_URL = 'https://shooping-list-blue.vercel.app/api/prices?all=true';

        // Flag to track if prices were loaded from API
        let pricesLoadedFromAPI = false;

        // Fetch prices from API and update local database
        const fetchPricesFromAPI = async () => {
            try {
                const response = await fetch(PRICES_API_URL);
                if (!response.ok) throw new Error('API request failed');

                const data = await response.json();

                if (data.success && data.prices) {
                    // Merge API prices with local prices (API takes priority)
                    PRODUCT_PRICES = { ...PRODUCT_PRICES, ...data.prices };

                    if (data.weightBasedPrices) {
                        WEIGHT_BASED_PRICES = { ...WEIGHT_BASED_PRICES, ...data.weightBasedPrices };
                    }

                    pricesLoadedFromAPI = true;
                    console.log(` Loaded ${data.totalProducts} prices from API (Updated: ${data.lastUpdated})`);
                }
            } catch (error) {
                console.log('锔 Using local prices (API unavailable):', error.message);
            }
        };

        // Load prices from API on startup
        fetchPricesFromAPI();

        // Check if a product is sold by weight (returns price per kg, or null if sold by unit)
        const getWeightBasedPrice = (productName) => {
            if (!productName) return null;

            // Direct match first
            if (WEIGHT_BASED_PRICES[productName]) {
                return WEIGHT_BASED_PRICES[productName];
            }

            // Partial match - check if product name contains any weight-based product
            for (const [product, pricePerKg] of Object.entries(WEIGHT_BASED_PRICES)) {
                if (productName.includes(product) || product.includes(productName)) {
                    return pricePerKg;
                }
            }

            // Word-based match - split by spaces and check each word
            const words = productName.split(/\s+/);
            for (const word of words) {
                if (word.length >= 3 && WEIGHT_BASED_PRICES[word]) {
                    return WEIGHT_BASED_PRICES[word];
                }
                // Check if any weight-based product contains this word
                for (const [product, pricePerKg] of Object.entries(WEIGHT_BASED_PRICES)) {
                    if (product.includes(word) && word.length >= 3) {
                        return pricePerKg;
                    }
                }
            }

            return null;
        };

        // Calculate item price based on quantity and whether it's sold by weight
        const calculateItemPrice = (item) => {
            if (!item.price) return 0;
            const quantity = parseInt(item.quantity) || 1;

            // Check if this product is sold by weight
            const pricePerKg = getWeightBasedPrice(item.name);

            if (pricePerKg) {
                // Weight-based product: quantity is in grams, price is per kg
                // If quantity is small (1-10), treat as units of 100g packages
                if (quantity <= 10) {
                    return item.price * quantity; // Small quantity = number of packages
                }
                // Larger quantity = grams, calculate proportionally
                return pricePerKg * (quantity / 1000);
            } else {
                // Unit-based product: multiply price by quantity
                return item.price * quantity;
            }
        };

        // Function to get estimated price for a product
        const getEstimatedPrice = (productName) => {
            if (!productName) return null;

            // Direct match
            if (PRODUCT_PRICES[productName]) {
                return PRODUCT_PRICES[productName];
            }

            // Partial match - find product that contains or is contained by the name
            const nameLower = productName.toLowerCase();
            for (const [product, price] of Object.entries(PRODUCT_PRICES)) {
                const productLower = product.toLowerCase();
                if (productLower.includes(nameLower) || nameLower.includes(productLower)) {
                    return price;
                }
            }

            // Word-based match
            const words = nameLower.split(/\s+/).filter(w => w.length > 2);
            for (const [product, price] of Object.entries(PRODUCT_PRICES)) {
                const productLower = product.toLowerCase();
                for (const word of words) {
                    if (productLower.includes(word)) {
                        return price;
                    }
                }
            }

            return null;
        };

        // Product translations for multi-language support
        const PRODUCT_TRANSLATIONS = {
            // Dairy - 爪专 
            ' 3%': { en: 'Milk 3%', ru: '芯谢芯泻芯 3%', ar: '丨亘 3%' },
            ' 1%': { en: 'Milk 1%', ru: '芯谢芯泻芯 1%', ar: '丨亘 1%' },
            '  砖': { en: 'Low Fat Milk', ru: '斜械蟹卸懈械薪薪芯械 屑芯谢芯泻芯', ar: '丨亘  丕丿爻' },
            ' 住': { en: 'Soy Milk', ru: '小芯械胁芯械 屑芯谢芯泻芯', ar: '丨亘 丕氐丕' },
            ' 砖拽': { en: 'Almond Milk', ru: '懈薪写邪谢薪芯械 屑芯谢芯泻芯', ar: '丨亘 丕夭' },
            ' 拽拽住': { en: 'Coconut Milk', ru: '芯泻芯芯胁芯械 屑芯谢芯泻芯', ar: '丨亘 噩夭 丕丿' },
            ' 砖转 砖注': { en: 'Oat Milk', ru: '胁薪芯械 屑芯谢芯泻芯', ar: '丨亘 丕卮丕' },
            '': { en: 'Laban', ru: '邪斜邪薪', ar: '亘' },
            ' 注': { en: 'Goat Laban', ru: '芯蟹懈泄 谢邪斜邪薪', ar: '亘 丕毓夭' },
            ' 爪 注拽': { en: 'Emek Yellow Cheese', ru: '谢泄  协屑械泻', ar: '噩亘丞 氐乇丕亍 毓' },
            ' 爪 注': { en: 'Gilboa Yellow Cheese', ru: '谢泄  懈谢斜芯邪', ar: '噩亘丞 氐乇丕亍 噩亘毓' },
            ' 爪 9%': { en: 'Yellow Cheese 9%', ru: '谢泄  9%', ar: '噩亘丞 氐乇丕亍 9%' },
            ' 爪 22%': { en: 'Yellow Cheese 22%', ru: '谢泄  22%', ar: '噩亘丞 氐乇丕亍 22%' },
            '拽壮 5%': { en: 'Cottage Cheese 5%', ru: '孝胁芯芯谐 5%', ar: '噩亘丞 乇卮 5%' },
            '拽壮 3%': { en: 'Cottage Cheese 3%', ru: '孝胁芯芯谐 3%', ar: '噩亘丞 乇卮 3%' },
            ' 专转': { en: 'Bulgarian Cheese', ru: '芯谢谐邪泻懈泄 ', ar: '噩亘丞 亘睾丕乇丞' },
            '爪驻转转': { en: 'Tzfatit Cheese', ru: '小 笑邪懈', ar: '噩亘丞 氐丿' },
            '转 砖转': { en: 'Cream Cheese', ru: '小谢懈胁芯薪泄 ', ar: '噩亘丞 乇丞' },
            '驻专': { en: 'Parmesan', ru: '邪屑械蟹邪薪', ar: '亘丕乇夭丕' },
            '爪专': { en: 'Mozzarella', ru: '芯邪械谢谢邪', ar: '夭丕乇丕' },
            '爪': { en: 'Eggs', ru: '携泄邪', ar: '亘囟' },
            '爪 L': { en: 'Eggs L', ru: '携泄邪 L', ar: '亘囟 L' },
            '爪 XL': { en: 'Eggs XL', ru: '携泄邪 XL', ar: '亘囟 XL' },
            '爪 专转': { en: 'Organic Eggs', ru: '谐邪薪懈械泻懈械 泄邪', ar: '亘囟 毓囟' },
            '爪 驻砖转': { en: 'Free Range Eggs', ru: '携泄邪 胁芯斜芯写薪芯谐芯 胁谐谢邪', ar: '亘囟 丨乇' },
            '': { en: 'Butter', ru: '邪谢芯', ar: '夭亘丿丞' },
            ' ': { en: 'Salted Butter', ru: '小芯谢薪芯械 屑邪谢芯', ar: '夭亘丿丞 丨丞' },
            '砖转 转拽': { en: 'Sweet Cream', ru: '小谢邪写泻懈械 谢懈胁泻懈', ar: '卮胤丞 丨丞' },
            '砖转 爪': { en: 'Sour Cream', ru: '小屑械邪薪邪', ar: '卮胤丞 丨丕囟丞' },
            '砖转 拽爪驻转': { en: 'Whipping Cream', ru: '蟹斜懈械 谢懈胁泻懈', ar: '乇丞 禺' },
            '专': { en: 'Yogurt', ru: '芯谐', ar: '夭亘丕丿' },
            '专 ': { en: 'Greek Yogurt', ru: '械械泻懈泄 泄芯谐', ar: '夭亘丕丿 丕' },
            '专  0%': { en: 'Greek Yogurt 0%', ru: '械械泻懈泄 泄芯谐 0%', ar: '夭亘丕丿 丕 0%' },
            '专 转': { en: 'Tnuva Yogurt', ru: '芯谐 孝薪胁邪', ar: '夭亘丕丿 鬲丕' },
            '专 砖专住': { en: 'Strauss Yogurt', ru: '芯谐 楔邪', ar: '夭亘丕丿 卮鬲乇丕爻' },
            '专 拽': { en: 'Activia Yogurt', ru: '芯谐 泻懈胁懈邪', ar: '夭亘丕丿 兀鬲丕' },
            '  5%': { en: 'White Cheese 5%', ru: '械谢泄  5%', ar: '噩亘丞 亘囟丕亍 5%' },
            '  9%': { en: 'White Cheese 9%', ru: '械谢泄  9%', ar: '噩亘丞 亘囟丕亍 9%' },
            '专 专': { en: 'Organic Yogurt', ru: '谐邪薪懈械泻懈泄 泄芯谐', ar: '夭亘丕丿 毓囟' },
            '专 ': { en: 'Kids Yogurt', ru: '械泻懈泄 泄芯谐', ar: '夭亘丕丿 兀胤丕' },
            '转 注': { en: 'Goat Cheese', ru: '芯蟹懈泄 ', ar: '噩亘丞 丕毓夭' },
            '转 专拽驻专': { en: 'Roquefort', ru: '芯泻芯', ar: '乇乇' },
            '拽砖拽': { en: 'Kashkaval', ru: '邪泻邪胁邪谢', ar: '卮丕' },
            '': { en: 'Gouda', ru: '邪写邪', ar: '噩丿丕' },
            '': { en: 'Emmental', ru: '协屑屑械薪邪谢', ar: '廿鬲丕' },
            '专': { en: 'Brie', ru: '懈', ar: '亘乇' },
            '拽专': { en: 'Camembert', ru: '邪屑邪屑斜械', ar: '丕亘乇' },
            '': { en: 'Halloumi', ru: '啸邪谢谢屑懈', ar: '丨' },
            '驻驻': { en: 'Philadelphia', ru: '肖懈谢邪写械谢懈', ar: '丕丿丕' },
            '': { en: 'Labneh', ru: '邪斜薪械', ar: '亘丞' },
            '专拽': { en: 'Ricotta', ru: '懈泻芯邪', ar: '乇鬲丕' },
            '住拽专驻': { en: 'Mascarpone', ru: '邪泻邪锌芯薪械', ar: '丕爻丕乇亘' },
            '专 ': { en: 'Cheese Spread', ru: '小薪邪 薪邪屑邪蟹泻邪', ar: '噩亘丞 丕亘丞 丿' },
            ' 转转': { en: 'Processed Cheese', ru: '谢邪胁谢械薪泄 ', ar: '噩亘丞 胤亘禺丞' },
            ' 爪': { en: 'Onion Butter', ru: '泻芯胁芯械 屑邪谢芯', ar: '夭亘丿丞 亘丕亘氐' },
            ' 砖': { en: 'Garlic Butter', ru: '效械薪芯薪芯械 屑邪谢芯', ar: '夭亘丿丞 亘丕孬' },
            '专专': { en: 'Margarine', ru: '邪谐邪懈薪', ar: '丕乇噩乇' },
            '驻': { en: 'Tofu', ru: '孝芯', ar: '鬲' },
            '驻 拽砖': { en: 'Firm Tofu', ru: '孝胁写泄 芯', ar: '鬲 氐亘' },
            // Fruits & Vegetables - 驻专转 专拽转
            '注转': { en: 'Tomatoes', ru: '芯屑懈写芯', ar: '胤丕胤' },
            '注转 砖专': { en: 'Cherry Tomatoes', ru: '效械懈 锌芯屑懈写芯', ar: '胤丕胤 乇夭丞' },
            '注转 ': { en: 'Maggi Tomatoes', ru: '芯屑懈写芯 邪谐谐懈', ar: '胤丕胤 丕噩' },
            '驻驻': { en: 'Cucumbers', ru: '谐', ar: '禺丕乇' },
            '驻驻 ': { en: 'Baby Cucumber', ru: '懈薪懈 芯谐', ar: '禺丕乇 氐睾乇' },
            '爪': { en: 'Onion', ru: '泻', ar: '亘氐' },
            '爪 住': { en: 'Red Onion', ru: '邪薪泄 谢泻', ar: '亘氐 兀丨乇' },
            '爪 专拽': { en: 'Green Onion', ru: '械谢薪泄 谢泻', ar: '亘氐 兀禺囟乇' },
            '砖': { en: 'Garlic', ru: '效械薪芯泻', ar: '孬' },
            '砖 拽祝': { en: 'Peeled Garlic', ru: '懈械薪薪泄 械薪芯泻', ar: '孬 卮乇' },
            '驻驻 ': { en: 'Red Pepper', ru: '邪薪泄 锌械械', ar: ' 兀丨乇' },
            '驻驻 专拽': { en: 'Green Pepper', ru: '械谢薪泄 锌械械', ar: ' 兀禺囟乇' },
            '驻驻 爪': { en: 'Yellow Pepper', ru: '谢泄 锌械械', ar: ' 兀氐乇' },
            '驻驻 转': { en: 'Orange Pepper', ru: '邪薪卸械胁泄 锌械械', ar: ' 亘乇鬲丕' },
            '驻驻 专祝': { en: 'Hot Pepper', ru: '泄 锌械械', ar: ' 丨丕乇' },
            '住': { en: 'Lettuce', ru: '小邪谢邪', ar: '禺爻' },
            '住 住专': { en: 'Iceberg Lettuce', ru: '泄斜械谐 邪谢邪', ar: '禺爻 丌爻亘乇噩' },
            '住 专转': { en: 'Romaine Lettuce', ru: '芯屑薪 邪谢邪', ar: '禺爻 乇丕' },
            '专': { en: 'Cabbage', ru: '邪锌邪', ar: '' },
            '专 住': { en: 'Red Cabbage', ru: '邪薪邪 泻邪锌邪', ar: ' 兀丨乇' },
            '专 住': { en: 'Chinese Cabbage', ru: '懈邪泄泻邪 泻邪锌邪', ar: ' 氐' },
            '专': { en: 'Carrot', ru: '芯泻芯胁', ar: '噩夭乇' },
            '专 ': { en: 'Baby Carrot', ru: '懈薪懈 屑芯泻芯胁', ar: '噩夭乇 氐睾乇' },
            '住拽': { en: 'Beet', ru: '小胁泻谢邪', ar: '卮丿乇' },
            '住拽 砖': { en: 'Cooked Beet', ru: '邪薪邪 胁泻谢邪', ar: '卮丿乇 胤亘禺' },
            '转驻状 ': { en: 'Red Potato', ru: '邪薪泄 泻邪芯械谢', ar: '亘胤丕胤丕 丨乇丕亍' },
            '转驻状 ': { en: 'White Potato', ru: '械谢泄 泻邪芯械谢', ar: '亘胤丕胤丕 亘囟丕亍' },
            '': { en: 'Sweet Potato', ru: '邪邪', ar: '亘胤丕胤丕 丨丞' },
            '拽砖': { en: 'Zucchini', ru: '邪斜邪芯泻', ar: '爻丕' },
            '拽砖 专拽': { en: 'Green Zucchini', ru: '械谢薪泄 泻邪斜邪芯泻', ar: '爻丕 禺囟乇丕亍' },
            '爪': { en: 'Eggplant', ru: '邪泻谢邪卸邪薪', ar: '亘丕匕噩丕' },
            '专拽': { en: 'Broccoli', ru: '芯泻泻芯谢懈', ar: '亘乇' },
            '专转': { en: 'Cauliflower', ru: '笑胁械薪邪 泻邪锌邪', ar: '乇亘胤' },
            '转专': { en: 'Spinach', ru: '楔锌懈薪邪', ar: '爻亘丕禺' },
            '转专 ': { en: 'Baby Spinach', ru: '懈薪懈 锌懈薪邪', ar: '爻亘丕禺 氐睾乇' },
            '砖专': { en: 'Dill', ru: '校泻芯锌', ar: '卮亘鬲' },
            '专': { en: 'Tarragon', ru: '协邪谐芯薪', ar: '胤乇禺' },
            '专砖': { en: 'Arugula', ru: '泻泻芯谢邪', ar: '噩乇噩乇' },
            '专': { en: 'Basil', ru: '邪蟹懈谢懈泻', ar: '乇丨丕' },
            '注注': { en: 'Mint', ru: '邪', ar: '毓丕毓' },
            '专拽': { en: 'Rocket', ru: '泻芯谢邪', ar: '乇丕' },
            '驻专': { en: 'Parsley', ru: '械泻邪', ar: '亘丿爻' },
            '住专': { en: 'Coriander', ru: '芯懈邪薪写', ar: '夭亘乇丞' },
            '住专': { en: 'Celery', ru: '小械谢写械械泄', ar: '乇爻' },
            '砖专': { en: 'Fennel', ru: '肖械薪械谢', ar: '卮乇' },
            '拽专': { en: 'Kohlrabi', ru: '芯谢邪斜懈', ar: '乇亘 爻丕' },
            '专砖拽': { en: 'Artichoke', ru: '懈芯泻', ar: '禺乇卮' },
            '住驻专住': { en: 'Asparagus', ru: '小锌邪卸邪', ar: '' },
            '驻专转 砖驻': { en: 'Champignon Mushrooms', ru: '楔邪屑锌懈薪芯薪', ar: '胤乇 卮丕亘' },
            '驻专转 驻专': { en: 'Portobello Mushrooms', ru: '芯芯斜械谢谢芯 谐懈斜', ar: '胤乇 亘乇鬲亘' },
            '': { en: 'Lemon', ru: '懈屑芯薪', ar: '' },
            '': { en: 'Lime', ru: '邪泄屑', ar: ' 兀禺囟乇' },
            '转': { en: 'Bananas', ru: '邪薪邪薪', ar: '夭' },
            '转驻 专拽': { en: 'Green Apples', ru: '械谢薪械 斜谢芯泻懈', ar: '鬲丕丨 兀禺囟乇' },
            '转驻 ': { en: 'Red Apples', ru: '邪薪械 斜谢芯泻懈', ar: '鬲丕丨 兀丨乇' },
            '转驻': { en: 'Oranges', ru: '锌械谢懈薪', ar: '亘乇鬲丕' },
            '砖转': { en: 'Grapefruit', ru: '械泄锌', ar: '噩乇亘 乇鬲' },
            '砖转 ': { en: 'Red Grapefruit', ru: '邪薪泄 谐械泄锌', ar: '噩乇亘 乇鬲 兀丨乇' },
            '驻': { en: 'Pomelo', ru: '芯屑械谢芯', ar: '亘' },
            '': { en: 'Watermelon', ru: '斜蟹', ar: '亘胤禺' },
            '': { en: 'Melon', ru: '薪', ar: '卮丕' },
            ' ': { en: 'Galia Melon', ru: '薪 邪谢懈', ar: '卮丕 噩丕丕' },
            '注 专拽': { en: 'Green Grapes', ru: '械谢薪泄 胁懈薪芯谐邪写', ar: '毓亘 兀禺囟乇' },
            '注 砖专': { en: 'Black Grapes', ru: '效薪泄 胁懈薪芯谐邪写', ar: '毓亘 兀爻丿' },
            '住': { en: 'Pear', ru: '邪', ar: '孬乇' },
            '砖驻': { en: 'Plums', ru: '小谢懈胁', ar: '亘乇' },
            '驻专住拽': { en: 'Peaches', ru: '械懈泻懈', ar: '禺禺' },
            '拽专转': { en: 'Nectarines', ru: '械泻邪懈薪', ar: '鬲丕乇' },
            '拽转': { en: 'Clementines', ru: '谢械屑械薪懈薪', ar: '鬲丕' },
            '拽': { en: 'Kiwi', ru: '懈胁懈', ar: '' },
            '专': { en: 'Pomegranates', ru: '邪薪邪', ar: '乇丕' },
            '': { en: 'Mango', ru: '邪薪谐芯', ar: '丕噩' },
            '住': { en: 'Pineapple', ru: '薪邪薪邪', ar: '兀丕丕爻' },
            '拽': { en: 'Avocado', ru: '胁芯泻邪写芯', ar: '兀丕丿' },
            '转转': { en: 'Strawberries', ru: '谢斜薪懈泻邪', ar: '乇丕丞' },
            '驻': { en: 'Raspberries', ru: '邪谢懈薪邪', ar: '鬲鬲 丕毓' },
            '转': { en: 'Blueberries', ru: '效械薪懈泻邪', ar: '鬲鬲 兀夭乇' },
            '': { en: 'Cherries', ru: '效械械薪', ar: '乇夭' },
            '砖砖': { en: 'Apricots', ru: '斜懈泻芯', ar: '卮卮' },
            '转': { en: 'Figs', ru: '薪卸懈', ar: '鬲' },
            '驻住驻专': { en: 'Passion Fruit', ru: '邪邪泻泄', ar: '丕丞 丕毓丕胤丞' },
            '驻驻': { en: 'Papaya', ru: '邪锌邪泄', ar: '亘丕亘丕丕' },
            '拽专': { en: 'Star Fruit', ru: '邪邪屑斜芯谢邪', ar: '丕丞 丕噩丞' },
            '爪\'': { en: 'Lychee', ru: '懈懈', ar: '鬲卮' },
            '专拽 驻专': { en: 'Dragon Fruit', ru: '邪泻芯薪懈泄 泻', ar: '丕丞 丕鬲' },
            '拽拽住': { en: 'Coconut', ru: '芯泻芯', ar: '噩夭 丕丿' },
            // Bakery -  驻
            '': { en: 'Bread', ru: '啸谢械斜', ar: '禺亘夭' },
            ' ': { en: 'Whole Wheat Bread', ru: '笑械谢薪芯蟹械薪芯胁芯泄 谢械斜', ar: '禺亘夭 丨 丕' },
            ' 砖驻': { en: 'Rye Bread', ru: '卸邪薪芯泄 谢械斜', ar: '禺亘夭 丕噩丕丿丕乇' },
            ' 住': { en: 'Spelt Bread', ru: '啸谢械斜 懈蟹 锌械谢', ar: '禺亘夭 丕丨胤丞' },
            ' ': { en: 'Multigrain Bread', ru: '谢懈蟹械薪芯胁芯泄 谢械斜', ar: '禺亘夭 鬲毓丿丿 丕丨亘亘' },
            ' 驻专住': { en: 'Sliced Bread', ru: '邪械蟹邪薪薪泄 谢械斜', ar: '禺亘夭 胤毓' },
            ' ': { en: 'White Bread', ru: '械谢泄 谢械斜', ar: '禺亘夭 兀亘囟' },
            '  ': { en: 'Gluten Free Bread', ru: '械蟹谐谢械薪芯胁泄 谢械斜', ar: '禺亘夭 禺丕  丕睾鬲' },
            '': { en: 'Challah', ru: '啸邪谢邪', ar: '禺亘夭 丕丨丞' },
            ' ': { en: 'Whole Wheat Challah', ru: '笑械谢薪芯蟹械薪芯胁邪 邪谢邪', ar: '丨丞 丨 丕' },
            ' 转拽': { en: 'Sweet Challah', ru: '小谢邪写泻邪 邪谢邪', ar: '丨丞 丨丞' },
            '注转': { en: 'Cookies', ru: '械械薪械', ar: '亘爻鬲' },
            '注转 砖拽 爪\'驻住': { en: 'Chocolate Chip Cookies', ru: '械械薪械  芯泻芯谢邪写薪芯泄 泻芯泻芯泄', ar: '亘爻鬲 乇丕卅 丕卮丕鬲丞' },
            '注转 ': { en: 'Butter Cookies', ru: '邪谢薪芯械 锌械械薪械', ar: '亘爻鬲 丕夭亘丿丞' },
            '驻转转': { en: 'Pita Bread', ru: '懈邪', ar: '禺亘夭 亘鬲丕' },
            '驻转转 转': { en: 'Whole Wheat Pita', ru: '笑械谢薪芯蟹械薪芯胁邪 锌懈邪', ar: '亘鬲丕 丨 丕' },
            '驻转转 ': { en: 'Mini Pita', ru: '懈薪懈 锌懈邪', ar: '亘鬲丕 氐睾乇丞' },
            '转': { en: 'Rolls', ru: '谢芯泻懈', ar: '禺亘夭 氐睾乇' },
            '转 专专': { en: 'Hamburger Buns', ru: '谢芯泻懈 写谢 谐邪屑斜谐械邪', ar: '禺亘夭 丕亘乇睾乇' },
            '转 拽拽': { en: 'Hot Dog Buns', ru: '谢芯泻懈 写谢 芯-写芯谐邪', ar: '禺亘夭 丕丕' },
            '': { en: 'Baguette', ru: '邪谐械', ar: '亘丕噩鬲' },
            '爪\'': { en: 'Ciabatta', ru: '效懈邪斜邪邪', ar: '鬲卮丕亘丕鬲丕' },
            '驻拽爪\'': { en: 'Focaccia', ru: '肖芯泻邪邪', ar: '丕鬲卮丕' },
            '专': { en: 'Roll Cake', ru: '谢械', ar: '乇丕丿' },
            ' 砖砖': { en: 'Sesame Bread', ru: '薪卸薪泄 谢械斜', ar: '禺亘夭 丕爻爻' },
            ' 驻砖': { en: 'Plain Bread', ru: '芯芯泄 谢械斜', ar: '禺亘夭 毓丕丿' },
            '爪转': { en: 'Matzah', ru: '邪邪', ar: '丕鬲夭丕' },
            '爪转 转': { en: 'Whole Wheat Matzah', ru: '笑械谢薪芯蟹械薪芯胁邪 屑邪邪', ar: '丕鬲夭丕 丨 丕' },
            '拽专拽专': { en: 'Crackers', ru: '械泻械', ar: '乇卮丕鬲' },
            ' 拽': { en: 'Light Bread', ru: '谐泻懈泄 谢械斜', ar: '禺亘夭 禺' },
            '专': { en: 'Tortilla', ru: '孝芯懈谢', ar: '鬲乇鬲丕' },
            '驻': { en: 'Laffa', ru: '邪邪', ar: '丞' },
            '': { en: 'Naan', ru: '邪邪薪', ar: '丕' },
            '拽专住': { en: 'Croissant', ru: '邪邪薪', ar: '乇丕爻' },
            '拽专住 砖拽': { en: 'Chocolate Croissant', ru: '邪邪薪  芯泻芯谢邪写芯屑', ar: '乇丕爻 卮丕鬲丞' },
            '专砖': { en: 'Brioche', ru: '懈芯', ar: '亘乇卮' },
            '住驻转': { en: 'Donuts', ru: '芯薪懈泻懈', ar: '丿丕鬲' },
            '住': { en: 'Donuts', ru: '芯薪懈泻懈', ar: '丿丕鬲' },
            '驻住': { en: 'Muffins', ru: '邪懈薪', ar: '丕' },
            '注转 砖专': { en: 'Yeast Cake', ru: '芯卸卸械胁芯泄 锌懈芯谐', ar: '毓丞 禺乇丞' },
            '砖专': { en: 'Strudel', ru: '楔写械谢', ar: '卮鬲乇丿' },
            '专': { en: 'Rugelach', ru: '谐械谢邪', ar: '乇噩丕禺' },
            '专拽住': { en: 'Bourekas', ru: '芯械泻邪', ar: '亘乇' },
            '专拽住 ': { en: 'Cheese Bourekas', ru: '芯械泻邪  芯屑', ar: '亘乇 噩亘丞' },
            '专拽住 转驻状': { en: 'Potato Bourekas', ru: '芯械泻邪  泻邪芯械谢械屑', ar: '亘乇 亘胤丕胤丕' },
            '专拽住 驻专转': { en: 'Mushroom Bourekas', ru: '芯械泻邪  谐懈斜邪屑懈', ar: '亘乇 胤乇' },
            // Spreads - 专
            '': { en: 'Nutella', ru: '械谢谢邪', ar: '鬲丕' },
            ' 400 专': { en: 'Nutella 400g', ru: '械谢谢邪 400谐', ar: '鬲丕 400 睾乇丕' },
            ' 750 专': { en: 'Nutella 750g', ru: '械谢谢邪 750谐', ar: '鬲丕 750 睾乇丕' },
            '专 砖拽': { en: 'Chocolate Spread', ru: '楔芯泻芯谢邪写薪邪 锌邪邪', ar: '卮丕鬲丞 丕亘丞 丿' },
            '专 砖拽 砖专 注': { en: 'Hashachar Haole Spread', ru: '邪邪 啸邪邪邪 啸邪芯谢械', ar: '卮丕鬲丞 卮丨乇 毓' },
            '专 砖拽 注转': { en: 'Elite Chocolate Spread', ru: '楔芯泻芯谢邪写薪邪 锌邪邪 协谢懈', ar: '卮丕鬲丞 廿鬲' },
            '专 ': { en: 'Nut Spread', ru: '械芯胁邪 锌邪邪', ar: '毓噩 爻乇丕鬲' },
            '专 住': { en: 'Lotus Spread', ru: '邪邪 芯', ar: '毓噩 鬲爻' },
            '转 ': { en: 'Peanut Butter', ru: '邪懈芯胁邪 锌邪邪', ar: '夭亘丿丞 丕 丕爻丿丕' },
            '转  拽': { en: 'Smooth Peanut Butter', ru: '谢邪写泻邪 邪邪懈芯胁邪 锌邪邪', ar: '夭亘丿丞  爻丿丕 丕毓丞' },
            '转  拽专爪\'': { en: 'Crunchy Peanut Butter', ru: '啸邪 邪邪懈芯胁邪 锌邪邪', ar: '夭亘丿丞  爻丿丕 乇卮丞' },
            '转  住拽驻': { en: 'Skippy Peanut Butter', ru: '邪懈芯胁邪 锌邪邪 小泻懈锌锌懈', ar: '夭亘丿丞  爻丿丕 爻亘' },
            '转 砖拽': { en: 'Almond Butter', ru: '懈薪写邪谢薪邪 锌邪邪', ar: '夭亘丿丞 丕夭' },
            '转 拽砖': { en: 'Cashew Butter', ru: '邪邪 懈蟹 泻械', ar: '夭亘丿丞 丕丕噩' },
            '转  ': { en: 'Hazelnut Butter', ru: '邪邪 懈蟹 薪写泻邪', ar: '夭亘丿丞 丕亘丿' },
            '': { en: 'Tahini', ru: '孝邪懈薪懈', ar: '胤丨丞' },
            ' 转': { en: 'Raw Tahini', ru: '小邪 邪懈薪懈', ar: '胤丨丞 禺丕' },
            '  专': { en: 'Al Arz Tahini', ru: '孝邪懈薪懈 谢 蟹', ar: '胤丨丞 丕兀乇夭' },
            ' ': { en: 'HaBaba Tahini', ru: '孝邪懈薪懈 啸邪邪斜邪', ar: '胤丨丞 丕亘丕亘' },
            '': { en: 'Halva', ru: '啸邪谢胁邪', ar: '丨丕丞' },
            ' 驻专住': { en: 'Sliced Halva', ru: '邪械蟹邪薪薪邪 邪谢胁邪', ar: '丨丕丞 卮乇丕卅丨' },
            ' 砖拽': { en: 'Chocolate Halva', ru: '楔芯泻芯谢邪写薪邪 邪谢胁邪', ar: '丨丕丞 卮丕鬲丞' },
            ' 驻住拽': { en: 'Pistachio Halva', ru: '肖懈邪泻芯胁邪 邪谢胁邪', ar: '丨丕丞 爻鬲' },
            '专': { en: 'Jam', ru: '卸械屑', ar: '乇亘' },
            '专 转转': { en: 'Strawberry Jam', ru: '谢斜薪懈薪泄 写卸械屑', ar: '乇亘 乇丕丞' },
            '专 砖砖': { en: 'Apricot Jam', ru: '斜懈泻芯芯胁泄 写卸械屑', ar: '乇亘 卮卮' },
            '专 ': { en: 'Cherry Jam', ru: '懈薪胁泄 写卸械屑', ar: '乇亘 乇夭' },
            '专 转驻': { en: 'Orange Jam', ru: '锌械谢懈薪芯胁泄 写卸械屑', ar: '乇亘 亘乇鬲丕' },
            '专 驻': { en: 'Raspberry Jam', ru: '邪谢懈薪芯胁泄 写卸械屑', ar: '乇亘 鬲鬲' },
            '专  住专': { en: 'Sugar Free Jam', ru: '卸械屑 斜械蟹 邪邪邪', ar: '乇亘 亘丿 爻乇' },
            '专': { en: 'Marmalade', ru: '邪屑械谢邪写', ar: '乇亘 丕亘乇鬲丕' },
            '砖': { en: 'Honey', ru: '写', ar: '毓爻' },
            '砖 专': { en: 'Pure Honey', ru: '效懈泄 屑写', ar: '毓爻 ' },
            '砖 驻专': { en: 'Flower Honey', ru: '笑胁械芯薪泄 屑写', ar: '毓爻 夭乇' },
            '砖 专': { en: 'Organic Honey', ru: '谐邪薪懈械泻懈泄 屑写', ar: '毓爻 毓囟' },
            '住': { en: 'Date Syrup', ru: '肖懈薪懈泻芯胁泄 懈芯锌', ar: '丿亘爻 丕鬲乇' },
            '住 专': { en: 'Pure Date Syrup', ru: '效懈泄 懈薪懈泻芯胁泄 懈芯锌', ar: '丿亘爻 鬲乇 ' },
            '专 砖': { en: 'Garlic Spread', ru: '效械薪芯薪邪 锌邪邪', ar: '毓噩 孬' },
            '专 转': { en: 'Olive Spread', ru: '谢懈胁泻芯胁邪 锌邪邪', ar: '毓噩 夭鬲' },
            '专 注转 砖转': { en: 'Sun Dried Tomato Spread', ru: '邪邪 懈蟹 胁谢械薪 锌芯屑懈写芯芯胁', ar: '毓噩 胤丕胤 噩丞' },
            '专 专砖拽': { en: 'Artichoke Spread', ru: '懈芯泻芯胁邪 锌邪邪', ar: '毓噩 禺乇卮' },
            '驻住': { en: 'Pesto', ru: '械芯', ar: '亘爻鬲' },
            '驻住 专拽': { en: 'Green Pesto', ru: '械谢薪泄 锌械芯', ar: '亘爻鬲 兀禺囟乇' },
            '驻住 ': { en: 'Red Pesto', ru: '邪薪泄 锌械芯', ar: '亘爻鬲 兀丨乇' },
            '专 ': { en: 'Tuna Spread', ru: '孝薪芯胁邪 锌邪邪', ar: '毓噩 鬲丞' },
            '专 爪': { en: 'Eggplant Spread', ru: '邪泻谢邪卸邪薪薪邪 锌邪邪', ar: '毓噩 亘丕匕噩丕' },
            '住 专': { en: 'Hummus Spread', ru: '啸屑', ar: '丨氐' },
            // Deli - 注转 拽拽 (generic names)
            '驻住专': { en: 'Pastrami', ru: '邪邪屑懈', ar: '亘爻胤乇丞' },
            '住': { en: 'Salami', ru: '小邪谢屑懈', ar: '爻丕' },
            '拽拽': { en: 'Sausage', ru: '芯谢斜邪邪', ar: '丕' },
            '拽拽 驻专拽驻专专': { en: 'Frankfurter', ru: '肖邪薪泻械', ar: '乇丕乇鬲乇' },
            '  注砖': { en: 'Smoked Turkey Breast', ru: '芯锌薪邪 谐写泻邪 懈薪写械泄泻懈', ar: '氐丿乇 丿 乇 丿禺' },
            // Deli - 注转 拽拽 (specific types)
            '住 注砖': { en: 'Smoked Salami', ru: '芯锌薪邪 邪谢屑懈', ar: '爻丕 丿禺' },
            '拽拽 转祝': { en: 'Shoulder Sausage', ru: '芯谢斜邪邪 懈蟹 锌谢械邪', ar: '丕 鬲' },
            '住 转': { en: 'Tea Salami', ru: '效邪泄薪邪 邪谢屑懈', ar: '爻丕 卮丕' },
            '拽拽 住 拽拽': { en: 'Cognac Salami', ru: '小邪谢屑懈 泻芯薪泻', ar: '爻丕 丕' },
            '拽拽 专': { en: 'Mortadella', ru: '芯邪写械谢谢邪', ar: '乇鬲丕丿丕' },
            '专住祝': { en: 'Roast Beef', ru: '芯斜懈', ar: '乇爻鬲 亘' },
            '转祝 拽专 驻驻': { en: 'Peppered Beef Shoulder', ru: '芯胁卸 谢芯锌邪泻邪  锌械械屑', ar: '鬲 亘乇 ' },
            '驻住专 拽转': { en: 'Italian Pastrami', ru: '邪谢薪泻邪 锌邪邪屑懈', ar: '亘爻胤乇丞 廿胤丕丞' },
            '驻住专 ': { en: 'Charcoal Pastrami', ru: '邪邪屑懈 薪邪 谐谢', ar: '亘爻胤乇丞 丨' },
            '驻住专 专': { en: 'Grilled Pastrami', ru: '邪邪屑懈 谐懈谢', ar: '亘爻胤乇丞 卮丞' },
            '驻住专 ': { en: 'Turkey Pastrami', ru: '邪邪屑懈 懈蟹 懈薪写械泄泻懈', ar: '亘爻胤乇丞 丿 乇' },
            '驻住专 砖': { en: 'Honey Pastrami', ru: '邪邪屑懈  屑写芯屑', ar: '亘爻胤乇丞 毓爻' },
            '驻住专 专拽': { en: 'BBQ Pastrami', ru: '邪邪屑懈 斜邪斜械泻', ar: '亘爻胤乇丞 亘丕乇亘' },
            '驻住专 爪 注 ': { en: 'Brick Roasted Pastrami', ru: '邪邪屑懈 薪邪 泻懈锌懈邪', ar: '亘爻胤乇丞 卮丞 毓 丕胤亘' },
            '驻住专 驻专转': { en: 'Chicken Pastrami', ru: '懈薪邪 锌邪邪屑懈', ar: '亘爻胤乇丞 丿噩丕噩' },
            '驻住专 驻专转': { en: 'Rustic Pastrami', ru: '械械胁械薪泻邪 锌邪邪屑懈', ar: '亘爻胤乇丞 乇丞' },
            // Salads - 住 
            '住': { en: 'Hummus', ru: '啸屑', ar: '丨氐' },
            '': { en: 'Tahini', ru: '孝邪懈薪懈', ar: '胤丨丞' },
            '住 爪': { en: 'Eggplant Salad', ru: '小邪谢邪 懈蟹 斜邪泻谢邪卸邪薪芯胁', ar: '爻胤丞 亘丕匕噩丕' },
            '住 ': { en: 'Matbucha', ru: '邪斜邪', ar: '胤亘禺丞' },
            '住 专拽': { en: 'Turkish Salad', ru: '孝械泻懈泄 邪谢邪', ar: '爻胤丞 鬲乇丞' },
            '住 专': { en: 'Cabbage Salad', ru: '邪锌薪泄 邪谢邪', ar: '爻胤丞 ' },
            '住 专': { en: 'Carrot Salad', ru: '芯泻芯胁薪泄 邪谢邪', ar: '爻胤丞 噩夭乇' },
            '住 拽住': { en: 'Coleslaw', ru: '芯谢谢芯', ar: ' 爻' },
            '住 爪': { en: 'Egg Salad', ru: '携懈薪泄 邪谢邪', ar: '爻胤丞 亘囟' },
            '住 ': { en: 'Tuna Salad', ru: '小邪谢邪  薪芯屑', ar: '爻胤丞 鬲丞' },
            '住 专': { en: 'Bulgarian Salad', ru: '芯谢谐邪泻懈泄 邪谢邪', ar: '爻胤丞 亘睾丕乇丞' },
            '住 专拽转': { en: 'Vegetable Salad', ru: '胁芯薪芯泄 邪谢邪', ar: '爻胤丞 禺囟丕乇' },
            '住 拽': { en: 'Quinoa Salad', ru: '小邪谢邪  泻懈薪芯邪', ar: '爻胤丞 丕' },
            '住 驻住': { en: 'Pasta Salad', ru: '小邪谢邪  锌邪芯泄', ar: '爻胤丞 亘丕爻鬲丕' },
            '住 注砖': { en: 'Lentil Salad', ru: '效械械胁懈薪泄 邪谢邪', ar: '爻胤丞 毓丿爻' },
            '拽': { en: 'Guacamole', ru: '邪泻邪屑芯谢械', ar: '噩丕丕' },
            '住住': { en: 'Salsa', ru: '小邪谢邪', ar: '氐氐丞' },
            ' 砖': { en: 'Baba Ganoush', ru: '邪斜邪 邪薪', ar: '亘丕亘丕 睾噩' },
            '住 住': { en: 'Chickpea Salad', ru: '小邪谢邪 懈蟹 薪邪', ar: '爻胤丞 丨氐' },
            '住 驻专转': { en: 'Mushroom Salad', ru: '懈斜薪芯泄 邪谢邪', ar: '爻胤丞 胤乇' },
            '住 住拽': { en: 'Beet Salad', ru: '小胁械泻芯谢薪泄 邪谢邪', ar: '爻胤丞 卮丿乇' },
            '住 转驻状': { en: 'Potato Salad', ru: '邪芯械谢薪泄 邪谢邪', ar: '爻胤丞 亘胤丕胤丕' },
            '住 驻驻 拽': { en: 'Roasted Pepper Salad', ru: '小邪谢邪 懈蟹 锌械薪芯谐芯 锌械邪', ar: '爻胤丞  卮' },
            '专 拽': { en: 'Avocado Spread', ru: '邪邪 懈蟹 邪胁芯泻邪写芯', ar: '毓噩 兀丕丿' },
            '住 拽': { en: 'Avocado Salad', ru: '小邪谢邪 懈蟹 邪胁芯泻邪写芯', ar: '爻胤丞 兀丕丿' },
            // Snacks - 驻
            '': { en: 'Bamba', ru: '邪屑斜邪', ar: '亘丕亘丕' },
            ' ': { en: 'Red Bamba', ru: '邪薪邪 邪屑斜邪', ar: '亘丕亘丕 丨乇丕亍' },
            ' ': { en: 'Nougat Bamba', ru: '邪屑斜邪  薪谐芯泄', ar: '亘丕亘丕 噩丕' },
            '住': { en: 'Bisli', ru: '懈谢懈', ar: '亘爻' },
            '住 专': { en: 'Grill Bisli', ru: '懈谢懈 谐懈谢', ar: '亘爻 卮丕亍' },
            '住 爪': { en: 'Onion Bisli', ru: '懈谢懈  谢泻芯屑', ar: '亘爻 亘氐' },
            '住 驻爪': { en: 'Pizza Bisli', ru: '懈谢懈 锌懈邪', ar: '亘爻 亘鬲夭丕' },
            '专住': { en: 'Doritos', ru: '芯懈芯', ar: '丿乇鬲爻' },
            '专住 爪\'': { en: 'Chili Doritos', ru: '芯懈芯 懈谢懈', ar: '丿乇鬲爻 丨丕乇' },
            '专 爪\'驻住': { en: 'Tortilla Chips', ru: '效懈锌 芯懈谢', ar: '乇丕卅 鬲乇鬲丕' },
            '转驻爪\'驻住': { en: 'Potato Chips', ru: '邪芯械谢薪械 懈锌', ar: '卮亘爻 亘胤丕胤丕' },
            '驻专住': { en: 'Pringles', ru: '懈薪谐谢', ar: '亘乇噩夭' },
            '驻专住 抓': { en: 'Sour Pringles', ru: '懈谢泄 懈薪谐谢', ar: '亘乇噩夭 丨丕囟' },
            '驻驻拽专': { en: 'Popcorn', ru: '芯锌泻芯薪', ar: '卮丕乇' },
            '驻驻拽专 拽专': { en: 'Microwave Popcorn', ru: '芯锌泻芯薪 写谢 屑懈泻芯胁芯谢薪芯胁泻懈', ar: '卮丕乇 乇' },
            '驻驻拽专 拽专': { en: 'Caramel Popcorn', ru: '邪邪屑械谢薪泄 锌芯锌泻芯薪', ar: '卮丕乇 乇丕' },
            '砖拽': { en: 'Chocolate', ru: '楔芯泻芯谢邪写', ar: '卮丕鬲丞' },
            '砖拽 驻专': { en: 'Para Chocolate', ru: '楔芯泻芯谢邪写 邪邪', ar: '卮丕鬲丞 亘丕乇丕' },
            '砖拽 拽': { en: 'Milka Chocolate', ru: '楔芯泻芯谢邪写 懈谢泻邪', ar: '卮丕鬲丞 丕' },
            '砖拽 ': { en: 'Milk Chocolate', ru: '芯谢芯薪泄 芯泻芯谢邪写', ar: '卮丕鬲丞 丨亘' },
            '砖拽 专专': { en: 'Dark Chocolate', ru: '芯泻懈泄 芯泻芯谢邪写', ar: '卮丕鬲丞 丿丕丞' },
            '砖拽 ': { en: 'White Chocolate', ru: '械谢泄 芯泻芯谢邪写', ar: '卮丕鬲丞 亘囟丕亍' },
            '砖拽 注 ': { en: 'Chocolate with Nuts', ru: '楔芯泻芯谢邪写  芯械邪屑懈', ar: '卮丕鬲丞 亘丕爻乇丕鬲' },
            '拽专': { en: 'Kinder', ru: '懈薪写械', ar: '丿乇' },
            '住拽专住': { en: 'Snickers', ru: '小薪懈泻械', ar: '爻乇夭' },
            '专住': { en: 'Mars', ru: '邪', ar: '丕乇爻' },
            '拽住': { en: 'Twix', ru: '孝胁懈泻', ar: '鬲爻' },
            '拽拽': { en: 'KitKat', ru: '懈邪', ar: '鬲 丕鬲' },
            '住拽': { en: 'Biscuits', ru: '懈泻胁懈', ar: '亘爻鬲' },
            '注转 专': { en: 'Oreo Cookies', ru: '械械薪械 械芯', ar: '亘爻鬲 兀乇' },
            '注转 住': { en: 'Lotus Cookies', ru: '械械薪械 芯', ar: '亘爻鬲 鬲爻' },
            '驻': { en: 'Waffles', ru: '邪谢懈', ar: '丕' },
            '驻 ': { en: 'Belgian Waffle', ru: '械谢谐懈泄泻邪 胁邪谢', ar: '丕 亘噩' },
            '拽爪驻转': { en: 'Whipped Cream', ru: '蟹斜懈械 谢懈胁泻懈', ar: '乇丞 禺丞' },
            '专砖': { en: 'Marshmallow', ru: '邪屑械谢谢芯', ar: '丕乇卮' },
            '住专转': { en: 'Candies', ru: '芯薪械', ar: '丨丕鬲' },
            '住专转 ': { en: 'Gummy Candies', ru: '械胁邪械谢薪械 泻芯薪械', ar: '丨 噩丕鬲' },
            '': { en: 'Gummy Bears', ru: '邪屑械谢邪写薪械 屑懈泻懈', ar: '丿亘亘丞 噩丕鬲' },
            '住拽': { en: 'Chewing Gum', ru: '胁邪泻邪', ar: '毓丞' },
            '住': { en: 'Mentos', ru: '械薪芯', ar: '鬲爻' },
            '拽 拽': { en: 'Tic Tac', ru: '孝懈泻 孝邪泻', ar: '鬲 鬲丕' },
            '注转 砖拽': { en: 'Chocolate Cake', ru: '楔芯泻芯谢邪写薪泄 芯', ar: '毓丞 卮丕鬲丞' },
            '注转 ': { en: 'Cheesecake', ru: '效懈蟹泻械泄泻', ar: '毓丞 丕噩亘' },
            '拽专': { en: 'Krembo', ru: '械屑斜芯', ar: '乇亘' },
            '驻住拽 ': { en: 'Pesek Zman', ru: '械械泻 屑邪薪', ar: '亘爻 夭丕' },
            '拽拽': { en: 'Click', ru: '谢懈泻', ar: '' },
            '注': { en: 'Taami', ru: '孝邪邪屑懈', ar: '胤毓' },
            // Baking - 驻
            '拽': { en: 'Flour', ru: '泻邪', ar: '胤丨' },
            '拽 ': { en: 'White Flour', ru: '械谢邪 屑泻邪', ar: '胤丨 兀亘囟' },
            '拽 ': { en: 'Whole Wheat Flour', ru: '笑械谢薪芯蟹械薪芯胁邪 屑泻邪', ar: '胤丨 丨 丕' },
            '拽 转专住': { en: 'Corn Flour', ru: '泻蟹薪邪 屑泻邪', ar: '胤丨 匕乇丞' },
            '拽 住': { en: 'Spelt Flour', ru: '小锌械谢芯胁邪 屑泻邪', ar: '胤丨 丕丨胤丞' },
            '拽 砖拽': { en: 'Almond Flour', ru: '懈薪写邪谢薪邪 屑泻邪', ar: '胤丨 丕夭' },
            '拽 拽拽住': { en: 'Coconut Flour', ru: '芯泻芯芯胁邪 屑泻邪', ar: '胤丨 噩夭 丕丿' },
            '拽  ': { en: 'Gluten Free Flour', ru: '械蟹谐谢械薪芯胁邪 屑泻邪', ar: '胤丨 禺丕  丕睾鬲' },
            '住专': { en: 'Sugar', ru: '小邪邪', ar: '爻乇' },
            '住专 ': { en: 'White Sugar', ru: '械谢泄 邪邪', ar: '爻乇 兀亘囟' },
            '住专 ': { en: 'Brown Sugar', ru: '芯懈薪械胁泄 邪邪', ar: '爻乇 亘' },
            '住专 拽': { en: 'Powdered Sugar', ru: '小邪邪薪邪 锌写邪', ar: '爻乇 亘丿乇丞' },
            '砖专': { en: 'Yeast', ru: '芯卸卸懈', ar: '禺乇丞' },
            '拽转 驻': { en: 'Baking Powder', ru: '邪蟹谢懈械谢', ar: '亘噩 亘丕丿乇' },
            '': { en: 'Vanilla', ru: '邪薪懈谢', ar: '丕丕' },
            '砖拽 爪\'驻住': { en: 'Chocolate Chips', ru: '楔芯泻芯谢邪写薪邪 泻芯泻邪', ar: '乇丕卅 卮丕鬲丞' },
            '拽拽': { en: 'Cocoa', ru: '邪泻邪芯', ar: '丕丕' },
            '拽拽住 专': { en: 'Shredded Coconut', ru: '芯泻芯芯胁邪 卸泻邪', ar: '噩夭 丿 亘卮乇' },
            '砖拽': { en: 'Almonds', ru: '懈薪写邪谢', ar: '夭' },
            ' ': { en: 'Walnuts', ru: '械泻懈械 芯械懈', ar: '噩夭' },
            '驻拽': { en: 'Pecans', ru: '械泻邪薪', ar: '亘丕' },
            '爪拽': { en: 'Raisins', ru: '蟹屑', ar: '夭亘亘' },
            '转专': { en: 'Dates', ru: '肖懈薪懈泻懈', ar: '鬲乇' },
            // Meat - 砖专
            '注祝 砖 专': { en: 'Fresh Whole Chicken', ru: '小胁械卸邪 泻懈邪 械谢懈泻芯屑', ar: '丿噩丕噩 丕 胤丕夭噩' },
            ' 注祝 专': { en: 'Fresh Chicken Breast', ru: '小胁械卸邪 泻懈薪邪 谐写泻邪', ar: '氐丿乇 丿噩丕噩 胤丕夭噩' },
            '专注 注祝 专转': { en: 'Fresh Chicken Legs', ru: '小胁械卸懈械 泻懈薪械 薪芯卸泻懈', ar: '兀禺丕匕 丿噩丕噩 胤丕夭噩丞' },
            '驻 注祝 专转': { en: 'Fresh Chicken Wings', ru: '小胁械卸懈械 泻懈薪械 泻谢', ar: '兀噩丨丞 丿噩丕噩 胤丕夭噩丞' },
            '砖专  专': { en: 'Fresh Ground Beef', ru: '小胁械卸懈泄 谐芯胁卸懈泄 邪', ar: '丨 乇 胤丕夭噩' },
            '专拽 专': { en: 'Fresh Entrecote', ru: '小胁械卸懈泄 邪薪械泻芯', ar: '丕鬲乇鬲 胤丕夭噩' },
            '住 专': { en: 'Fresh Salmon', ru: '小胁械卸懈泄 谢芯芯', ar: '爻 胤丕夭噩' },
            '住 注砖': { en: 'Smoked Salmon', ru: '芯锌薪泄 谢芯芯', ar: '爻 丿禺' },
            '砖爪 注祝 专': { en: 'Fresh Chicken Schnitzel', ru: '小胁械卸懈泄 泻懈薪泄 薪懈械谢', ar: '卮鬲爻 丿噩丕噩 胤丕夭噩' },
            '专专 专': { en: 'Fresh Hamburger', ru: '小胁械卸懈泄 谐邪屑斜谐械', ar: '亘乇睾乇 胤丕夭噩' },
            // Desserts - 拽
            '拽': { en: 'Milky', ru: '懈谢泻懈', ar: '' },
            '': { en: 'Danone', ru: '邪薪芯薪', ar: '丿丕' },
            '砖拽 转': { en: 'Yotvata Chocolate Milk', ru: '楔芯泻芯谢邪写薪芯械 屑芯谢芯泻芯 芯胁邪邪', ar: '卮 鬲丕鬲丕' },
            '住 砖拽': { en: 'Chocolate Mousse', ru: '楔芯泻芯谢邪写薪泄 屑', ar: '爻 卮丕鬲丞' },
            '专住': { en: 'Tiramisu', ru: '孝懈邪屑懈', ar: '鬲乇丕爻' },
            '专 ': { en: 'Rice Pudding', ru: '懈芯胁泄 锌写懈薪谐', ar: '兀乇夭 亘丕丨亘' },
            // Canned & Grains - 砖专 专
            '专': { en: 'Rice', ru: '懈', ar: '兀乇夭' },
            '专 住': { en: 'Basmati Rice', ru: '懈 邪屑邪懈', ar: '兀乇夭 亘爻鬲' },
            '驻住': { en: 'Pasta', ru: '邪邪', ar: '毓乇丞' },
            '驻住 住驻': { en: 'Spaghetti', ru: '小锌邪谐械懈', ar: '爻亘丕睾鬲' },
            '拽住拽住': { en: 'Couscous', ru: '泻', ar: '爻爻' },
            '专 注转': { en: 'Tomato Sauce', ru: '孝芯屑邪薪泄 芯', ar: '氐氐丞 胤丕胤' },
            '': { en: 'Tuna', ru: '孝薪械', ar: '鬲丞' },
            '转专住': { en: 'Corn', ru: '泻蟹邪', ar: '匕乇丞' },
            '砖 转': { en: 'Olive Oil', ru: '谢懈胁泻芯胁芯械 屑邪谢芯', ar: '夭鬲 夭鬲' },
            '抓': { en: 'Vinegar', ru: '校泻', ar: '禺' },
            '转': { en: 'Olives', ru: '谢懈胁泻懈', ar: '夭鬲' },
            '注砖': { en: 'Lentils', ru: '效械械胁懈邪', ar: '毓丿爻' },
            '砖注注转': { en: 'Beans', ru: '肖邪芯谢', ar: '丕氐丕' },
            // Cereals - 
            '拽专驻拽住': { en: 'Cornflakes', ru: '泻蟹薪械 谢芯锌', ar: '乇 爻' },
            '专': { en: 'Granola', ru: '邪薪芯谢邪', ar: '噩乇丕丕' },
            '砖转 砖注': { en: 'Oatmeal', ru: '胁薪泻邪', ar: '卮丕' },
            '': { en: 'Muesli', ru: '谢懈', ar: '爻' },
            // Spices - 转
            '': { en: 'Salt', ru: '小芯谢', ar: '丨' },
            '驻驻 砖专': { en: 'Black Pepper', ru: '效薪泄 锌械械', ar: ' 兀爻丿' },
            '驻驻专拽': { en: 'Paprika', ru: '邪锌懈泻邪', ar: '亘丕亘乇丕' },
            '专': { en: 'Turmeric', ru: '泻屑邪', ar: '乇' },
            '': { en: 'Cumin', ru: '屑懈薪', ar: '' },
            '拽': { en: 'Cinnamon', ru: '芯懈邪', ar: '乇丞' },
            '注转专': { en: 'Za\'atar', ru: '邪邪邪', ar: '夭毓鬲乇' },
            '拽专': { en: 'Curry', ru: '邪懈', ar: '丕乇' },
            // Coffee & Tea - 拽驻 转
            '拽驻 住': { en: 'Instant Coffee', ru: '邪胁芯懈屑泄 泻芯械', ar: '丞 爻乇毓丞' },
            '拽驻 专拽': { en: 'Turkish Coffee', ru: '孝械泻懈泄 泻芯械', ar: '丞 鬲乇丞' },
            '转 砖专': { en: 'Black Tea', ru: '效薪泄 邪泄', ar: '卮丕 兀爻丿' },
            '转 专拽': { en: 'Green Tea', ru: '械谢薪泄 邪泄', ar: '卮丕 兀禺囟乇' },
            '转 注注': { en: 'Mint Tea', ru: '薪泄 邪泄', ar: '卮丕 毓丕毓' },
            // Drinks - 砖拽转
            '': { en: 'Water', ru: '芯写邪', ar: '丕亍' },
            '拽': { en: 'Cola', ru: '芯谢邪', ar: '丕' },
            '住驻专': { en: 'Sprite', ru: '小锌邪泄', ar: '爻亘乇丕鬲' },
            '抓 转驻': { en: 'Orange Juice', ru: '锌械谢懈薪芯胁泄 芯泻', ar: '毓氐乇 亘乇鬲丕' },
            '抓 转驻': { en: 'Apple Juice', ru: '携斜谢芯薪泄 芯泻', ar: '毓氐乇 鬲丕丨' },
            // Cleaning - 拽
            '专 ': { en: 'Toilet Paper', ru: '孝邪谢械薪邪 斜屑邪谐邪', ar: '乇 鬲丕鬲' },
            '转 专': { en: 'Paper Towels', ru: '屑邪卸薪械 锌芯谢芯械薪邪', ar: '丕卮 乇丞' },
            '住 ': { en: 'Dish Soap', ru: '小械写胁芯 写谢 锌芯写', ar: '氐丕亘 兀胤亘丕' },
            '拽转 住': { en: 'Laundry Detergent', ru: '小懈邪谢薪泄 锌芯芯芯泻', ar: '爻丨 睾爻' },
            '专 住': { en: 'Fabric Softener', ru: '芯薪写懈懈芯薪械 写谢 斜械谢', ar: '毓 兀卮丞' },
            '拽拽': { en: 'Bleach', ru: '斜械谢懈胁邪械谢', ar: '亘囟' },
            '砖拽转 砖驻': { en: 'Garbage Bags', ru: '芯薪械 锌邪泻械', ar: '兀丕爻 丕丞' },
            '专 ': { en: 'Aluminum Foil', ru: '肖芯谢谐邪', ar: '乇 兀' },
            ' 爪': { en: 'Plastic Wrap', ru: '懈械胁邪 锌谢薪泻邪', ar: '睾丕 亘丕爻鬲' },
            // Hygiene - 
            '住 ': { en: 'Hand Soap', ru: '谢芯 写谢 泻', ar: '氐丕亘 丿' },
            '砖驻': { en: 'Shampoo', ru: '楔邪屑锌薪', ar: '卮丕亘' },
            '专 砖注专': { en: 'Conditioner', ru: '芯薪写懈懈芯薪械', ar: '亘爻 卮毓乇' },
            '砖转 砖': { en: 'Toothpaste', ru: '斜薪邪 锌邪邪', ar: '毓噩 兀爻丕' },
            '专砖转 砖': { en: 'Toothbrush', ru: '斜薪邪 泻邪', ar: '乇卮丕丞 兀爻丕' },
            '专': { en: 'Deodorant', ru: '械蟹芯写芯邪薪', ar: '夭 毓乇' },
            '拽专 转': { en: 'Moisturizer', ru: '校胁谢邪卸薪懈泄 泻械屑', ar: '乇 乇胤亘' },
            // Baby - 转拽转
            '转': { en: 'Diapers', ru: '芯写谐蟹薪懈泻懈', ar: '丨丕囟丕鬲' },
            ' 转拽转': { en: 'Baby Wipes', ru: '械泻懈械 邪谢械泻懈', ar: '丕丿 兀胤丕' },
            '砖驻 转拽转': { en: 'Baby Shampoo', ru: '械泻懈泄 邪屑锌薪', ar: '卮丕亘 兀胤丕' },
            '拽转 ': { en: 'Baby Formula', ru: '械泻邪 屑械', ar: '丨亘 兀胤丕' },
            // Pets - 转 
            ' ': { en: 'Dog Food', ru: '芯屑 写谢 芯斜邪泻', ar: '胤毓丕 丕亘' },
            ' 转': { en: 'Cat Food', ru: '芯屑 写谢 泻芯械泻', ar: '胤毓丕 胤胤' },
            ' 转': { en: 'Cat Litter', ru: '邪锌芯谢薪懈械谢 写谢 泻芯械泻', ar: '乇 胤胤' },
            // Frozen - 拽驻
            '': { en: 'Ice Cream', ru: '芯芯卸械薪芯械', ar: '丌爻 乇' },
            '驻爪 拽驻': { en: 'Frozen Pizza', ru: '邪屑芯芯卸械薪薪邪 锌懈邪', ar: '亘鬲夭丕 噩丿丞' },
            '专拽转 拽驻': { en: 'Frozen Vegetables', ru: '邪屑芯芯卸械薪薪械 芯胁芯懈', ar: '禺囟丕乇 噩丿丞' },
            // Candles - 专转
            '专转 砖转': { en: 'Shabbat Candles', ru: '小斜斜芯薪懈械 胁械懈', ar: '卮毓 丕爻亘鬲' },
            '专转 ': { en: 'Hanukkah Candles', ru: '啸邪薪泻邪谢薪械 胁械懈', ar: '卮毓 丨丕丕' },
            '驻专专': { en: 'Matches', ru: '小锌懈泻懈', ar: '亘乇鬲' },
            // Cereals -  拽专驻拽住
            '拽专驻拽住 拽住': { en: 'Classic Cornflakes', ru: '谢邪懈械泻懈械 泻泻蟹薪械 谢芯锌', ar: '乇 爻 丕爻' },
            '拽专驻拽住 砖': { en: 'Honey Cornflakes', ru: '泻蟹薪械 谢芯锌  屑写芯屑', ar: '乇 爻 亘丕毓爻' },
            '拽专驻拽住 砖拽': { en: 'Chocolate Cornflakes', ru: '楔芯泻芯谢邪写薪械 泻泻蟹薪械 谢芯锌', ar: '乇 爻 亘丕卮丕鬲丞' },
            '拽专驻拽住 专转': { en: 'Pillow Cereal', ru: '芯写械泻懈', ar: '乇 爻 爻丕卅丿' },
            '拽专驻拽住 驻专转': { en: 'Fruit Cornflakes', ru: '泻蟹薪械 谢芯锌  泻邪屑懈', ar: '乇 爻 亘丕丕' },
            '专拽住': { en: 'Trix', ru: '孝懈泻', ar: '鬲乇爻' },
            '驻转转 转专住': { en: 'Corn Flakes', ru: '泻蟹薪械 谢芯锌', ar: '乇丕卅 丕匕乇丞' },
            '专 砖拽': { en: 'Chocolate Granola', ru: '邪薪芯谢邪  芯泻芯谢邪写芯屑', ar: '噩乇丕丕 亘丕卮丕鬲丞' },
            '专 驻专转': { en: 'Fruit Granola', ru: '邪薪芯谢邪  泻邪屑懈', ar: '噩乇丕丕 亘丕丕' },
            '专 ': { en: 'Nut Granola', ru: '邪薪芯谢邪  芯械邪屑懈', ar: '噩乇丕丕 亘丕爻乇丕鬲' },
            '驻爪驻爪 专': { en: 'Rice Puffs', ru: '芯蟹写薪泄 懈', ar: '兀乇夭 禺' },
            '拽拽专': { en: 'Quaker Oats', ru: '胁邪泻械', ar: '乇' },
            ' ': { en: 'Whole Grains', ru: '笑械谢薪芯蟹械薪芯胁械', ar: '丨亘亘 丕丞' },
            ' 住': { en: 'Mini Wheats', ru: '懈薪懈 懈', ar: ' 鬲爻' },
            '爪\'专住': { en: 'Cheerios', ru: '效懈懈芯', ar: '鬲卮乇夭' },
            '住 驻住': { en: 'Nestle Fitness', ru: '械谢械 肖懈薪械', ar: '爻鬲 鬲爻' },
            '住拽 专': { en: 'Snack Bar', ru: '小薪泻-斜邪', ar: '爻丕 亘丕乇' },
            '祝 ': { en: 'Cereal Bar', ru: '械薪芯胁芯泄 斜邪芯薪懈泻', ar: '丨 丨亘亘' },
            '祝 专': { en: 'Granola Bar', ru: '邪芯薪懈泻 谐邪薪芯谢邪', ar: '丨 噩乇丕丕' },
            ' 专': { en: 'All Bran', ru: '谢 邪薪', ar: '兀 亘乇丕' },
            '驻专 驻住': { en: 'Froot Loops', ru: '肖 锌', ar: '乇鬲 亘爻' },
            '拽拽 驻驻住': { en: 'Coco Pops', ru: '芯泻芯 芯锌', ar: ' 亘亘爻' },
            '': { en: 'Lion', ru: '懈芯薪', ar: '' },
            '住拽住': { en: 'Smacks', ru: '小屑泻', ar: '爻丕爻' },
            '爪\'专住': { en: 'Cheerios', ru: '效械懈薪谐', ar: '鬲卮乇噩夭' },
            '拽专抓\'': { en: 'Crunch', ru: '邪薪', ar: '乇丕卮' },
            '住 拽专抓\'': { en: 'Cini Crunch', ru: '小懈薪懈 邪薪', ar: '爻 乇丕卮' },
            '专 砖拽': { en: 'Chocolate Balls', ru: '楔芯泻芯谢邪写薪械 邪懈泻懈', ar: '乇丕鬲 卮丕鬲丞' },
            // Meat - 砖专
            '注祝 砖 拽驻': { en: 'Frozen Whole Chicken', ru: '邪屑芯芯卸械薪薪邪 泻懈邪 械谢懈泻芯屑', ar: '丿噩丕噩 丕 噩丿' },
            ' 注祝 拽驻': { en: 'Frozen Chicken Breast', ru: '邪屑芯芯卸械薪薪邪 泻懈薪邪 谐写泻邪', ar: '氐丿乇 丿噩丕噩 噩丿' },
            ' 注祝 驻专住 专': { en: 'Fresh Sliced Chicken Breast', ru: '小胁械卸邪 薪邪械蟹邪薪薪邪 泻懈薪邪 谐写泻邪', ar: '氐丿乇 丿噩丕噩 胤毓 胤丕夭噩' },
            '专注 注祝 拽驻转': { en: 'Frozen Chicken Legs', ru: '邪屑芯芯卸械薪薪械 泻懈薪械 薪芯卸泻懈', ar: '兀禺丕匕 丿噩丕噩 噩丿丞' },
            '砖拽 注祝 专': { en: 'Fresh Chicken Drumsticks', ru: '小胁械卸懈械 泻懈薪械 谐芯谢械薪懈', ar: '爻丕 丿噩丕噩 胤丕夭噩丞' },
            '砖拽 注祝 拽驻': { en: 'Frozen Chicken Drumsticks', ru: '邪屑芯芯卸械薪薪械 泻懈薪械 谐芯谢械薪懈', ar: '爻丕 丿噩丕噩 噩丿丞' },
            '驻 注祝 拽驻转': { en: 'Frozen Chicken Wings', ru: '邪屑芯芯卸械薪薪械 泻懈薪械 泻谢', ar: '兀噩丨丞 丿噩丕噩 噩丿丞' },
            '注祝  专': { en: 'Fresh Ground Chicken', ru: '小胁械卸懈泄 泻懈薪泄 邪', ar: '丿噩丕噩 乇 胤丕夭噩' },
            '注祝  拽驻': { en: 'Frozen Ground Chicken', ru: '邪屑芯芯卸械薪薪泄 泻懈薪泄 邪', ar: '丿噩丕噩 乇 噩丿' },
            ' 注祝 专': { en: 'Fresh Chicken Liver', ru: '小胁械卸邪 泻懈薪邪 锌械械薪', ar: '亘丿 丿噩丕噩 胤丕夭噩' },
            ' 注祝 拽驻': { en: 'Frozen Chicken Liver', ru: '邪屑芯芯卸械薪薪邪 泻懈薪邪 锌械械薪', ar: '亘丿 丿噩丕噩 噩丿' },
            '转 注祝': { en: 'Chicken Hearts', ru: '懈薪械 械写邪', ar: '亘 丿噩丕噩' },
            '驻专转 专': { en: 'Fresh Cornish Hen', ru: '小胁械卸懈泄 锌谢薪芯泻', ar: '乇噩 胤丕夭噩' },
            '驻专转 拽驻': { en: 'Frozen Cornish Hen', ru: '邪屑芯芯卸械薪薪泄 锌谢薪芯泻', ar: '乇噩 噩丿' },
            '  专': { en: 'Fresh Turkey Breast', ru: '小胁械卸邪 谐写泻邪 懈薪写械泄泻懈', ar: '氐丿乇 丿 乇 胤丕夭噩' },
            '  拽驻': { en: 'Frozen Turkey Breast', ru: '邪屑芯芯卸械薪薪邪 谐写泻邪 懈薪写械泄泻懈', ar: '氐丿乇 丿 乇 噩丿' },
            '  专': { en: 'Fresh Ground Turkey', ru: '小胁械卸懈泄 邪 懈薪写械泄泻懈', ar: '丿 乇 乇 胤丕夭噩' },
            '  拽驻': { en: 'Frozen Ground Turkey', ru: '邪屑芯芯卸械薪薪泄 邪 懈薪写械泄泻懈', ar: '丿 乇 乇 噩丿' },
            '砖专  拽驻': { en: 'Frozen Ground Beef', ru: '邪屑芯芯卸械薪薪泄 谐芯胁卸懈泄 邪', ar: '丨 乇 噩丿' },
            '砖专  专 专': { en: 'Fresh Lean Ground Beef', ru: '小胁械卸懈泄 锌芯薪泄 谐芯胁卸懈泄 邪', ar: '丨 乇  丕丿 胤丕夭噩' },
            '专拽 拽驻': { en: 'Frozen Entrecote', ru: '邪屑芯芯卸械薪薪泄 邪薪械泻芯', ar: '丕鬲乇鬲 噩丿' },
            '住 专': { en: 'Fresh Sirloin', ru: '小胁械卸邪 胁械蟹泻邪', ar: '爻鬲丕 胤丕夭噩丞' },
            '住 拽驻': { en: 'Frozen Sirloin', ru: '邪屑芯芯卸械薪薪邪 胁械蟹泻邪', ar: '爻鬲丕 噩丿丞' },
            '驻 拽专 专': { en: 'Fresh Beef Fillet', ru: '小胁械卸械械 懈谢械 谐芯胁写懈薪', ar: ' 亘乇 胤丕夭噩' },
            '驻 拽专 拽驻': { en: 'Frozen Beef Fillet', ru: '邪屑芯芯卸械薪薪芯械 懈谢械 谐芯胁写懈薪', ar: ' 亘乇 噩丿' },
            '爪注转 拽专 专转': { en: 'Fresh Beef Ribs', ru: '小胁械卸懈械 谐芯胁卸懈 斜邪', ar: '囟毓 亘乇 胤丕夭噩丞' },
            '爪注转 拽专 拽驻转': { en: 'Frozen Beef Ribs', ru: '邪屑芯芯卸械薪薪械 谐芯胁卸懈 斜邪', ar: '囟毓 亘乇 噩丿丞' },
            '砖驻专 专': { en: 'Fresh Chuck', ru: '小胁械卸邪 谢芯锌邪泻邪', ar: '卮亘丿乇丕 胤丕夭噩丞' },
            '砖驻专 拽驻': { en: 'Frozen Chuck', ru: '邪屑芯芯卸械薪薪邪 谢芯锌邪泻邪', ar: '卮亘丿乇丕 噩丿丞' },
            '住 专': { en: 'Fresh Asado', ru: '小胁械卸械械 邪邪写芯', ar: '兀爻丕丿 胤丕夭噩' },
            '住 拽驻': { en: 'Frozen Asado', ru: '邪屑芯芯卸械薪薪芯械 邪邪写芯', ar: '兀爻丕丿 噩丿' },
            '砖 专': { en: 'Fresh Goulash Meat', ru: '小胁械卸械械 屑芯 写谢 谐谢邪', ar: '丨 噩丕卮 胤丕夭噩' },
            '砖 拽驻': { en: 'Frozen Goulash Meat', ru: '邪屑芯芯卸械薪薪芯械 屑芯 写谢 谐谢邪', ar: '丨 噩丕卮 噩丿' },
            '砖专 砖专 专': { en: 'Fresh Shawarma Meat', ru: '小胁械卸械械 屑芯 写谢 邪屑', ar: '丨 卮丕乇丕 胤丕夭噩' },
            '砖专 砖专 拽驻': { en: 'Frozen Shawarma Meat', ru: '邪屑芯芯卸械薪薪芯械 屑芯 写谢 邪屑', ar: '丨 卮丕乇丕 噩丿' },
            ' 专': { en: 'Fresh Lamb', ru: '小胁械卸邪 斜邪邪薪懈薪邪', ar: '丨 禺乇 胤丕夭噩' },
            ' 拽驻': { en: 'Frozen Lamb', ru: '邪屑芯芯卸械薪薪邪 斜邪邪薪懈薪邪', ar: '丨 禺乇 噩丿' },
            '砖 专': { en: 'Fresh Mutton', ru: '小胁械卸邪 芯胁械械 屑芯', ar: '丨 囟兀 胤丕夭噩' },
            '砖 拽驻': { en: 'Frozen Mutton', ru: '邪屑芯芯卸械薪薪芯械 芯胁械械 屑芯', ar: '丨 囟兀 噩丿' },
            '砖爪 注祝 拽驻': { en: 'Frozen Chicken Schnitzel', ru: '邪屑芯芯卸械薪薪泄 泻懈薪泄 薪懈械谢', ar: '卮鬲爻 丿噩丕噩 噩丿' },
            '砖爪  专': { en: 'Fresh Turkey Schnitzel', ru: '小胁械卸懈泄 薪懈械谢 懈薪写械泄泻懈', ar: '卮鬲爻 丿 乇 胤丕夭噩' },
            '砖爪  拽驻': { en: 'Frozen Turkey Schnitzel', ru: '邪屑芯芯卸械薪薪泄 薪懈械谢 懈薪写械泄泻懈', ar: '卮鬲爻 丿 乇 噩丿' },
            '拽 专': { en: 'Fresh Kebab', ru: '小胁械卸懈泄 泻械斜邪斜', ar: '亘丕亘 胤丕夭噩' },
            '拽 拽驻': { en: 'Frozen Kebab', ru: '邪屑芯芯卸械薪薪泄 泻械斜邪斜', ar: '亘丕亘 噩丿' },
            '专专 拽驻': { en: 'Frozen Hamburger', ru: '邪屑芯芯卸械薪薪泄 谐邪屑斜谐械', ar: '亘乇睾乇 噩丿' },
            '专专 转': { en: 'Homemade Hamburger', ru: '芯屑邪薪懈泄 谐邪屑斜谐械', ar: '亘乇睾乇 亘鬲' },
            '拽拽转 注祝': { en: 'Chicken Sausages', ru: '懈薪械 芯懈泻懈', ar: '丕 丿噩丕噩' },
            '拽拽转 拽专': { en: 'Beef Sausages', ru: '芯胁卸懈 芯懈泻懈', ar: '丕 亘乇' },
            // Fish - 
            '住 拽驻': { en: 'Frozen Salmon', ru: '邪屑芯芯卸械薪薪泄 谢芯芯', ar: '爻 噩丿' },
            '驻 住 专': { en: 'Fresh Salmon Fillet', ru: '小胁械卸械械 懈谢械 谢芯芯', ar: ' 爻 胤丕夭噩' },
            '驻 住 拽驻': { en: 'Frozen Salmon Fillet', ru: '邪屑芯芯卸械薪薪芯械 懈谢械 谢芯芯', ar: ' 爻 噩丿' },
            '驻  专': { en: 'Fresh Tilapia Fillet', ru: '小胁械卸械械 懈谢械 懈谢邪锌懈懈', ar: ' 兀 胤丕夭噩' },
            '驻  拽驻': { en: 'Frozen Tilapia Fillet', ru: '邪屑芯芯卸械薪薪芯械 懈谢械 懈谢邪锌懈懈', ar: ' 兀 噩丿' },
            '驻 专 专': { en: 'Fresh Mullet Fillet', ru: '小胁械卸械械 懈谢械 泻械邪谢懈', ar: ' 亘乇 胤丕夭噩' },
            '驻 专 拽驻': { en: 'Frozen Mullet Fillet', ru: '邪屑芯芯卸械薪薪芯械 懈谢械 泻械邪谢懈', ar: ' 亘乇 噩丿' },
            '驻 住 专': { en: 'Fresh Sea Bream Fillet', ru: '小胁械卸械械 懈谢械 写芯邪写', ar: ' 丿爻 胤丕夭噩' },
            '驻 住 拽驻': { en: 'Frozen Sea Bream Fillet', ru: '邪屑芯芯卸械薪薪芯械 懈谢械 写芯邪写', ar: ' 丿爻 噩丿' },
            ' 专': { en: 'Fresh Tuna', ru: '小胁械卸懈泄 薪械', ar: '鬲丞 胤丕夭噩丞' },
            ' 砖 专': { en: 'Fresh Whole Fish', ru: '小胁械卸邪 械谢邪 斜邪', ar: '爻 丕 胤丕夭噩' },
            ' 砖 拽驻': { en: 'Frozen Whole Fish', ru: '邪屑芯芯卸械薪薪邪 械谢邪 斜邪', ar: '爻 丕 噩丿' },
            '住 ': { en: 'Fish Sticks', ru: '斜薪械 锌邪谢芯泻懈', ar: '兀氐丕亘毓 爻' },
            '砖专驻住 拽驻': { en: 'Frozen Shrimp', ru: '邪屑芯芯卸械薪薪械 泻械胁械泻懈', ar: '噩亘乇 噩丿' },
            '拽专 拽驻': { en: 'Frozen Calamari', ru: '邪屑芯芯卸械薪薪械 泻邪谢屑邪', ar: '丕丕乇 噩丿' },
            '': { en: 'Mussels', ru: '懈写懈懈', ar: '亘丨 丕亘丨乇' },
            '住专': { en: 'Sardines', ru: '小邪写懈薪', ar: '爻乇丿' },
            ' 注砖': { en: 'Smoked Fish', ru: '芯锌薪邪 斜邪', ar: '爻 丿禺' },
            // Frozen - 拽驻
            ' ': { en: 'Vanilla Ice Cream', ru: '邪薪懈谢薪芯械 屑芯芯卸械薪芯械', ar: '丌爻 乇 丕丕' },
            ' 砖拽': { en: 'Chocolate Ice Cream', ru: '楔芯泻芯谢邪写薪芯械 屑芯芯卸械薪芯械', ar: '丌爻 乇 卮丕鬲丞' },
            ' 转转': { en: 'Strawberry Ice Cream', ru: '谢斜薪懈薪芯械 屑芯芯卸械薪芯械', ar: '丌爻 乇 乇丕丞' },
            ' 驻住拽': { en: 'Pistachio Ice Cream', ru: '肖懈邪泻芯胁芯械 屑芯芯卸械薪芯械', ar: '丌爻 乇 爻鬲' },
            ' 拽专': { en: 'Caramel Ice Cream', ru: '邪邪屑械谢薪芯械 屑芯芯卸械薪芯械', ar: '丌爻 乇 乇丕' },
            '转 驻专': { en: 'Parve Ice Cream', ru: '邪胁械 屑芯芯卸械薪芯械', ar: '丌爻 乇 亘丕乇' },
            '专拽': { en: 'Popsicle', ru: '协泻懈屑芯', ar: '丌爻 乇 毓 毓氐丕' },
            '': { en: 'Magnum', ru: '邪谐薪屑', ar: '丕睾' },
            '拽专': { en: 'Cornetto', ru: '芯薪械芯', ar: '乇鬲' },
            '砖': { en: 'Ice Pop', ru: '肖泻芯胁泄 谢写', ar: '卮噩' },
            '驻专转 拽驻': { en: 'Frozen Fruits', ru: '邪屑芯芯卸械薪薪械 泻', ar: '丕 噩丿丞' },
            '转转 拽驻': { en: 'Frozen Strawberries', ru: '邪屑芯芯卸械薪薪邪 泻谢斜薪懈泻邪', ar: '乇丕丞 噩丿丞' },
            '驻 拽驻': { en: 'Frozen Raspberries', ru: '邪屑芯芯卸械薪薪邪 屑邪谢懈薪邪', ar: '鬲鬲 噩丿' },
            '转 拽驻转': { en: 'Frozen Blueberries', ru: '邪屑芯芯卸械薪薪邪 械薪懈泻邪', ar: '鬲鬲 兀夭乇 噩丿' },
            ' 拽驻': { en: 'Frozen Mango', ru: '邪屑芯芯卸械薪薪泄 屑邪薪谐芯', ar: '丕噩 噩丿' },
            '专拽转 拽驻爪': { en: 'Stir Fry Vegetables', ru: '胁芯懈 写谢 卸邪泻懈', ar: '禺囟丕乇 ' },
            '驻 拽驻': { en: 'Frozen Peas', ru: '邪屑芯芯卸械薪薪泄 谐芯芯械泻', ar: '亘丕夭丕亍 噩丿丞' },
            '转专住 拽驻': { en: 'Frozen Corn', ru: '邪屑芯芯卸械薪薪邪 泻泻蟹邪', ar: '匕乇丞 噩丿丞' },
            '砖注注转 专拽 拽驻': { en: 'Frozen Green Beans', ru: '邪屑芯芯卸械薪薪邪 泻芯胁邪 邪芯谢', ar: '丕氐丕 禺囟乇丕亍 噩丿丞' },
            '专拽 拽驻': { en: 'Frozen Broccoli', ru: '邪屑芯芯卸械薪薪邪 斜芯泻泻芯谢懈', ar: '亘乇 噩丿' },
            '转专 拽驻': { en: 'Frozen Spinach', ru: '邪屑芯芯卸械薪薪泄 锌懈薪邪', ar: '爻亘丕禺 噩丿丞' },
            '砖爪 拽驻': { en: 'Frozen Schnitzel', ru: '邪屑芯芯卸械薪薪泄 薪懈械谢', ar: '卮鬲爻 噩丿' },
            '住 拽驻': { en: 'Frozen Nuggets', ru: '邪屑芯芯卸械薪薪械 薪邪谐谐械', ar: '丕噩鬲爻 噩丿丞' },
            '拽爪爪转 拽驻转': { en: 'Frozen Meatballs', ru: '邪屑芯芯卸械薪薪械 泻芯谢械', ar: '鬲丞 噩丿丞' },
            '驻爪 砖驻转转': { en: 'Family Size Pizza', ru: '小械屑械泄薪邪 锌懈邪', ar: '亘鬲夭丕 毓丕卅丞' },
            ' 拽驻': { en: 'Frozen Lasagna', ru: '邪屑芯芯卸械薪薪邪 谢邪蟹邪薪', ar: '丕夭丕丕 噩丿丞' },
            '爪拽 注': { en: 'Puff Pastry', ru: '小谢芯薪芯械 械芯', ar: '毓噩丞 乇' },
            '爪拽 驻': { en: 'Phyllo Dough', ru: '孝械芯 懈谢芯', ar: '毓噩丞 ' },
            '爪拽 驻爪': { en: 'Pizza Dough', ru: '孝械芯 写谢 锌懈', ar: '毓噩丞 亘鬲夭丕' },
            '爪拽 驻': { en: 'Pastry Dough', ru: '孝械芯 写谢 胁锌械泻懈', ar: '毓噩丞 毓噩丕鬲' },
            '爪拽 \'': { en: 'Jachnun Dough', ru: '孝械芯 写谢 写卸邪薪薪邪', ar: '毓噩丞 噩丨' },
            '爪拽 ': { en: 'Malawach Dough', ru: '孝械芯 写谢 屑邪谢邪胁邪邪', ar: '毓噩丞 丨' },
            '爪拽 住住拽': { en: 'Sambusak Dough', ru: '孝械芯 写谢 邪屑斜邪泻邪', ar: '毓噩丞 爻亘爻' },
            '爪拽 专拽住': { en: 'Bourekas Dough', ru: '孝械芯 写谢 斜芯械泻邪邪', ar: '毓噩丞 亘乇丕爻' },
            '爪\'住': { en: 'Blintzes', ru: '谢懈薪懈泻懈', ar: '亘鬲夭爻' },
            '拽专驻': { en: 'Crepes', ru: '谢懈薪', ar: '乇亘' },
            '驻 拽驻': { en: 'Frozen Waffle', ru: '邪屑芯芯卸械薪薪邪 胁邪谢', ar: '丕 噩丿' },
            '\' 驻 ': { en: 'Ready Baked Jachnun', ru: '芯芯胁泄 写卸邪薪薪', ar: '噩丨 噩丕夭 禺亘夭' },
            // Health -  
            '专 ': { en: 'Protein Yogurt', ru: '芯械懈薪芯胁泄 泄芯谐', ar: '夭亘丕丿 亘乇鬲' },
            '砖拽 ': { en: 'Protein Drink', ru: '芯械懈薪芯胁泄 薪邪锌懈芯泻', ar: '卮乇亘 亘乇鬲' },
            '砖拽 ': { en: 'Protein Shake', ru: '芯械懈薪芯胁泄 泻芯泻械泄谢', ar: '卮 亘乇鬲' },
            '拽转 ': { en: 'Protein Powder', ru: '芯械懈薪芯胁泄 锌芯芯芯泻', ar: '亘丿乇丞 亘乇鬲' },
            '驻专 专': { en: 'Protein Bar', ru: '芯械懈薪芯胁泄 斜邪芯薪懈泻', ar: '丨 亘乇鬲' },
            '祝 ': { en: 'Protein Snack', ru: '芯械懈薪芯胁泄 薪泻', ar: '爻丕 亘乇鬲' },
            '祝 专': { en: 'Energy Bar', ru: '协薪械谐械懈械泻懈泄 斜邪芯薪懈泻', ar: '丨 胤丕丞' },
            '驻转 ': { en: 'Whole Wheat Pita', ru: '笑械谢薪芯蟹械薪芯胁邪 锌懈邪', ar: '亘鬲丕 丨 丕' },
            '拽专拽专 ': { en: 'Grain Crackers', ru: '械薪芯胁械 泻械泻械', ar: '乇卮丕鬲 丨亘亘' },
            '拽专拽专 专': { en: 'Rice Crackers', ru: '懈芯胁械 泻械泻械', ar: '乇卮丕鬲 兀乇夭' },
            ' ': { en: 'Tuna in Water', ru: '孝薪械 胁 胁芯写械', ar: '鬲丞 亘丕丕亍' },
            ' 注祝 注砖': { en: 'Smoked Chicken Breast', ru: '芯锌薪邪 泻懈薪邪 谐写泻邪', ar: '氐丿乇 丿噩丕噩 丿禺' },
            '专 专转': { en: 'Health Granola', ru: '写芯芯胁邪 谐邪薪芯谢邪', ar: '噩乇丕丕 氐丨丞' },
            '专注 爪\'': { en: 'Chia Seeds', ru: '小械屑械薪邪 懈邪', ar: '亘匕乇 丕卮丕' },
            '专注 驻砖转': { en: 'Flax Seeds', ru: '小械屑械薪邪 谢薪邪', ar: '亘匕乇 丕鬲丕' },
            ' 注': { en: 'Natural Nuts', ru: '邪邪谢薪械 芯械懈', ar: '爻乇丕鬲 胤亘毓丞' },
            '砖拽 注': { en: 'Natural Almonds', ru: '邪邪谢薪泄 屑懈薪写邪谢', ar: '夭 胤亘毓' },
            '驻专转 砖  住专': { en: 'Sugar Free Dried Fruits', ru: '小芯泻 斜械蟹 邪邪邪', ar: '丕 噩丞 亘丿 爻乇' },
            '\' 专': { en: 'Goji Berries', ru: '携谐芯写 谐芯写卸懈', ar: '鬲鬲 睾噩' },
            '住驻专': { en: 'Spirulina', ru: '小锌懈谢懈薪邪', ar: '爻亘乇丕' },
            '': { en: 'Vitamins', ru: '懈邪屑懈薪', ar: '鬲丕丕鬲' },
            ' 3': { en: 'Omega 3', ru: '屑械谐邪 3', ar: '兀睾丕 3' },
            '驻专拽': { en: 'Probiotics', ru: '芯斜懈芯懈泻懈', ar: '亘乇亘鬲' },
            // Desserts - 注 
            '拽 专': { en: 'Oreo Milky', ru: '懈谢泻懈 械芯', ar: ' 兀乇' },
            ' 砖拽': { en: 'Chocolate Danone', ru: '邪薪芯薪 芯泻芯谢邪写薪泄', ar: '丿丕 卮丕鬲丞' },
            '驻': { en: 'Yoplait', ru: '芯锌谢', ar: '亘' },
            '': { en: 'Daniella', ru: '邪薪懈谢邪', ar: '丿丕丕' },
            '注 ': { en: 'Vanilla Dessert', ru: '邪薪懈谢薪泄 写械械', ar: '丨 丕丕' },
            '注 砖拽': { en: 'Chocolate Dessert', ru: '楔芯泻芯谢邪写薪泄 写械械', ar: '丨 卮丕鬲丞' },
            '注 拽专': { en: 'Caramel Dessert', ru: '邪邪屑械谢薪泄 写械械', ar: '丨 乇丕' },
            '注 住拽': { en: 'Biscuit Dessert', ru: '械械  锌械械薪械屑', ar: '丨 亘爻鬲' },
            '注 住': { en: 'Lotus Dessert', ru: '械械 芯芯', ar: '丨 鬲爻' },
            '砖拽 转': { en: 'Tnuva Chocolate Milk', ru: '楔芯泻芯谢邪写薪芯械 屑芯谢芯泻芯 孝薪胁邪', ar: '卮 鬲丕' },
            '注 专': { en: 'Yogurt Dessert', ru: '芯谐芯胁泄 写械械', ar: '丨 夭亘丕丿' },
            '注 转转': { en: 'Strawberry Dessert', ru: '谢斜薪懈薪泄 写械械', ar: '丨 乇丕丞' },
            '注 ': { en: 'Banana Dessert', ru: '邪薪邪薪芯胁泄 写械械', ar: '丨 夭' },
            '住 ': { en: 'Vanilla Mousse', ru: '邪薪懈谢薪泄 屑', ar: '爻 丕丕' },
            '驻专 ': { en: 'Pri Gad', ru: '懈 邪写', ar: '亘乇 噩丕丿' },
            ' 专': { en: 'Dan Brown', ru: '邪薪 邪薪', ar: '丿丕 亘乇丕' },
            '拽专 专': { en: 'Cr猫me Br没l茅e', ru: '械屑-斜谢械', ar: '乇 亘乇' },
            '驻拽': { en: 'Panna Cotta', ru: '邪薪薪邪-泻芯邪', ar: '亘丕丕 鬲丕' },
            '住专': { en: 'Saharon', ru: '小邪邪芯薪', ar: '爻乇' },
            '': { en: 'Go', ru: '芯', ar: '噩' },
            '': { en: 'Monte', ru: '芯薪械', ar: '鬲' },
            '拽专 拽': { en: 'Kinder Milk', ru: '懈薪写械 懈谢泻', ar: '丿乇 ' },
            // Candles - 专转 (additional)
            '专转  爪注': { en: 'Colorful Hanukkah Candles', ru: '笑胁械薪械 邪薪泻邪谢薪械 胁械懈', ar: '卮毓 丨丕丕 丞' },
            '专 砖 24 砖注转': { en: 'Memorial Candle 24 Hours', ru: '芯屑懈薪邪谢薪邪 胁械邪 24 邪邪', ar: '卮毓丞 匕乇 24 爻丕毓丞' },
            '专 砖 48 砖注转': { en: 'Memorial Candle 48 Hours', ru: '芯屑懈薪邪谢薪邪 胁械邪 48 邪芯胁', ar: '卮毓丞 匕乇 48 爻丕毓丞' },
            '专 砖 7 ': { en: 'Memorial Candle 7 Days', ru: '芯屑懈薪邪谢薪邪 胁械邪 7 写薪械泄', ar: '卮毓丞 匕乇 7 兀丕' },
            '专 ': { en: 'Havdalah Candle', ru: '小胁械邪 啸邪胁写邪谢', ar: '卮毓丞 丕丿丕丕' },
            '专转  转': { en: 'Birthday Candles', ru: '小胁械懈 薪邪 写械薪 芯卸写械薪懈', ar: '卮毓 毓丿 丕丿' },
            '专转 专': { en: 'Scented Candles', ru: '芯屑邪懈械泻懈械 胁械懈', ar: '卮毓 毓胤乇丞' },
            '专转 拽专': { en: 'Decorative Candles', ru: '械泻芯邪懈胁薪械 胁械懈', ar: '卮毓 丿乇丞' },
            '驻转转': { en: 'Wicks', ru: '肖懈懈谢懈', ar: '鬲丕卅' },
            '爪转': { en: 'Lighters', ru: '邪卸懈谐邪谢泻懈', ar: '丕毓丕鬲' },
            // Baking - 驻 (additional)
            '拽 转驻': { en: 'Self Rising Flour', ru: '小邪屑芯锌芯写薪懈屑邪邪 屑泻邪', ar: '胤丨 匕丕鬲 丕乇毓' },
            '拽 ': { en: 'Challah Flour', ru: '泻邪 写谢 邪谢', ar: '胤丨 丨丞' },
            '拽 ': { en: 'Bread Flour', ru: '啸谢械斜薪邪 屑泻邪', ar: '胤丨 禺亘夭' },
            '拽 驻爪': { en: 'Pizza Flour', ru: '泻邪 写谢 锌懈', ar: '胤丨 亘鬲夭丕' },
            '拽 驻拽爪\'': { en: 'Focaccia Flour', ru: '泻邪 写谢 芯泻邪懈', ar: '胤丨 丕鬲卮丕' },
            '拽  驻': { en: 'Sifted White Flour', ru: '芯械薪薪邪 斜械谢邪 屑泻邪', ar: '胤丨 兀亘囟 禺' },
            '拽专驻专': { en: 'Cornflour', ru: '泻蟹薪泄 泻邪屑邪谢', ar: '卮丕 丕匕乇丞' },
            '注': { en: 'Starch', ru: '邪屑邪谢', ar: '卮丕' },
            '注 转专住': { en: 'Corn Starch', ru: '泻蟹薪泄 泻邪屑邪谢', ar: '卮丕 匕乇丞' },
            '住专 专专': { en: 'Demerara Sugar', ru: '小邪邪 写械屑械邪邪', ar: '爻乇 丿乇丕乇丕' },
            '住专 ': { en: 'Vanilla Sugar', ru: '邪薪懈谢薪泄 邪邪', ar: '爻乇 丕丕' },
            '住专转': { en: 'Sweetener', ru: '芯写谢邪懈械谢', ar: '丨 氐丕毓' },
            '住': { en: 'Stevia', ru: '小械胁懈', ar: '爻鬲丕' },
            '砖专 砖': { en: 'Dry Yeast', ru: '小懈械 写芯卸卸懈', ar: '禺乇丞 噩丕丞' },
            '砖专 专': { en: 'Fresh Yeast', ru: '小胁械卸懈械 写芯卸卸懈', ar: '禺乇丞 胤丕夭噩丞' },
            '住 砖转': { en: 'Baking Soda', ru: '懈械胁邪 芯写邪', ar: '氐丿丕 丕禺亘夭' },
            '转爪转 ': { en: 'Vanilla Extract', ru: '邪薪懈谢薪泄 泻邪泻', ar: '禺丕氐丞 丕丕丕' },
            '拽转 ': { en: 'Vanilla Sticks', ru: '邪薪懈谢薪械 锌邪谢芯泻懈', ar: '兀毓丕丿 丕丕丕' },
            '砖拽 爪\'驻住 专专': { en: 'Dark Chocolate Chips', ru: '芯泻懈械 芯泻芯谢邪写薪械 泻邪锌谢懈', ar: '乇丕卅 卮丕鬲丞 丿丕丞' },
            '砖拽 爪\'驻住 ': { en: 'White Chocolate Chips', ru: '械谢械 芯泻芯谢邪写薪械 泻邪锌谢懈', ar: '乇丕卅 卮丕鬲丞 亘囟丕亍' },
            '砖拽 专专 驻': { en: 'Dark Baking Chocolate', ru: '芯泻懈泄 芯泻芯谢邪写 写谢 胁锌械泻懈', ar: '卮丕鬲丞 丿丕丞 禺亘夭' },
            '砖拽  驻': { en: 'Milk Baking Chocolate', ru: '芯谢芯薪泄 芯泻芯谢邪写 写谢 胁锌械泻懈', ar: '卮丕鬲丞 丨亘 禺亘夭' },
            '砖拽  驻': { en: 'White Baking Chocolate', ru: '械谢泄 芯泻芯谢邪写 写谢 胁锌械泻懈', ar: '卮丕鬲丞 亘囟丕亍 禺亘夭' },
            '拽转 拽拽': { en: 'Cocoa Powder', ru: '邪泻邪芯-锌芯芯芯泻', ar: '亘丿乇丞 丕丕' },
            '拽拽住 ': { en: 'Ground Coconut', ru: '芯谢芯泄 泻芯泻芯', ar: '噩夭 丿 胤丨' },
            '砖拽 ': { en: 'Ground Almonds', ru: '芯谢芯泄 屑懈薪写邪谢', ar: '夭 胤丨' },
            '砖拽 驻专住': { en: 'Sliced Almonds', ru: '邪械蟹邪薪薪泄 屑懈薪写邪谢', ar: '夭 卮乇丕卅丨' },
            '砖拽 砖': { en: 'Whole Almonds', ru: '笑械谢泄 屑懈薪写邪谢', ar: '夭 丕' },
            '  ': { en: 'Ground Walnuts', ru: '芯谢芯械 谐械泻懈械 芯械懈', ar: '噩夭 胤丨' },
            '驻拽 ': { en: 'Ground Pecans', ru: '芯谢芯泄 锌械泻邪薪', ar: '亘丕 胤丨' },
            '拽砖': { en: 'Cashews', ru: '械', ar: '丕噩' },
            '驻住拽': { en: 'Pistachios', ru: '肖懈邪泻懈', ar: '爻鬲' },
            ' ': { en: 'Hazelnuts', ru: '肖薪写泻', ar: '亘丿' },
            '转专 \'': { en: 'Medjool Dates', ru: '肖懈薪懈泻懈 械写卸谢', ar: '鬲乇 噩' },
            '驻专': { en: 'Poppy Seeds', ru: '邪泻', ar: '亘匕乇 丕禺卮禺丕卮' },
            '专爪驻': { en: 'Marzipan', ru: '邪懈锌邪薪', ar: '乇夭亘丕' },
            '驻': { en: 'Fondant', ru: '芯屑邪写泻邪', ar: '丿丕' },
            '爪拽 住专': { en: 'Sugar Dough', ru: '小邪邪薪芯械 械芯', ar: '毓噩丞 爻乇' },
            '爪注 ': { en: 'Food Coloring', ru: '懈械胁械 泻邪懈械谢懈', ar: '兀丕 胤毓丕' },
            '住专转 拽砖': { en: 'Decorating Sprinkles', ru: '芯锌泻邪 写谢 泻邪械薪懈', ar: '丨亘亘丕鬲 鬲夭' },
            '专 驻': { en: 'Baking Glitter', ru: '谢泻懈 写谢 胁锌械泻懈', ar: '噩鬲乇 禺亘夭' },
            '驻专专 ': { en: 'Breadcrumbs', ru: '邪薪懈芯胁芯薪械 邪懈', ar: '鬲丕鬲 丕禺亘夭' },
            '驻专专 住拽': { en: 'Biscuit Crumbs', ru: '懈泻胁懈薪邪 泻芯泻邪', ar: '鬲丕鬲 丕亘爻鬲' },
            '驻 砖拽': { en: 'Chocolate Pudding', ru: '楔芯泻芯谢邪写薪泄 锌写懈薪谐', ar: '亘丿睾 卮丕鬲丞' },
            '驻 ': { en: 'Vanilla Pudding', ru: '邪薪懈谢薪泄 锌写懈薪谐', ar: '亘丿睾 丕丕' },
            // Canned - 砖专
            '专 住': { en: 'Jasmine Rice', ru: '邪屑懈薪芯胁泄 懈', ar: '兀乇夭 丕爻' },
            '专 ': { en: 'Brown Rice', ru: '芯懈薪械胁泄 懈', ar: '兀乇夭 亘' },
            '专 住砖': { en: 'Sushi Rice', ru: '懈 写谢 懈', ar: '兀乇夭 爻卮' },
            '专 驻专住': { en: 'Persian Rice', ru: '械懈写泻懈泄 懈', ar: '兀乇夭 丕乇爻' },
            '驻住 驻': { en: 'Penne Pasta', ru: '械薪薪械', ar: '毓乇丞 亘' },
            '驻住 驻专驻': { en: 'Farfalle Pasta', ru: '肖邪邪谢谢械', ar: '毓乇丞 乇丕' },
            '驻住 驻': { en: 'Fusilli Pasta', ru: '肖蟹懈谢谢懈', ar: '毓乇丞 夭' },
            '驻住 ': { en: 'Lasagna Sheets', ru: '懈 谢邪蟹邪薪懈', ar: '卮乇丕卅丨 丕夭丕丕' },
            '驻住 ': { en: 'Whole Wheat Pasta', ru: '笑械谢薪芯蟹械薪芯胁邪 锌邪邪', ar: '毓乇丞 丨 丕' },
            '拽住拽住 ': { en: 'Whole Wheat Couscous', ru: '笑械谢薪芯蟹械薪芯胁芯泄 泻泻', ar: '爻爻 丨 丕' },
            '拽住拽住 驻转转': { en: 'Israeli Couscous', ru: '懈懈屑', ar: '亘鬲鬲' },
            '拽转': { en: 'Legumes', ru: '芯斜芯胁械', ar: '亘丕鬲' },
            '专 驻住': { en: 'Pasta Sauce', ru: '小芯 写谢 锌邪', ar: '氐氐丞 亘丕爻鬲丕' },
            '专住拽 注转': { en: 'Tomato Paste', ru: '孝芯屑邪薪邪 锌邪邪', ar: '毓噩 胤丕胤' },
            ' 砖': { en: 'Tuna in Oil', ru: '孝薪械 胁 屑邪谢械', ar: '鬲丞 亘丕夭鬲' },
            ' 专': { en: 'Tuna in Sauce', ru: '孝薪械 胁 芯械', ar: '鬲丞 亘丕氐氐丞' },
            '转专住 转拽': { en: 'Sweet Corn', ru: '小谢邪写泻邪 泻泻蟹邪', ar: '匕乇丞 丨丞' },
            '专专 转专住': { en: 'Corn Kernels', ru: '薪邪 泻泻蟹', ar: '丨亘亘 匕乇丞' },
            '砖 转 转转': { en: 'Extra Virgin Olive Oil', ru: '谢懈胁泻芯胁芯械 屑邪谢芯 泻邪 胁懈写卸懈薪', ar: '夭鬲 夭鬲 亘乇' },
            '砖 拽': { en: 'Canola Oil', ru: '邪锌芯胁芯械 屑邪谢芯', ar: '夭鬲 丕丕' },
            '砖 转': { en: 'Sunflower Oil', ru: '芯写芯谢薪械薪芯械 屑邪谢芯', ar: '夭鬲 毓亘丕丿 丕卮爻' },
            '砖 转专住': { en: 'Corn Oil', ru: '泻蟹薪芯械 屑邪谢芯', ar: '夭鬲 匕乇丞' },
            '砖 砖砖': { en: 'Sesame Oil', ru: '薪卸薪芯械 屑邪谢芯', ar: '夭鬲 爻爻' },
            '砖 ': { en: 'Nut Oil', ru: '械芯胁芯械 屑邪谢芯', ar: '夭鬲 爻乇丕鬲' },
            '抓 住': { en: 'Balsamic Vinegar', ru: '邪谢蟹邪屑懈械泻懈泄 泻', ar: '禺 亘爻' },
            '抓 ': { en: 'Wine Vinegar', ru: '懈薪薪泄 泻', ar: '禺 亘匕' },
            '抓 转驻': { en: 'Apple Cider Vinegar', ru: '携斜谢芯薪泄 泻', ar: '禺 鬲丕丨' },
            '抓 ': { en: 'White Vinegar', ru: '械谢泄 泻', ar: '禺 兀亘囟' },
            '抓 ': { en: 'Lemon Juice', ru: '懈屑芯薪薪泄 芯泻', ar: '毓氐乇 ' },
            '住 ': { en: 'Ground Chickpeas', ru: '芯谢芯泄 薪', ar: '丨氐 胤丨' },
            '转 砖专': { en: 'Black Olives', ru: '效薪械 芯谢懈胁泻懈', ar: '夭鬲 兀爻丿' },
            '转 专拽': { en: 'Green Olives', ru: '械谢薪械 芯谢懈胁泻懈', ar: '夭鬲 兀禺囟乇' },
            '转 拽': { en: 'Kalamata Olives', ru: '谢懈胁泻懈 邪谢邪屑邪邪', ar: '夭鬲 丕丕丕鬲丕' },
            '驻驻 抓': { en: 'Pickled Cucumber', ru: '邪懈薪芯胁邪薪薪泄 芯谐械', ar: '禺丕乇 禺' },
            '驻驻专拽 拽': { en: 'Roasted Peppers', ru: '械薪泄 锌械械', ar: ' 卮' },
            '': { en: 'Peanuts', ru: '邪懈', ar: ' 爻丿丕' },
            '': { en: 'Wheat', ru: '械薪懈邪', ar: '丨' },
            '专': { en: 'Bulgur', ru: '谢谐', ar: '亘乇睾' },
            '驻专拽': { en: 'Freekeh', ru: '肖懈泻械', ar: '乇丞' },
            '住': { en: 'Noodles', ru: '邪锌邪', ar: '丿夭' },
            '专转': { en: 'Noodles', ru: '邪锌邪', ar: '卮毓乇丞' },
            '驻': { en: 'Fava Beans', ru: '芯斜', ar: '' },
            '专专 住': { en: 'Chickpeas', ru: '', ar: '丨氐 丨亘亘' },
            '注砖 转转': { en: 'Red Lentils', ru: '邪薪邪 械械胁懈邪', ar: '毓丿爻 兀丨乇' },
            '注砖 专拽转': { en: 'Green Lentils', ru: '械谢薪邪 械械胁懈邪', ar: '毓丿爻 兀禺囟乇' },
            '砖注注转 ': { en: 'White Beans', ru: '械谢邪 邪芯谢', ar: '丕氐丕 亘囟丕亍' },
            '砖注注转 ': { en: 'Red Beans', ru: '邪薪邪 邪芯谢', ar: '丕氐丕 丨乇丕亍' },
            '砖注注转 砖专': { en: 'Black Beans', ru: '效薪邪 邪芯谢', ar: '丕氐丕 爻丿丕亍' },
            '驻': { en: 'Peas', ru: '芯芯械泻', ar: '亘丕夭丕亍' },
            '住': { en: 'Soybeans', ru: '小芯械胁械 斜芯斜', ar: ' 丕氐丕' },
            '砖': { en: 'Mung Beans', ru: '邪', ar: '丕卮' },
            // Spices - 转
            ' ': { en: 'Sea Salt', ru: '芯泻邪 芯谢', ar: '丨 亘丨乇' },
            ' 砖': { en: 'Table Salt', ru: '小芯谢芯胁邪 芯谢', ar: '丨 胤毓丕' },
            ' 住': { en: 'Coarse Salt', ru: '锌薪邪 芯谢', ar: '丨 禺卮' },
            '驻驻 专住': { en: 'Coarse Pepper', ru: '锌薪泄 锌械械', ar: ' 禺卮' },
            '驻驻专拽 转拽': { en: 'Sweet Paprika', ru: '小谢邪写泻邪 锌邪锌懈泻邪', ar: '亘丕亘乇丕 丨丞' },
            '驻驻专拽 专驻': { en: 'Hot Paprika', ru: '邪 锌邪锌懈泻邪', ar: '亘丕亘乇丕 丨丕乇丞' },
            '驻驻专拽 注砖转': { en: 'Smoked Paprika', ru: '芯锌薪邪 锌邪锌懈泻邪', ar: '亘丕亘乇丕 丿禺丞' },
            '拽 ': { en: 'Ground Cinnamon', ru: '芯谢芯邪 泻芯懈邪', ar: '乇丞 胤丨丞' },
            '拽转 拽': { en: 'Cinnamon Sticks', ru: '邪谢芯泻懈 泻芯懈', ar: '兀毓丕丿 乇丞' },
            '拽转 砖': { en: 'Garlic Powder', ru: '效械薪芯薪泄 锌芯芯芯泻', ar: '亘丿乇丞 孬' },
            '拽转 爪': { en: 'Onion Powder', ru: '泻芯胁泄 锌芯芯芯泻', ar: '亘丿乇丞 亘氐' },
            '专': { en: 'Oregano', ru: '械谐邪薪芯', ar: '兀乇噩丕' },
            '拽': { en: 'Basil', ru: '邪蟹懈谢懈泻', ar: '乇丨丕' },
            '住拽': { en: 'Sumac', ru: '小屑邪', ar: '爻丕' },
            '壮': { en: 'Hawaij', ru: '啸邪胁邪泄写卸', ar: '丨丕卅噩' },
            '转 注祝': { en: 'Chicken Seasoning', ru: '懈锌邪胁邪 写谢 泻懈', ar: '鬲丕亘 丿噩丕噩' },
            '转 ': { en: 'Fish Seasoning', ru: '懈锌邪胁邪 写谢 斜', ar: '鬲丕亘 爻' },
            '转 砖专': { en: 'Meat Seasoning', ru: '懈锌邪胁邪 写谢 屑邪', ar: '鬲丕亘 丨' },
            '转 专': { en: 'Grill Seasoning', ru: '懈锌邪胁邪 写谢 谐懈谢', ar: '鬲丕亘 卮' },
            '专 住': { en: 'Garam Masala', ru: '邪邪屑 屑邪邪谢邪', ar: '噩丕乇丕 丕爻丕丕' },
            '爪': { en: 'Chili', ru: '效懈谢懈', ar: ' 丨丕乇' },
            '拽': { en: 'Cayenne', ru: '邪泄械薪泻懈泄 锌械械', ar: '丕' },
            '': { en: 'Ginger', ru: '屑斜懈', ar: '夭噩亘' },
            ' 住拽': { en: 'Nutmeg', ru: '泻邪薪泄 芯械', ar: '噩夭丞 丕胤亘' },
            '爪驻专': { en: 'Cloves', ru: '胁芯蟹写懈泻邪', ar: '乇' },
            '住专 ': { en: 'Ground Coriander', ru: '芯谢芯泄 泻芯懈邪薪写', ar: '夭亘乇丞 胤丨丞' },
            '拽专': { en: 'Cardamom', ru: '邪写邪屑芯薪', ar: '' },
            '注 驻': { en: 'Bay Leaves', ru: '邪胁芯胁泄 谢懈', ar: '乇 丕睾丕乇' },
            '专专': { en: 'Rosemary', ru: '芯蟹屑邪懈薪', ar: '廿 丕噩亘' },
            '': { en: 'Thyme', ru: '孝懈屑薪', ar: '夭毓鬲乇' },
            '': { en: 'Cardamom', ru: '邪写邪屑芯薪', ar: '丕' },
            ' 住': { en: 'Star Anise', ru: '胁蟹写芯泻邪 邪薪懈邪', ar: '丕爻 噩' },
            '注专转': { en: 'Savory', ru: '效邪斜械', ar: '氐毓鬲乇 亘乇' },
            '专': { en: 'Sage', ru: '楔邪谢械泄', ar: '乇丞' },
            // Coffee & Tea - 拽驻 转
            '拽驻 \'拽住': { en: 'Jacobs Coffee', ru: '芯械 携泻芯斜', ar: '丞 噩丕亘爻' },
            '拽驻 砖专': { en: 'Black Coffee', ru: '效薪泄 泻芯械', ar: '丞 爻丿丕亍' },
            '拽驻 住驻专住': { en: 'Nespresso Coffee', ru: '芯械 械锌械芯', ar: '丞 爻亘乇爻' },
            '拽驻  拽驻': { en: 'Decaf Coffee', ru: '芯械 斜械蟹 泻芯械懈薪邪', ar: '丞 夭毓丞 丕丕' },
            '拽驻住转 住驻专住': { en: 'Nespresso Capsules', ru: '邪锌谢 械锌械芯', ar: '亘爻丕鬲 爻亘乇爻' },
            '拽驻住转 爪\'': { en: 'Dolce Gusto Capsules', ru: '邪锌谢 芯谢械 芯', ar: '亘爻丕鬲 丿鬲卮' },
            '拽驻住转 爪': { en: 'Lavazza Capsules', ru: '邪锌谢 邪胁邪邪', ar: '亘爻丕鬲 丕丕鬲夭丕' },
            '拽驻住转 住': { en: 'Tassimo Capsules', ru: '邪锌谢 孝邪懈屑芯', ar: '亘爻丕鬲 鬲丕爻' },
            '拽驻住转 专': { en: 'Landwer Capsules', ru: '邪锌谢 邪薪写胁械', ar: '亘爻丕鬲 丕丿乇' },
            '拽驻 拽 ': { en: 'Ground Roasted Coffee', ru: '芯谢芯泄 芯斜卸邪械薪薪泄 泻芯械', ar: '丞 丨氐丞 胤丨丞' },
            '转 专拽 住': { en: 'Jasmine Green Tea', ru: '械谢薪泄 邪泄  卸邪屑懈薪芯屑', ar: '卮丕 兀禺囟乇 亘丕丕爻' },
            '转 爪': { en: 'Herbal Tea', ru: '孝邪胁薪芯泄 邪泄', ar: '卮丕 兀毓卮丕亘' },
            '转 ': { en: 'Louisa Tea', ru: '效邪泄 懈蟹邪', ar: '卮丕 夭丕' },
            '转 驻': { en: 'Lipton Tea', ru: '效邪泄 懈锌芯薪', ar: '卮丕 亘鬲' },
            '转 住爪拽': { en: 'Wissotzky Tea', ru: '效邪泄 懈芯泻懈泄', ar: '卮丕 爻鬲爻' },
            '转 拽': { en: 'Chamomile Tea', ru: '芯屑邪泻芯胁泄 邪泄', ar: '卮丕 亘丕亘噩' },
            '转 专': { en: 'Sage Tea', ru: '效邪泄  邪谢械械屑', ar: '卮丕 乇丞' },
            '转 \'\'专': { en: 'Ginger Tea', ru: '屑斜懈薪泄 邪泄', ar: '卮丕 夭噩亘' },
            '转 ': { en: 'Lemon Tea', ru: '懈屑芯薪薪泄 邪泄', ar: '卮丕 ' },
            '转 专 专': { en: 'Earl Grey Tea', ru: '效邪泄 协谢 械泄', ar: '卮丕 廿乇 噩乇丕' },
            '转 ': { en: 'English Tea', ru: '薪谐谢懈泄泻懈泄 邪泄', ar: '卮丕 廿噩夭' },
            ' 专': { en: 'Condensed Milk', ru: '小谐薪薪芯械 屑芯谢芯泻芯', ar: '丨亘 乇夭' },
            '住 拽驻': { en: 'Iced Coffee', ru: '啸芯谢芯写薪泄 泻芯械', ar: '丞 孬噩丞' },
            '拽拽 砖拽': { en: 'Chocolate Cocoa', ru: '楔芯泻芯谢邪写薪芯械 泻邪泻邪芯', ar: '丕丕 卮丕鬲丞' },
            // Drinks - 砖拽转
            ' 注': { en: 'Flavored Water', ru: '芯屑邪懈蟹懈芯胁邪薪薪邪 胁芯写邪', ar: '丕 亘丕鬲' },
            ' 注': { en: 'Eden Water', ru: '芯写邪 协写械薪', ar: '丕 毓丿' },
            '注转': { en: 'Neviot Water', ru: '芯写邪 械胁懈芯', ar: '丕 毓鬲' },
            '拽 1.5 专': { en: 'Cola 1.5L', ru: '芯谢邪 1.5谢', ar: '丕 1.5 鬲乇' },
            '拽 驻转': { en: 'Cola Can', ru: '芯谢邪 胁 斜邪薪泻械', ar: '丕 毓亘丞' },
            '砖砖转 拽': { en: 'Cola 6-Pack', ru: '校锌邪泻芯胁泻邪 泻芯谢 6 ', ar: '毓亘丞 丕 6' },
            '拽 专': { en: 'Cola Zero', ru: '芯谢邪 蟹械芯', ar: '丕 夭乇' },
            '拽 ': { en: 'Diet Cola', ru: '懈械懈械泻邪 泻芯谢邪', ar: '丕 丿丕鬲' },
            '驻驻住': { en: 'Pepsi', ru: '械锌懈', ar: '亘亘爻' },
            '驻驻住 拽住': { en: 'Pepsi Max', ru: '械锌懈 邪泻', ar: '亘亘爻 丕爻' },
            '住驻专 驻转': { en: 'Sprite Can', ru: '小锌邪泄 胁 斜邪薪泻械', ar: '爻亘乇丕鬲 毓亘丞' },
            '住驻专 专': { en: 'Sprite Zero', ru: '小锌邪泄 蟹械芯', ar: '爻亘乇丕鬲 夭乇' },
            '驻': { en: 'Fanta', ru: '肖邪薪邪', ar: '丕鬲丕' },
            '住': { en: 'Soda', ru: '小芯写邪', ar: '氐丿丕' },
            '拽': { en: 'Tonic', ru: '孝芯薪懈泻', ar: '鬲' },
            '抓 转驻 住': { en: 'Fresh Squeezed Orange Juice', ru: '小胁械卸械胁卸邪泄 邪锌械谢懈薪芯胁泄 芯泻', ar: '毓氐乇 亘乇鬲丕 胤丕夭噩' },
            '抓 注': { en: 'Grape Juice', ru: '懈薪芯谐邪写薪泄 芯泻', ar: '毓氐乇 毓亘' },
            '抓 专': { en: 'Carrot Juice', ru: '芯泻芯胁薪泄 芯泻', ar: '毓氐乇 噩夭乇' },
            '抓 专': { en: 'Pomegranate Juice', ru: '邪薪邪芯胁泄 芯泻', ar: '毓氐乇 乇丕' },
            '': { en: 'Lemonade', ru: '懈屑芯薪邪写', ar: '丕囟丞' },
            '注注': { en: 'Lemon Mint', ru: '懈屑芯薪  屑芯泄', ar: ' 毓丕毓' },
            '专 ': { en: 'Red Bull', ru: '械写 谢谢', ar: '乇丿 亘' },
            '住专': { en: 'Monster', ru: '芯薪械', ar: '爻鬲乇' },
            '砖拽 住驻专': { en: 'Sports Drink', ru: '小锌芯懈胁薪泄 薪邪锌懈芯泻', ar: '卮乇亘 乇丕囟' },
            '砖拽 专': { en: 'Energy Drink', ru: '协薪械谐械懈械泻懈泄 薪邪锌懈芯泻', ar: '卮乇亘 胤丕丞' },
            ' 拽拽住': { en: 'Coconut Water', ru: '芯泻芯芯胁邪 胁芯写邪', ar: '丕亍 噩夭 丕丿' },
            // Wine & Alcohol -  
            ' ': { en: 'Red Wine', ru: '邪薪芯械 胁懈薪芯', ar: '亘匕 兀丨乇' },
            ' ': { en: 'White Wine', ru: '械谢芯械 胁懈薪芯', ar: '亘匕 兀亘囟' },
            ' 专': { en: 'Ros茅 Wine', ru: '芯蟹芯胁芯械 胁懈薪芯', ar: '亘匕 乇夭' },
            ' 注注': { en: 'Sparkling Wine', ru: '谐懈芯械 胁懈薪芯', ar: '亘匕 丕乇' },
            ' 砖': { en: 'Dry Wine', ru: '小芯械 胁懈薪芯', ar: '亘匕 噩丕' },
            ' 转拽': { en: 'Sweet Wine', ru: '小谢邪写泻芯械 胁懈薪芯', ar: '亘匕 丨' },
            ' 拽砖': { en: 'Kiddush Wine', ru: '懈薪芯 写谢 泻懈写邪', ar: '亘匕 丿卮' },
            '砖驻': { en: 'Champagne', ru: '楔邪屑锌邪薪泻芯械', ar: '卮亘丕丕' },
            '驻专住拽': { en: 'Prosecco', ru: '芯械泻泻芯', ar: '亘乇爻' },
            '专': { en: 'Beer', ru: '懈胁芯', ar: '亘乇丞' },
            '专 住专': { en: 'Goldstar Beer', ru: '懈胁芯 芯谢写邪', ar: '亘乇丞 噩丿爻鬲丕乇' },
            '专 ': { en: 'Maccabi Beer', ru: '懈胁芯 邪泻泻邪斜懈', ar: '亘乇丞 丕亘' },
            '专 拽': { en: 'Heineken Beer', ru: '懈胁芯 啸邪泄薪械泻械薪', ar: '亘乇丞 丕' },
            '专 拽专': { en: 'Corona Beer', ru: '懈胁芯 芯芯薪邪', ar: '亘乇丞 乇丕' },
            '专  ': { en: 'Non-Alcoholic Beer', ru: '械蟹邪谢泻芯谐芯谢薪芯械 锌懈胁芯', ar: '亘乇丞 亘丿 丨' },
            '住专': { en: 'Cider', ru: '小懈写', ar: '爻丕丿乇' },
            '注专拽': { en: 'Arak', ru: '邪泻', ar: '毓乇' },
            '拽': { en: 'Vodka', ru: '芯写泻邪', ar: '丿丕' },
            '住拽': { en: 'Whisky', ru: '懈泻懈', ar: '爻' },
            '专': { en: 'Rum', ru: '芯屑', ar: '乇' },
            '\'': { en: 'Gin', ru: '卸懈薪', ar: '噩' },
            '拽': { en: 'Tequila', ru: '孝械泻懈谢邪', ar: '鬲丕' },
            '拽拽': { en: 'Cognac', ru: '芯薪泻', ar: '丕' },
            '拽专': { en: 'Liqueur', ru: '懈泻', ar: '乇' },
            '住': { en: 'Baileys', ru: '械泄谢懈', ar: '亘夭' },
            // Cleaning - 拽
            '专  转转 砖转': { en: '3-Ply Toilet Paper', ru: '孝谢芯泄薪邪 邪谢械薪邪 斜屑邪谐邪', ar: '乇 鬲丕鬲 孬丕孬 胤亘丕鬲' },
            '转 专': { en: 'Tissues', ru: '屑邪卸薪械 邪谢械泻懈', ar: '丕丿 乇丞' },
            '住  驻专': { en: 'Fairy Dish Soap', ru: '小械写胁芯 写谢 锌芯写 肖械泄懈', ar: '氐丕亘 兀胤亘丕 乇' },
            ' ': { en: 'Dish Liquid', ru: '懈写泻芯 写谢 锌芯写', ar: '爻丕卅 兀胤亘丕' },
            '拽转 住 专': { en: 'Ariel Laundry Detergent', ru: '小懈邪谢薪泄 锌芯芯芯泻 懈谢', ar: '爻丨 睾爻 兀乇丕' },
            '\' 住': { en: 'Laundry Gel', ru: '械谢 写谢 懈泻懈', ar: '噩 睾爻' },
            '拽驻住转 住': { en: 'Laundry Pods', ru: '邪锌谢 写谢 懈泻懈', ar: '亘爻丕鬲 睾爻' },
            '砖 住': { en: 'Laundry Scent', ru: '芯屑邪懈蟹邪芯 写谢 斜械谢', ar: '毓胤乇 睾爻' },
            '拽 专爪驻转': { en: 'Floor Cleaner', ru: '小械写胁芯 写谢 屑 锌芯谢芯胁', ar: '馗 兀乇囟丕鬲' },
            '拽 转': { en: 'Window Cleaner', ru: '小械写胁芯 写谢 芯泻芯薪', ar: '馗 丕匕' },
            '拽 ': { en: 'Bathroom Cleaner', ru: '小械写胁芯 写谢 胁邪薪薪芯泄', ar: '馗 丨丕' },
            '拽 砖专转': { en: 'Toilet Cleaner', ru: '小械写胁芯 写谢 薪懈邪蟹邪', ar: '馗 乇丨丕囟' },
            '拽 转专': { en: 'Oven Cleaner', ru: '小械写胁芯 写谢 写芯胁泻懈', ar: '馗 乇' },
            '拽转 拽': { en: 'Cleaning Powder', ru: '效懈懈泄 锌芯芯芯泻', ar: '爻丨 鬲馗' },
            '住祝': { en: 'Cif', ru: '小懈', ar: '爻' },
            '专 住拽': { en: 'Mr. Muscle', ru: '懈械 泻谢', ar: '爻鬲乇 爻' },
            '住驻': { en: 'Sponges', ru: '斜泻懈', ar: '廿爻噩' },
            '住驻 驻': { en: 'Steel Wool', ru: '械邪谢谢懈械泻邪 屑芯邪谢泻邪', ar: '丞 毓丿丞' },
            '砖拽转 砖驻 转': { en: 'Large Garbage Bags', ru: '芯谢懈械 屑芯薪械 锌邪泻械', ar: '兀丕爻 丕丞 亘乇丞' },
            '砖拽转 驻拽': { en: 'Ziplock Bags', ru: '邪泻械  蟹邪卸泻芯泄', ar: '兀丕爻 夭亘' },
            '砖拽转 专': { en: 'Sandwich Bags', ru: '邪泻械 写谢 斜械斜芯写芯胁', ar: '兀丕爻 爻丕丿鬲卮' },
            '专 驻': { en: 'Baking Paper', ru: '屑邪谐邪 写谢 胁锌械泻懈', ar: '乇 禺亘夭' },
            '转 ': { en: 'Dishwasher Tablets', ru: '孝邪斜谢械泻懈 写谢 锌芯写芯屑芯械薪芯泄 屑邪懈薪', ar: '兀乇丕氐 睾爻丕丞 氐丨' },
            ' ': { en: 'Dishwasher Salt', ru: '小芯谢 写谢 锌芯写芯屑芯械薪芯泄 屑邪懈薪', ar: '丨 睾爻丕丞 氐丨' },
            '专 专': { en: 'Air Freshener', ru: '胁械卸懈械谢 胁芯蟹写邪', ar: '毓胤乇 噩' },
            // Hygiene - 
            '住  ': { en: 'Liquid Hand Soap', ru: '懈写泻芯械 屑谢芯 写谢 泻', ar: '氐丕亘 丿 爻丕卅' },
            ' ': { en: 'Wet Wipes', ru: '谢邪卸薪械 邪谢械泻懈', ar: '丕丿 亘丞' },
            '\' ': { en: 'Hand Sanitizer', ru: '薪懈械锌懈泻 写谢 泻', ar: '噩 丨' },
            '专砖转 砖 砖转': { en: 'Electric Toothbrush', ru: '协谢械泻懈械泻邪 蟹斜薪邪 泻邪', ar: '乇卮丕丞 兀爻丕 乇亘丕卅丞' },
            '砖转 砖 住住': { en: 'Sensodyne Toothpaste', ru: '斜薪邪 锌邪邪 小械薪芯写邪泄薪', ar: '毓噩 兀爻丕 爻爻丿丕' },
            ' 驻': { en: 'Mouthwash', ru: '锌芯谢邪泻懈胁邪械谢 写谢 邪', ar: '睾爻 ' },
            ' ': { en: 'Dental Floss', ru: '斜薪邪 薪懈', ar: '禺胤 兀爻丕' },
            '拽住 砖': { en: 'Toothpicks', ru: '斜芯懈泻懈', ar: '兀毓丕丿 兀爻丕' },
            '砖驻   砖专住': { en: 'Head & Shoulders Shampoo', ru: '楔邪屑锌薪 啸写 薪写 楔芯谢写械', ar: '卮丕亘 丿 丌丿 卮丿乇夭' },
            '砖驻  拽砖拽砖': { en: 'Anti-Dandruff Shampoo', ru: '楔邪屑锌薪 锌芯懈胁 锌械芯懈', ar: '卮丕亘 囟丿 丕卮乇丞' },
            '住 砖注专': { en: 'Hair Mask', ru: '邪泻邪 写谢 胁芯谢芯', ar: '丕爻 卮毓乇' },
            '住驻专 砖注专': { en: 'Hair Spray', ru: '邪泻 写谢 胁芯谢芯', ar: '爻亘乇丕 卮毓乇' },
            '\' 砖注专': { en: 'Hair Gel', ru: '械谢 写谢 胁芯谢芯', ar: '噩 卮毓乇' },
            '住 祝': { en: 'Body Soap', ru: '谢芯 写谢 械谢邪', ar: '氐丕亘 噩爻' },
            '\' 专爪': { en: 'Shower Gel', ru: '械谢 写谢 写邪', ar: '噩 丕爻鬲丨丕' },
            '拽专 ': { en: 'Shaving Cream', ru: '械屑 写谢 斜懈', ar: '乇 丨丕丞' },
            '住 ': { en: 'Razors', ru: '懈胁', ar: '卮乇丕鬲 丨丕丞' },
            '专 专 ': { en: 'Roll-On Deodorant', ru: '芯谢懈泻芯胁泄 写械蟹芯写芯邪薪', ar: '夭 毓乇 乇 兀' },
            '专 住驻专': { en: 'Spray Deodorant', ru: '械蟹芯写芯邪薪-锌械泄', ar: '夭 毓乇 爻亘乇丕' },
            '拽专 驻': { en: 'Face Cream', ru: '械屑 写谢 谢懈邪', ar: '乇 噩' },
            '拽专 ': { en: 'Hand Cream', ru: '械屑 写谢 泻', ar: '乇 丿' },
            '拽专 祝': { en: 'Body Cream', ru: '械屑 写谢 械谢邪', ar: '乇 噩爻' },
            '住 祝': { en: 'Body Lotion', ru: '芯芯薪 写谢 械谢邪', ar: '卮 噩爻' },
            '转砖转': { en: 'Bandages', ru: '懈薪', ar: '囟丕丿丕鬲' },
            '驻住专': { en: 'Band-Aids', ru: '谢邪懈', ar: '氐丕鬲 噩乇丨' },
            '爪专 驻': { en: 'Cotton Wool', ru: '邪邪', ar: '胤 胤亘' },
            '拽 ': { en: 'Cotton Swabs', ru: '邪薪械 锌邪谢芯泻懈', ar: '兀毓丕丿 胤丞' },
            '驻': { en: 'Tampons', ru: '孝邪屑锌芯薪', ar: '爻丿丕丿丕鬲 胤丞' },
            ' 转转': { en: 'Panty Liners', ru: '卸械写薪械胁薪械 锌芯泻谢邪写泻懈', ar: '胤 丞' },
            '转砖转 ': { en: 'Day Pads', ru: '薪械胁薪械 锌芯泻谢邪写泻懈', ar: '胤 丕乇丞' },
            '转砖转 ': { en: 'Night Pads', ru: '芯薪械 锌芯泻谢邪写泻懈', ar: '胤 丞' },
            '拽专 ': { en: 'Sunscreen', ru: '小芯谢薪械蟹邪懈薪泄 泻械屑', ar: '乇 丨丕丞  丕卮爻' },
            '住专 驻专': { en: 'Makeup Remover', ru: '小械写胁芯 写谢 薪懈 屑邪泻懈卸邪', ar: '夭 丕噩' },
            // Baby - 转拽转
            '转  1': { en: 'Diapers Size 1', ru: '芯写谐蟹薪懈泻懈 邪蟹屑械 1', ar: '丨丕囟丕鬲 丕爻 1' },
            '转  2': { en: 'Diapers Size 2', ru: '芯写谐蟹薪懈泻懈 邪蟹屑械 2', ar: '丨丕囟丕鬲 丕爻 2' },
            '转  3': { en: 'Diapers Size 3', ru: '芯写谐蟹薪懈泻懈 邪蟹屑械 3', ar: '丨丕囟丕鬲 丕爻 3' },
            '转  4': { en: 'Diapers Size 4', ru: '芯写谐蟹薪懈泻懈 邪蟹屑械 4', ar: '丨丕囟丕鬲 丕爻 4' },
            '转  5': { en: 'Diapers Size 5', ru: '芯写谐蟹薪懈泻懈 邪蟹屑械 5', ar: '丨丕囟丕鬲 丕爻 5' },
            '转  6': { en: 'Diapers Size 6', ru: '芯写谐蟹薪懈泻懈 邪蟹屑械 6', ar: '丨丕囟丕鬲 丕爻 6' },
            '住 转': { en: 'Diaper Pants', ru: '孝懈泻懈-锌芯写谐蟹薪懈泻懈', ar: '爻乇丕 丨丕囟丕鬲' },
            '转 ': { en: 'Night Diapers', ru: '芯薪械 锌芯写谐蟹薪懈泻懈', ar: '丨丕囟丕鬲 丞' },
            ' 专砖': { en: 'Sensitive Wipes', ru: '效胁胁懈械谢薪械 邪谢械泻懈', ar: '丕丿 亘卮乇丞 丕丨爻丕爻丞' },
            '住 转拽转': { en: 'Baby Soap', ru: '械泻芯械 屑谢芯', ar: '氐丕亘 兀胤丕' },
            ' 住 转拽转': { en: 'Baby Soap-Free Cleanser', ru: '械屑谢薪芯械 械写胁芯 写谢 写械械泄', ar: '睾爻 亘丿 氐丕亘 兀胤丕' },
            '拽专 转': { en: 'Diaper Cream', ru: '械屑 锌芯写 锌芯写谐蟹薪懈泻', ar: '乇 丨丕囟丕鬲' },
            '砖转 转': { en: 'Diaper Ointment', ru: '邪蟹 锌芯写 锌芯写谐蟹薪懈泻', ar: '乇 丨丕囟丕鬲' },
            '砖 转拽转': { en: 'Baby Oil', ru: '械泻芯械 屑邪谢芯', ar: '夭鬲 兀胤丕' },
            '拽转  住拽': { en: 'Similac Formula', ru: '小屑械 小懈屑懈谢邪泻', ar: '丨亘 爻丕' },
            '拽转  专': { en: 'Materna Formula', ru: '小屑械 邪械薪邪', ar: '丨亘 丕鬲乇丕' },
            '转 驻专转': { en: 'Fruit Puree', ru: '肖泻芯胁芯械 锌械', ar: '乇爻 丕' },
            '转 专拽转': { en: 'Vegetable Puree', ru: '胁芯薪芯械 锌械', ar: '乇爻 禺囟丕乇' },
            '住 转拽转': { en: 'Baby Cereal', ru: '械泻邪 泻邪邪', ar: '丨亘亘 兀胤丕' },
            '祝 转拽转': { en: 'Baby Snack', ru: '械泻懈泄 薪泻', ar: '噩亘丞 禺丞 兀胤丕' },
            '爪爪': { en: 'Pacifiers', ru: '小芯泻懈-锌泻懈', ar: '氐丕氐丕鬲' },
            '拽拽 转拽': { en: 'Baby Bottle', ru: '械泻邪 斜谢芯泻邪', ar: '乇囟丕毓丞' },
            '驻转': { en: 'Nipples', ru: '小芯泻懈', ar: '丨丕鬲 乇囟丕毓丞' },
            // Pets - 转 
            ' 砖 ': { en: 'Dry Dog Food', ru: '小芯泄 泻芯屑 写谢 芯斜邪泻', ar: '胤毓丕 噩丕 丕亘' },
            ' 专 ': { en: 'Wet Dog Food', ru: '谢邪卸薪泄 泻芯屑 写谢 芯斜邪泻', ar: '胤毓丕 乇胤亘 丕亘' },
            ' 专': { en: 'Puppy Food', ru: '芯屑 写谢 械薪泻芯胁', ar: '胤毓丕 噩乇丕亍' },
            ' 砖 转': { en: 'Dry Cat Food', ru: '小芯泄 泻芯屑 写谢 泻芯械泻', ar: '胤毓丕 噩丕 胤胤' },
            ' 专 转': { en: 'Wet Cat Food', ru: '谢邪卸薪泄 泻芯屑 写谢 泻芯械泻', ar: '胤毓丕 乇胤亘 胤胤' },
            ' 专 转': { en: 'Kitten Food', ru: '芯屑 写谢 泻芯', ar: '胤毓丕 胤胤 丕氐睾乇丞' },
            ' 转砖': { en: 'Clumping Litter', ru: '芯屑泻懈泄 薪邪锌芯谢薪懈械谢', ar: '乇 鬲鬲' },
            ' 住拽': { en: 'Silica Litter', ru: '小懈谢懈泻邪谐械谢械胁泄 薪邪锌芯谢薪懈械谢', ar: '乇 爻丕' },
            '驻 ': { en: 'Dog Treats', ru: '邪泻芯屑胁邪 写谢 芯斜邪泻', ar: '丕丌鬲 丕亘' },
            '驻 转': { en: 'Cat Treats', ru: '邪泻芯屑胁邪 写谢 泻芯械泻', ar: '丕丌鬲 胤胤' },
            '注爪转 注住': { en: 'Chew Bones', ru: '械胁邪械谢薪械 泻芯懈', ar: '毓馗丕 囟睾' },
            '爪注爪注 ': { en: 'Dog Toys', ru: '谐泻懈 写谢 芯斜邪泻', ar: '兀毓丕亘 丕亘' },
            '爪注爪注 转': { en: 'Cat Toys', ru: '谐泻懈 写谢 泻芯械泻', ar: '兀毓丕亘 胤胤' },
            ' ': { en: 'Dog Bed', ru: '械卸邪薪泻邪 写谢 芯斜邪泻懈', ar: '爻乇乇 亘' },
            ' 转': { en: 'Cat Bed', ru: '械卸邪薪泻邪 写谢 泻芯泻懈', ar: '爻乇乇 胤' },
            '拽注专转 ': { en: 'Food Bowl', ru: '懈泻邪 写谢 械写', ar: '毓丕亍 胤毓丕' },
            '拽注专转 ': { en: 'Water Bowl', ru: '懈泻邪 写谢 胁芯写', ar: '毓丕亍 丕亍' },
            '专爪注 ': { en: 'Dog Leash', ru: '芯胁芯写芯泻 写谢 芯斜邪泻懈', ar: '丿 亘' },
            '拽专': { en: 'Collar', ru: '械泄薪懈泻', ar: '胤' },
            '砖驻 ': { en: 'Dog Shampoo', ru: '楔邪屑锌薪 写谢 芯斜邪泻', ar: '卮丕亘 丕亘' },
            '砖拽转 拽拽': { en: 'Poop Bags', ru: '邪泻械 写谢 泻泻械屑械薪芯胁', ar: '兀丕爻 囟丕鬲' },
            ' ': { en: 'Fish Food', ru: '芯屑 写谢 斜', ar: '胤毓丕 兀爻丕' },
            ' 爪驻专': { en: 'Bird Food', ru: '芯屑 写谢 锌懈', ar: '胤毓丕 胤乇' },
            ' 专': { en: 'Hamster Food', ru: '芯屑 写谢 芯屑泻芯胁', ar: '胤毓丕 丕爻鬲乇' },
            // === ADDITIONAL TRANSLATIONS ===
            // Baking - 驻 (missing)
            '拽 转驻': { en: 'Self-Rising Flour', ru: '小邪屑芯锌芯写薪懈屑邪邪 屑泻邪', ar: '胤丨 匕丕鬲 丕乇毓' },
            '拽 ': { en: 'Challah Flour', ru: '泻邪 写谢 邪谢', ar: '胤丨 丨丞' },
            '拽 ': { en: 'Bread Flour', ru: '啸谢械斜薪邪 屑泻邪', ar: '胤丨 禺亘夭' },
            '拽 驻爪': { en: 'Pizza Flour', ru: '泻邪 写谢 锌懈', ar: '胤丨 亘鬲夭丕' },
            '拽 驻拽爪\'': { en: 'Focaccia Flour', ru: '泻邪 写谢 芯泻邪懈', ar: '胤丨 丕鬲卮丕' },
            '拽  驻': { en: 'Sifted White Flour', ru: '芯械薪薪邪 斜械谢邪 屑泻邪', ar: '胤丨 兀亘囟 禺' },
            '拽专驻专': { en: 'Cornflour', ru: '泻蟹薪邪 屑泻邪', ar: '卮丕 丕匕乇丞' },
            '注': { en: 'Starch', ru: '邪屑邪谢', ar: '卮丕' },
            '注 转专住': { en: 'Corn Starch', ru: '泻蟹薪泄 泻邪屑邪谢', ar: '卮丕 丕匕乇丞' },
            '住专 专专': { en: 'Demerara Sugar', ru: '小邪邪 写械屑械邪邪', ar: '爻乇 丿乇丕乇丕' },
            '住专 ': { en: 'Vanilla Sugar', ru: '邪薪懈谢薪泄 邪邪', ar: '爻乇 丕丕' },
            '住专转': { en: 'Sweetener', ru: '芯写谢邪懈械谢', ar: '丨 氐丕毓' },
            '住': { en: 'Stevia', ru: '小械胁懈', ar: '爻鬲丕' },
            '砖专 砖': { en: 'Dry Yeast', ru: '小懈械 写芯卸卸懈', ar: '禺乇丞 噩丕丞' },
            '砖专 专': { en: 'Fresh Yeast', ru: '小胁械卸懈械 写芯卸卸懈', ar: '禺乇丞 胤丕夭噩丞' },
            '住 砖转': { en: 'Baking Soda', ru: '懈械胁邪 芯写邪', ar: '亘乇亘丕鬲 丕氐丿' },
            '转爪转 ': { en: 'Vanilla Extract', ru: '协泻邪泻 胁邪薪懈谢懈', ar: '禺丕氐丞 丕丕丕' },
            '拽转 ': { en: 'Vanilla Pods', ru: '小泻懈 胁邪薪懈谢懈', ar: '兀毓丕丿 丕丕丕' },
            '砖拽 爪\'驻住 专专': { en: 'Dark Chocolate Chips', ru: '芯泻懈泄 芯泻芯谢邪写 泻芯泻邪', ar: '乇丕卅 卮丕鬲丞 丿丕丞' },
            '砖拽 爪\'驻住 ': { en: 'White Chocolate Chips', ru: '械谢泄 芯泻芯谢邪写 泻芯泻邪', ar: '乇丕卅 卮丕鬲丞 亘囟丕亍' },
            '砖拽 专专 驻': { en: 'Dark Baking Chocolate', ru: '芯泻懈泄 芯泻芯谢邪写 写谢 胁锌械泻懈', ar: '卮丕鬲丞 丿丕丞 禺亘夭' },
            '砖拽  驻': { en: 'Milk Baking Chocolate', ru: '芯谢芯薪泄 芯泻芯谢邪写 写谢 胁锌械泻懈', ar: '卮丕鬲丞 亘丕丨亘 禺亘夭' },
            '砖拽  驻': { en: 'White Baking Chocolate', ru: '械谢泄 芯泻芯谢邪写 写谢 胁锌械泻懈', ar: '卮丕鬲丞 亘囟丕亍 禺亘夭' },
            '拽转 拽拽': { en: 'Cocoa Powder', ru: '邪泻邪芯 锌芯芯芯泻', ar: '爻丨 丕丕丕' },
            '拽拽住 ': { en: 'Ground Coconut', ru: '芯谢芯泄 泻芯泻芯', ar: '噩夭 丿 胤丨' },
            '砖拽 ': { en: 'Ground Almonds', ru: '芯谢芯泄 屑懈薪写邪谢', ar: '夭 胤丨' },
            '砖拽 驻专住': { en: 'Sliced Almonds', ru: '邪械蟹邪薪薪泄 屑懈薪写邪谢', ar: '夭 卮乇丕卅丨' },
            '砖拽 砖': { en: 'Whole Almonds', ru: '笑械谢薪泄 屑懈薪写邪谢', ar: '夭 丕' },
            '  ': { en: 'Ground Walnuts', ru: '芯谢芯械 谐械泻懈械 芯械懈', ar: '噩夭 胤丨' },
            '驻拽 ': { en: 'Ground Pecans', ru: '芯谢芯泄 锌械泻邪薪', ar: '亘丕 胤丨' },
            '拽砖': { en: 'Cashews', ru: '械', ar: '丕噩' },
            '驻住拽': { en: 'Pistachios', ru: '肖懈邪泻懈', ar: '爻鬲' },
            ' ': { en: 'Hazelnuts', ru: '肖薪写泻', ar: '亘丿' },
            '爪转': { en: 'Cranberries', ru: '谢泻胁邪', ar: '鬲鬲 亘乇' },
            '转专 \'': { en: 'Medjool Dates', ru: '肖懈薪懈泻懈 械写卸谢', ar: '鬲乇 噩' },
            '驻专': { en: 'Poppy Seeds', ru: '邪泻芯胁械 械屑械薪邪', ar: '亘匕乇 丕禺卮禺丕卮' },
            '砖砖': { en: 'Sesame Seeds', ru: '薪卸', ar: '爻爻' },
            '专爪驻': { en: 'Marzipan', ru: '邪懈锌邪薪', ar: '乇夭亘丕' },
            '驻': { en: 'Fondant', ru: '芯屑邪写泻邪', ar: '丿丕' },
            '爪拽 住专': { en: 'Sugar Paste', ru: '小邪邪薪邪 锌邪邪', ar: '毓噩丞 丕爻乇' },
            '爪注 ': { en: 'Food Coloring', ru: '懈械胁械 泻邪懈械谢懈', ar: '丕鬲 睾匕丕卅丞' },
            '住专转 拽砖': { en: 'Sprinkles', ru: '芯锌泻邪', ar: '丨亘亘丕鬲 鬲夭' },
            '专 驻': { en: 'Baking Glitter', ru: '谢懈械 写谢 胁锌械泻懈', ar: '睾鬲乇 禺亘夭' },
            '驻专专 ': { en: 'Breadcrumbs', ru: '邪薪懈芯胁芯薪械 邪懈', ar: '鬲丕鬲 丕禺亘夭' },
            '驻专专 住拽': { en: 'Biscuit Crumbs', ru: '芯泻邪 锌械械薪', ar: '鬲丕鬲 丕亘爻鬲' },
            '驻 砖拽': { en: 'Chocolate Pudding', ru: '楔芯泻芯谢邪写薪泄 锌写懈薪谐', ar: '亘丿睾 卮丕鬲丞' },
            '驻 ': { en: 'Vanilla Pudding', ru: '邪薪懈谢薪泄 锌写懈薪谐', ar: '亘丿睾 丕丕' },
            // Meat - 砖专 (missing)
            '砖专  专 专': { en: 'Fresh Lean Ground Beef', ru: '小胁械卸懈泄 薪械卸懈薪泄 邪', ar: '丨 乇  丕丿爻 胤丕夭噩' },
            '专拽 拽驻': { en: 'Frozen Entrecote', ru: '邪屑芯芯卸械薪薪泄 邪薪械泻芯', ar: '兀鬲乇鬲 噩丿' },
            '住 专': { en: 'Fresh Sirloin', ru: '小胁械卸邪 胁械蟹泻邪', ar: '丨 亘乇 胤丕夭噩' },
            '住 拽驻': { en: 'Frozen Sirloin', ru: '邪屑芯芯卸械薪薪邪 胁械蟹泻邪', ar: '丨 亘乇 噩丿' },
            '驻 拽专 专': { en: 'Fresh Beef Fillet', ru: '小胁械卸械械 懈谢械 谐芯胁写懈薪', ar: ' 亘乇 胤丕夭噩' },
            '驻 拽专 拽驻': { en: 'Frozen Beef Fillet', ru: '邪屑芯芯卸械薪薪芯械 懈谢械 谐芯胁写懈薪', ar: ' 亘乇 噩丿' },
            '爪注转 拽专 专转': { en: 'Fresh Beef Ribs', ru: '小胁械卸懈械 谐芯胁卸懈 斜邪', ar: '囟毓 亘乇 胤丕夭噩丞' },
            '爪注转 拽专 拽驻转': { en: 'Frozen Beef Ribs', ru: '邪屑芯芯卸械薪薪械 谐芯胁卸懈 斜邪', ar: '囟毓 亘乇 噩丿丞' },
            '砖驻专 专': { en: 'Fresh Shoulder', ru: '小胁械卸邪 谢芯锌邪泻邪', ar: '鬲 胤丕夭噩' },
            '砖驻专 拽驻': { en: 'Frozen Shoulder', ru: '邪屑芯芯卸械薪薪邪 谢芯锌邪泻邪', ar: '鬲 噩丿' },
            '住 专': { en: 'Fresh Asado', ru: '小胁械卸懈泄 邪邪写芯', ar: '兀爻丕丿 胤丕夭噩' },
            '住 拽驻': { en: 'Frozen Asado', ru: '邪屑芯芯卸械薪薪泄 邪邪写芯', ar: '兀爻丕丿 噩丿' },
            '砖 专': { en: 'Fresh Goulash Meat', ru: '小胁械卸械械 屑芯 写谢 谐谢邪', ar: '丨 睾丕卮 胤丕夭噩' },
            '砖 拽驻': { en: 'Frozen Goulash Meat', ru: '邪屑芯芯卸械薪薪芯械 屑芯 写谢 谐谢邪', ar: '丨 睾丕卮 噩丿' },
            '砖专 砖专 专': { en: 'Fresh Shawarma Meat', ru: '小胁械卸械械 屑芯 写谢 邪屑', ar: '丨 卮丕乇丕 胤丕夭噩' },
            '砖专 砖专 拽驻': { en: 'Frozen Shawarma Meat', ru: '邪屑芯芯卸械薪薪芯械 屑芯 写谢 邪屑', ar: '丨 卮丕乇丕 噩丿' },
            ' 专': { en: 'Fresh Lamb', ru: '小胁械卸邪 斜邪邪薪懈薪邪', ar: '丨 睾 胤丕夭噩' },
            ' 拽驻': { en: 'Frozen Lamb', ru: '邪屑芯芯卸械薪薪邪 斜邪邪薪懈薪邪', ar: '丨 睾 噩丿' },
            '砖 专': { en: 'Fresh Mutton', ru: '小胁械卸邪 斜邪邪薪懈薪邪', ar: '丨 禺乇 胤丕夭噩' },
            '砖 拽驻': { en: 'Frozen Mutton', ru: '邪屑芯芯卸械薪薪邪 斜邪邪薪懈薪邪', ar: '丨 禺乇 噩丿' },
            '砖爪 注祝 拽驻': { en: 'Frozen Chicken Schnitzel', ru: '邪屑芯芯卸械薪薪泄 泻懈薪泄 薪懈械谢', ar: '卮鬲爻 丿噩丕噩 噩丿' },
            '砖爪  专': { en: 'Fresh Turkey Schnitzel', ru: '小胁械卸懈泄 薪懈械谢 懈蟹 懈薪写械泄泻懈', ar: '卮鬲爻 丿 乇 胤丕夭噩' },
            '砖爪  拽驻': { en: 'Frozen Turkey Schnitzel', ru: '邪屑芯芯卸械薪薪泄 薪懈械谢 懈蟹 懈薪写械泄泻懈', ar: '卮鬲爻 丿 乇 噩丿' },
            '拽 专': { en: 'Fresh Kebab', ru: '小胁械卸懈泄 泻械斜邪斜', ar: '亘丕亘 胤丕夭噩' },
            '拽 拽驻': { en: 'Frozen Kebab', ru: '邪屑芯芯卸械薪薪泄 泻械斜邪斜', ar: '亘丕亘 噩丿' },
            '专专 转': { en: 'Homemade Burger', ru: '芯屑邪薪懈泄 斜谐械', ar: '亘乇睾乇 夭' },
            '拽拽转 注祝': { en: 'Chicken Sausages', ru: '懈薪械 芯懈泻懈', ar: '丕 丿噩丕噩' },
            '拽拽转 拽专': { en: 'Beef Sausages', ru: '芯胁卸懈 芯懈泻懈', ar: '丕 亘乇' },
            // Fish -  (missing)
            '住 拽驻': { en: 'Frozen Salmon', ru: '邪屑芯芯卸械薪薪泄 谢芯芯', ar: '爻 噩丿' },
            '驻 住 专': { en: 'Fresh Salmon Fillet', ru: '小胁械卸械械 懈谢械 谢芯芯', ar: ' 爻 胤丕夭噩' },
            '驻 住 拽驻': { en: 'Frozen Salmon Fillet', ru: '邪屑芯芯卸械薪薪芯械 懈谢械 谢芯芯', ar: ' 爻 噩丿' },
            '驻  专': { en: 'Fresh Tilapia Fillet', ru: '小胁械卸械械 懈谢械 懈谢邪锌懈懈', ar: ' 亘胤 胤丕夭噩' },
            '驻  拽驻': { en: 'Frozen Tilapia Fillet', ru: '邪屑芯芯卸械薪薪芯械 懈谢械 懈谢邪锌懈懈', ar: ' 亘胤 噩丿' },
            '驻 专 专': { en: 'Fresh Mullet Fillet', ru: '小胁械卸械械 懈谢械 泻械邪谢懈', ar: ' 亘乇 胤丕夭噩' },
            '驻 专 拽驻': { en: 'Frozen Mullet Fillet', ru: '邪屑芯芯卸械薪薪芯械 懈谢械 泻械邪谢懈', ar: ' 亘乇 噩丿' },
            '驻 住 专': { en: 'Fresh Sea Bream Fillet', ru: '小胁械卸械械 懈谢械 写械薪懈邪', ar: ' 丿爻 胤丕夭噩' },
            '驻 住 拽驻': { en: 'Frozen Sea Bream Fillet', ru: '邪屑芯芯卸械薪薪芯械 懈谢械 写械薪懈邪', ar: ' 丿爻 噩丿' },
            ' 专': { en: 'Fresh Tuna', ru: '小胁械卸懈泄 薪械', ar: '鬲丞 胤丕夭噩丞' },
            ' 砖 专': { en: 'Fresh Whole Fish', ru: '小胁械卸邪 械谢薪邪 斜邪', ar: '爻 丕 胤丕夭噩' },
            ' 砖 拽驻': { en: 'Frozen Whole Fish', ru: '邪屑芯芯卸械薪薪邪 械谢薪邪 斜邪', ar: '爻 丕 噩丿' },
            '住 ': { en: 'Surimi', ru: '小懈屑懈', ar: '爻乇' },
            '砖专驻住 拽驻': { en: 'Frozen Shrimp', ru: '邪屑芯芯卸械薪薪械 泻械胁械泻懈', ar: '噩亘乇 噩丿' },
            '拽专 拽驻': { en: 'Frozen Calamari', ru: '邪屑芯芯卸械薪薪械 泻邪谢屑邪', ar: '丕丕乇 噩丿' },
            '': { en: 'Mussels', ru: '懈写懈懈', ar: '亘丨 丕亘丨乇' },
            '住专': { en: 'Sardines', ru: '小邪写懈薪', ar: '爻乇丿' },
            ' 注砖': { en: 'Smoked Fish', ru: '芯锌薪邪 斜邪', ar: '爻 丿禺' },
            // Canned & Dry Foods - 砖专 (missing)
            '专 住': { en: 'Jasmine Rice', ru: '懈 卸邪屑懈薪', ar: '兀乇夭 丕爻' },
            '专 ': { en: 'Brown Rice', ru: '泄 懈', ar: '兀乇夭 亘' },
            '专 住砖': { en: 'Sushi Rice', ru: '懈 写谢 懈', ar: '兀乇夭 爻卮' },
            '专 驻专住': { en: 'Persian Rice', ru: '械懈写泻懈泄 懈', ar: '兀乇夭 丕乇爻' },
            '驻住 驻': { en: 'Penne Pasta', ru: '邪邪 锌械薪薪械', ar: '亘丕爻鬲丕 亘' },
            '驻住 驻专驻': { en: 'Farfalle Pasta', ru: '邪邪 邪邪谢谢械', ar: '亘丕爻鬲丕 乇丕' },
            '驻住 驻': { en: 'Fusilli Pasta', ru: '邪邪 蟹懈谢谢懈', ar: '亘丕爻鬲丕 夭' },
            '驻住 ': { en: 'Lasagna Sheets', ru: '懈 写谢 谢邪蟹邪薪懈', ar: '乇丕卅 丕夭丕丕' },
            '驻住 ': { en: 'Whole Wheat Pasta', ru: '笑械谢薪芯蟹械薪芯胁邪 锌邪邪', ar: '亘丕爻鬲丕 丨 丕' },
            '拽住拽住 ': { en: 'Whole Wheat Couscous', ru: '笑械谢薪芯蟹械薪芯胁芯泄 泻泻', ar: '爻爻 丨 丕' },
            '拽住拽住 驻转转': { en: 'Ptitim Couscous', ru: '懈懈屑 泻泻', ar: '爻爻 亘鬲鬲' },
            '拽转': { en: 'Legumes', ru: '芯斜芯胁械', ar: '亘丕鬲' },
            '专 驻住': { en: 'Pasta Sauce', ru: '小芯 写谢 锌邪', ar: '氐氐丞 亘丕爻鬲丕' },
            '专住拽 注转': { en: 'Tomato Paste', ru: '孝芯屑邪薪邪 锌邪邪', ar: '毓噩 胤丕胤' },
            ' ': { en: 'Tuna in Water', ru: '孝薪械 胁 胁芯写械', ar: '鬲丞 亘丕丕亍' },
            ' 砖': { en: 'Tuna in Oil', ru: '孝薪械 胁 屑邪谢械', ar: '鬲丞 亘丕夭鬲' },
            ' 专': { en: 'Tuna in Sauce', ru: '孝薪械 胁 芯械', ar: '鬲丞 亘丕氐氐丞' },
            '转专住 转拽': { en: 'Sweet Corn', ru: '小谢邪写泻邪 泻泻蟹邪', ar: '匕乇丞 丨丞' },
            '专专 转专住': { en: 'Corn Kernels', ru: '薪邪 泻泻蟹', ar: '丨亘亘 丕匕乇丞' },
            '砖 转 转转': { en: 'Extra Virgin Olive Oil', ru: '谢懈胁泻芯胁芯械 屑邪谢芯 泻邪 胁懈写卸懈薪', ar: '夭鬲 夭鬲 亘乇 鬲丕夭' },
            '砖 拽': { en: 'Canola Oil', ru: '邪锌芯胁芯械 屑邪谢芯', ar: '夭鬲 丕丕' },
            '砖 转': { en: 'Sunflower Oil', ru: '芯写芯谢薪械薪芯械 屑邪谢芯', ar: '夭鬲 丿丕乇 丕卮爻' },
            '砖 转专住': { en: 'Corn Oil', ru: '泻蟹薪芯械 屑邪谢芯', ar: '夭鬲 丕匕乇丞' },
            '砖 砖砖': { en: 'Sesame Oil', ru: '薪卸薪芯械 屑邪谢芯', ar: '夭鬲 丕爻爻' },
            '砖 ': { en: 'Nut Oil', ru: '械芯胁芯械 屑邪谢芯', ar: '夭鬲 丕爻乇丕鬲' },
            '抓 住': { en: 'Balsamic Vinegar', ru: '邪谢蟹邪屑懈械泻懈泄 泻', ar: '禺 亘爻' },
            '抓 ': { en: 'Wine Vinegar', ru: '懈薪薪泄 泻', ar: '禺 丕亘匕' },
            '抓 转驻': { en: 'Apple Cider Vinegar', ru: '携斜谢芯薪泄 泻', ar: '禺 丕鬲丕丨' },
            '抓 ': { en: 'White Vinegar', ru: '械谢泄 泻', ar: '禺 兀亘囟' },
            '抓 ': { en: 'Lemon Juice', ru: '懈屑芯薪薪泄 芯泻', ar: '毓氐乇 ' },
            '住 ': { en: 'Ground Chickpeas', ru: '芯谢芯泄 薪', ar: '丨氐 胤丨' },
            '转 砖专': { en: 'Black Olives', ru: '效薪械 芯谢懈胁泻懈', ar: '夭鬲 兀爻丿' },
            '转 专拽': { en: 'Green Olives', ru: '械谢薪械 芯谢懈胁泻懈', ar: '夭鬲 兀禺囟乇' },
            '转 拽': { en: 'Kalamata Olives', ru: '谢懈胁泻懈 邪谢邪屑邪邪', ar: '夭鬲 丕丕丕鬲丕' },
            '驻驻 抓': { en: 'Pickled Cucumber', ru: '小芯谢薪泄 芯谐械', ar: '禺丕乇 禺' },
            '驻驻专拽 拽': { en: 'Roasted Peppers', ru: '邪械薪泄 锌械械', ar: ' 卮' },
            '': { en: 'Peanuts', ru: '邪懈', ar: ' 爻丿丕' },
            '': { en: 'Wheat', ru: '械薪懈邪', ar: '丨' },
            '专': { en: 'Bulgur', ru: '谢谐', ar: '亘乇睾' },
            '拽': { en: 'Quinoa', ru: '懈薪芯邪', ar: '丕' },
            '驻专拽': { en: 'Freekeh', ru: '肖懈泻械', ar: '乇丞' },
            '住': { en: 'Noodles', ru: '邪锌邪', ar: '丿夭' },
            '专转': { en: 'Vermicelli', ru: '械屑懈械谢', ar: '卮毓乇丞' },
            '驻': { en: 'Fava Beans', ru: '芯斜', ar: '' },
            '专专 住': { en: 'Chickpeas', ru: '', ar: '丨亘亘 丕丨氐' },
            '注砖 转转': { en: 'Orange Lentils', ru: '邪薪卸械胁邪 械械胁懈邪', ar: '毓丿爻 亘乇鬲丕' },
            '注砖 专拽转': { en: 'Green Lentils', ru: '械谢薪邪 械械胁懈邪', ar: '毓丿爻 兀禺囟乇' },
            '砖注注转 ': { en: 'White Beans', ru: '械谢邪 邪芯谢', ar: '丕氐丕 亘囟丕亍' },
            '砖注注转 ': { en: 'Red Beans', ru: '邪薪邪 邪芯谢', ar: '丕氐丕 丨乇丕亍' },
            '砖注注转 砖专': { en: 'Black Beans', ru: '效薪邪 邪芯谢', ar: '丕氐丕 爻丿丕亍' },
            '驻': { en: 'Peas', ru: '芯芯', ar: '亘丕夭丕亍' },
            '住': { en: 'Soy', ru: '小芯', ar: ' 丕氐丕' },
            '砖': { en: 'Mung Beans', ru: '邪', ar: '丕卮' },
            // Spices - 转 (missing)
            ' ': { en: 'Sea Salt', ru: '芯泻邪 芯谢', ar: '丨 亘丨乇' },
            ' 砖': { en: 'Table Salt', ru: '小芯谢芯胁邪 芯谢', ar: '丨 胤毓丕' },
            ' 住': { en: 'Coarse Salt', ru: '锌薪邪 芯谢', ar: '丨 禺卮' },
            '驻驻 专住': { en: 'Coarse Pepper', ru: '锌薪泄 锌械械', ar: ' 禺卮' },
            '驻驻专拽 转拽': { en: 'Sweet Paprika', ru: '小谢邪写泻邪 锌邪锌懈泻邪', ar: '亘丕亘乇丕 丨丞' },
            '驻驻专拽 专驻': { en: 'Hot Paprika', ru: '邪 锌邪锌懈泻邪', ar: '亘丕亘乇丕 丨丕乇丞' },
            '驻驻专拽 注砖转': { en: 'Smoked Paprika', ru: '芯锌薪邪 锌邪锌懈泻邪', ar: '亘丕亘乇丕 丿禺丞' },
            '拽 ': { en: 'Ground Cinnamon', ru: '芯谢芯邪 泻芯懈邪', ar: '乇丞 胤丨丞' },
            '拽转 拽': { en: 'Cinnamon Sticks', ru: '邪谢芯泻懈 泻芯懈', ar: '兀毓丕丿 乇丞' },
            '拽转 砖': { en: 'Garlic Powder', ru: '效械薪芯薪泄 锌芯芯芯泻', ar: '亘丿乇丞 孬' },
            '拽转 爪': { en: 'Onion Powder', ru: '泻芯胁泄 锌芯芯芯泻', ar: '亘丿乇丞 亘氐' },
            '专': { en: 'Oregano', ru: '械谐邪薪芯', ar: '兀乇噩丕' },
            '拽': { en: 'Basil', ru: '邪蟹懈谢懈泻', ar: '乇丨丕' },
            '住拽': { en: 'Sumac', ru: '小屑邪', ar: '爻丕' },
            '壮': { en: 'Hawaij', ru: '啸邪胁邪懈写卸', ar: '丨丕噩' },
            '转 注祝': { en: 'Chicken Seasoning', ru: '懈锌邪胁邪 写谢 泻懈', ar: '亘丕乇丕鬲 丿噩丕噩' },
            '转 ': { en: 'Fish Seasoning', ru: '懈锌邪胁邪 写谢 斜', ar: '亘丕乇丕鬲 爻' },
            '转 砖专': { en: 'Meat Seasoning', ru: '懈锌邪胁邪 写谢 屑邪', ar: '亘丕乇丕鬲 丨' },
            '转 专': { en: 'Grill Seasoning', ru: '懈锌邪胁邪 写谢 谐懈谢', ar: '亘丕乇丕鬲 卮丕亍' },
            '专 住': { en: 'Garam Masala', ru: '邪邪屑 屑邪邪谢邪', ar: '睾乇丕 丕爻丕丕' },
            '爪': { en: 'Chili', ru: '效懈谢懈', ar: ' 丨丕乇' },
            '拽': { en: 'Cayenne', ru: '邪泄械薪泻懈泄 锌械械', ar: ' 丕' },
            '': { en: 'Ginger', ru: '屑斜懈', ar: '夭噩亘' },
            ' 住拽': { en: 'Nutmeg', ru: '泻邪薪泄 芯械', ar: '噩夭丞 丕胤亘' },
            '爪驻专': { en: 'Cloves', ru: '胁芯蟹写懈泻邪', ar: '乇' },
            '住专 ': { en: 'Ground Coriander', ru: '芯谢芯泄 泻芯懈邪薪写', ar: '夭亘乇丞 胤丨丞' },
            '拽专': { en: 'Cardamom', ru: '邪写邪屑芯薪', ar: '' },
            '注 驻': { en: 'Bay Leaves', ru: '邪胁芯胁械 谢懈', ar: '乇 丕睾丕乇' },
            '专专': { en: 'Rosemary', ru: '芯蟹屑邪懈薪', ar: '廿 丕噩亘' },
            '': { en: 'Thyme', ru: '孝懈屑薪', ar: '夭毓鬲乇' },
            '驻驻专拽 ': { en: 'Mint Paprika', ru: '薪邪 锌邪锌懈泻邪', ar: '亘丕亘乇丕 毓丕毓' },
            '': { en: 'Cardamom', ru: '邪写邪屑芯薪', ar: '丕' },
            ' 住': { en: 'Star Anise', ru: '胁蟹写邪泄 邪薪懈', ar: '爻 噩' },
            '注专转': { en: 'Chives', ru: '楔薪懈-谢泻', ar: '孬 毓乇' },
            '专': { en: 'Sage', ru: '楔邪谢械泄', ar: '乇丞' },
            // Coffee & Tea - 拽驻 转 (missing)
            '拽驻 \'拽住': { en: 'Jacobs Coffee', ru: '芯械 携泻芯斜', ar: '丞 噩丕亘爻' },
            '拽驻 砖专': { en: 'Black Coffee', ru: '效薪泄 泻芯械', ar: '丞 爻丿丕亍' },
            '拽驻 住驻专住': { en: 'Nespresso Coffee', ru: '芯械 械锌械芯', ar: '丞 爻亘乇爻' },
            '拽驻  拽驻': { en: 'Decaf Coffee', ru: '芯械 斜械蟹 泻芯械懈薪邪', ar: '丞 夭毓丞 丕丕' },
            '拽驻住转 住驻专住': { en: 'Nespresso Capsules', ru: '邪锌谢 械锌械芯', ar: '亘爻丕鬲 爻亘乇爻' },
            '拽驻住转 爪\'': { en: 'Dolce Gusto Capsules', ru: '邪锌谢 芯谢械 芯', ar: '亘爻丕鬲 丿鬲卮' },
            '拽驻住转 爪': { en: 'Lavazza Capsules', ru: '邪锌谢 邪胁邪芯', ar: '亘爻丕鬲 丕丕鬲夭丕' },
            '拽驻住转 住': { en: 'Tassimo Capsules', ru: '邪锌谢 孝邪懈屑芯', ar: '亘爻丕鬲 鬲丕爻' },
            '拽驻住转 专': { en: 'Landwer Capsules', ru: '邪锌谢 邪薪写胁械', ar: '亘爻丕鬲 丿乇' },
            '拽驻 拽 ': { en: 'Ground Roasted Coffee', ru: '芯谢芯泄 卸邪械薪泄 泻芯械', ar: '丞 丨氐丞 胤丨丞' },
            '转 专拽 住': { en: 'Jasmine Green Tea', ru: '械谢薪泄 邪泄  卸邪屑懈薪芯屑', ar: '卮丕 兀禺囟乇 亘丕丕爻' },
            '转 爪': { en: 'Herbal Tea', ru: '孝邪胁薪芯泄 邪泄', ar: '卮丕 兀毓卮丕亘' },
            '转 ': { en: 'Lemon Verbena Tea', ru: '效邪泄 懈蟹邪', ar: '卮丕 夭丕' },
            '转 驻': { en: 'Lipton Tea', ru: '效邪泄 懈锌芯薪', ar: '卮丕 亘鬲' },
            '转 住爪拽': { en: 'Wissotzky Tea', ru: '效邪泄 邪泄芯泻懈泄', ar: '卮丕 爻鬲爻' },
            '转 驻拽': { en: 'Pok茅mon Tea', ru: '效邪泄 芯泻械屑芯薪', ar: '卮丕 亘' },
            '转 拽': { en: 'Chamomile Tea', ru: '芯屑邪泻芯胁泄 邪泄', ar: '卮丕 亘丕亘噩' },
            '转 专': { en: 'Sage Tea', ru: '效邪泄  邪谢械械屑', ar: '卮丕 乇丞' },
            '转 \'\'专': { en: 'Ginger Tea', ru: '屑斜懈薪泄 邪泄', ar: '卮丕 夭噩亘' },
            '转 ': { en: 'Lemon Tea', ru: '懈屑芯薪薪泄 邪泄', ar: '卮丕 ' },
            '转 专 专': { en: 'Earl Grey Tea', ru: '效邪泄 协谢 械泄', ar: '卮丕 廿乇 睾乇丕' },
            '转 ': { en: 'English Tea', ru: '薪谐谢懈泄泻懈泄 邪泄', ar: '卮丕 廿噩夭' },
            ' 专': { en: 'Condensed Milk', ru: '小谐薪薪芯械 屑芯谢芯泻芯', ar: '丨亘 孬' },
            '住 拽驻': { en: 'Iced Coffee', ru: '泄 泻芯械', ar: '丞 孬噩丞' },
            '拽拽 砖拽': { en: 'Chocolate Cocoa', ru: '楔芯泻芯谢邪写薪泄 泻邪泻邪芯', ar: '丕丕 卮丕鬲丞' },
            // Drinks - 砖拽转 (missing)
            ' 注': { en: 'Flavored Water', ru: '芯屑邪懈蟹懈芯胁邪薪薪邪 胁芯写邪', ar: '丕 亘丕鬲' },
            ' 注': { en: 'Eden Water', ru: '芯写邪 协写械薪', ar: '丕 毓丿' },
            '注转': { en: 'Neviot Water', ru: '芯写邪 械胁懈芯', ar: '丕 毓鬲' },
            '拽 1.5 专': { en: 'Cola 1.5L', ru: '芯谢邪 1.5谢', ar: '丕 1.5 鬲乇' },
            '拽 1 专': { en: 'Cola 1L', ru: '芯谢邪 1谢', ar: '丕 1 鬲乇' },
            '拽 驻转': { en: 'Cola Can', ru: '芯谢邪 斜邪薪泻邪', ar: '丕 毓亘丞' },
            '砖砖转 拽': { en: 'Cola 6-Pack', ru: '芯谢邪 锌邪泻芯胁泻邪 6', ar: '毓亘丞 丕 6' },
            '砖砖转 拽 驻转': { en: 'Cola 6-Pack Cans', ru: '芯谢邪 6 斜邪薪芯泻', ar: '毓亘丞 丕 6 毓亘' },
            '拽 专 1.5 专': { en: 'Coke Zero 1.5L', ru: '芯谢邪 械芯 1.5谢', ar: '丕 夭乇 1.5 鬲乇' },
            '拽 专 1 专': { en: 'Coke Zero 1L', ru: '芯谢邪 械芯 1谢', ar: '丕 夭乇 1 鬲乇' },
            '拽 专 驻转': { en: 'Coke Zero Can', ru: '芯谢邪 械芯 斜邪薪泻邪', ar: '丕 夭乇 毓亘丞' },
            '砖砖转 拽 专': { en: 'Coke Zero 6-Pack', ru: '芯谢邪 械芯 锌邪泻芯胁泻邪 6', ar: '毓亘丞 丕 夭乇 6' },
            '拽 ': { en: 'Diet Coke', ru: '懈械懈械泻邪 泻芯谢邪', ar: '丕 丿丕鬲' },
            '拽  1.5 专': { en: 'Diet Coke 1.5L', ru: '懈械懈械泻邪 泻芯谢邪 1.5谢', ar: '丕 丿丕鬲 1.5 鬲乇' },
            '驻驻住': { en: 'Pepsi', ru: '械锌懈', ar: '亘亘爻' },
            '驻驻住 1.5 专': { en: 'Pepsi 1.5L', ru: '械锌懈 1.5谢', ar: '亘亘爻 1.5 鬲乇' },
            '驻驻住 驻转': { en: 'Pepsi Can', ru: '械锌懈 斜邪薪泻邪', ar: '亘亘爻 毓亘丞' },
            '砖砖转 驻驻住': { en: 'Pepsi 6-Pack', ru: '械锌懈 锌邪泻芯胁泻邪 6', ar: '毓亘丞 亘亘爻 6' },
            '驻驻住 拽住': { en: 'Pepsi Max', ru: '械锌懈 邪泻', ar: '亘亘爻 丕爻' },
            '驻驻住 拽住 1.5 专': { en: 'Pepsi Max 1.5L', ru: '械锌懈 邪泻 1.5谢', ar: '亘亘爻 丕爻 1.5 鬲乇' },
            '住驻专 1.5 专': { en: 'Sprite 1.5L', ru: '小锌邪泄 1.5谢', ar: '爻亘乇丕鬲 1.5 鬲乇' },
            '住驻专 驻转': { en: 'Sprite Can', ru: '小锌邪泄 斜邪薪泻邪', ar: '爻亘乇丕鬲 毓亘丞' },
            '砖砖转 住驻专': { en: 'Sprite 6-Pack', ru: '小锌邪泄 锌邪泻芯胁泻邪 6', ar: '毓亘丞 爻亘乇丕鬲 6' },
            '住驻专 专': { en: 'Sprite Zero', ru: '小锌邪泄 械芯', ar: '爻亘乇丕鬲 夭乇' },
            '驻': { en: 'Fanta', ru: '肖邪薪邪', ar: '丕鬲丕' },
            '驻 1.5 专': { en: 'Fanta 1.5L', ru: '肖邪薪邪 1.5谢', ar: '丕鬲丕 1.5 鬲乇' },
            '驻 驻转': { en: 'Fanta Can', ru: '肖邪薪邪 斜邪薪泻邪', ar: '丕鬲丕 毓亘丞' },
            '砖砖转 驻': { en: 'Fanta 6-Pack', ru: '肖邪薪邪 锌邪泻芯胁泻邪 6', ar: '毓亘丞 丕鬲丕 6' },
            '住': { en: 'Soda', ru: '小芯写芯胁邪', ar: '氐丿丕' },
            '住 驻转': { en: 'Soda Can', ru: '小芯写芯胁邪 斜邪薪泻邪', ar: '氐丿丕 毓亘丞' },
            '拽': { en: 'Tonic', ru: '孝芯薪懈泻', ar: '鬲' },
            '拽 驻转': { en: 'Tonic Can', ru: '孝芯薪懈泻 斜邪薪泻邪', ar: '鬲 毓亘丞' },
            '抓 转驻 住': { en: 'Fresh Orange Juice', ru: '小胁械卸械胁卸邪泄 邪锌械谢懈薪芯胁泄 芯泻', ar: '毓氐乇 亘乇鬲丕 胤丕夭噩' },
            '抓 转驻 1 专': { en: 'Orange Juice 1L', ru: '锌械谢懈薪芯胁泄 芯泻 1谢', ar: '毓氐乇 亘乇鬲丕 1 鬲乇' },
            '抓 注': { en: 'Grape Juice', ru: '懈薪芯谐邪写薪泄 芯泻', ar: '毓氐乇 毓亘' },
            '抓 专': { en: 'Carrot Juice', ru: '芯泻芯胁薪泄 芯泻', ar: '毓氐乇 噩夭乇' },
            '抓 专': { en: 'Pomegranate Juice', ru: '邪薪邪芯胁泄 芯泻', ar: '毓氐乇 乇丕' },
            '抓 驻专转': { en: 'Prigat Juice', ru: '小芯泻 懈谐邪', ar: '毓氐乇 亘乇噩丕鬲' },
            '抓 住驻专': { en: 'Spring Juice', ru: '小芯泻 小锌懈薪谐', ar: '毓氐乇 爻亘乇噩' },
            '拽专': { en: 'Nectar', ru: '械泻邪', ar: '鬲丕乇' },
            '转驻': { en: 'Tapuzina', ru: '孝邪锌蟹懈薪邪', ar: '鬲亘夭丕' },
            '': { en: 'Lemonade', ru: '懈屑芯薪邪写', ar: '丕囟丞' },
            '注注': { en: 'Mint Lemonade', ru: '薪泄 谢懈屑芯薪邪写', ar: '丕囟丞 亘丕毓丕毓' },
            'XL 专': { en: 'XL Energy', ru: 'XL 协薪械写卸懈', ar: '廿爻 廿 胤丕丞' },
            'XL 驻转': { en: 'XL Can', ru: 'XL 斜邪薪泻邪', ar: '廿爻 廿 毓亘丞' },
            '专 ': { en: 'Red Bull', ru: '械写 谢谢', ar: '乇丿 亘' },
            '专  驻转': { en: 'Red Bull Can', ru: '械写 谢谢 斜邪薪泻邪', ar: '乇丿 亘 毓亘丞' },
            '住专': { en: 'Monster', ru: '芯薪', ar: '爻鬲乇' },
            '住专 驻转': { en: 'Monster Can', ru: '芯薪 斜邪薪泻邪', ar: '爻鬲乇 毓亘丞' },
            '砖拽 住驻专': { en: 'Sports Drink', ru: '小锌芯懈胁薪泄 薪邪锌懈芯泻', ar: '卮乇亘 乇丕囟' },
            '砖拽 专': { en: 'Energy Drink', ru: '协薪械谐械懈械泻懈泄 薪邪锌懈芯泻', ar: '卮乇亘 胤丕丞' },
            '砖拽 ': { en: 'Isotonic Drink', ru: '蟹芯芯薪懈械泻懈泄 薪邪锌懈芯泻', ar: '卮乇亘 鬲爻丕 丕鬲鬲乇' },
            ' 拽拽住': { en: 'Coconut Water', ru: '芯泻芯芯胁邪 胁芯写邪', ar: '丕亍 噩夭 丕丿' },
            // Wine & Alcohol -   (missing)
            ' ': { en: 'Red Wine', ru: '邪薪芯械 胁懈薪芯', ar: '亘匕 兀丨乇' },
            ' ': { en: 'White Wine', ru: '械谢芯械 胁懈薪芯', ar: '亘匕 兀亘囟' },
            ' 专': { en: 'Ros茅 Wine', ru: '芯蟹芯胁芯械 胁懈薪芯', ar: '亘匕 乇夭' },
            ' 注注': { en: 'Sparkling Wine', ru: '谐懈芯械 胁懈薪芯', ar: '亘匕 丕乇' },
            ' 砖': { en: 'Dry Wine', ru: '小芯械 胁懈薪芯', ar: '亘匕 噩丕' },
            ' 爪 砖': { en: 'Semi-Dry Wine', ru: '芯谢芯械 胁懈薪芯', ar: '亘匕 氐 噩丕' },
            ' 转拽': { en: 'Sweet Wine', ru: '小谢邪写泻芯械 胁懈薪芯', ar: '亘匕 丨' },
            ' 拽砖': { en: 'Kiddush Wine', ru: '懈薪芯 写谢 泻懈写邪', ar: '亘匕 丕丿丕爻' },
            ' 驻住': { en: 'Passover Wine', ru: '懈薪芯 写谢 械邪邪', ar: '亘匕 毓丿 丕氐丨' },
            ' 专拽': { en: 'Barkan Wine', ru: '懈薪芯 邪泻邪薪', ar: '亘匕 亘乇丕' },
            ' 拽 ': { en: 'Golan Heights Wine', ru: '懈薪芯 芯谢邪薪泻懈械 胁芯', ar: '亘匕 乇鬲毓丕鬲 丕噩丕' },
            ' 专': { en: 'Carmel Wine', ru: '懈薪芯 邪屑械谢', ar: '亘匕 丕乇' },
            ' 驻专专': { en: 'Teperberg Wine', ru: '懈薪芯 孝械锌械斜械谐', ar: '亘匕 鬲亘乇亘乇睾' },
            ' 住': { en: 'Galil Wine', ru: '懈薪芯 邪谢懈谢', ar: '亘匕 丕噩' },
            ' 驻住转': { en: 'Psagot Wine', ru: '懈薪芯 邪谐芯', ar: '亘匕 亘爻丕噩鬲' },
            ' 专转 ': { en: 'Ramat Negev Wine', ru: '懈薪芯 邪屑邪 械谐械胁', ar: '亘匕 乇丕丕鬲 丕亘' },
            ' 专': { en: 'Arza Wine', ru: '懈薪芯 蟹邪', ar: '亘匕 兀乇夭丕' },
            ' 转专': { en: 'Yatir Wine', ru: '懈薪芯 携懈', ar: '亘匕 鬲乇' },
            '砖驻': { en: 'Champagne', ru: '楔邪屑锌邪薪泻芯械', ar: '卮丕亘丕丕' },
            '驻专住拽': { en: 'Prosecco', ru: '芯械泻泻芯', ar: '亘乇爻' },
            '拽': { en: 'Cava', ru: '邪胁邪', ar: '丕丕' },
            '住转': { en: 'Asti', ru: '懈', ar: '兀爻鬲' },
            '专': { en: 'Beer', ru: '懈胁芯', ar: '亘乇丞' },
            '专 住专': { en: 'Goldstar Beer', ru: '懈胁芯 芯谢写邪', ar: '亘乇丞 噩丿爻鬲丕乇' },
            '专 ': { en: 'Maccabee Beer', ru: '懈胁芯 邪泻泻邪斜懈', ar: '亘乇丞 丕亘' },
            '专 拽专住专': { en: 'Carlsberg Beer', ru: '懈胁芯 邪谢斜械谐', ar: '亘乇丞 丕乇爻亘乇睾' },
            '专 拽': { en: 'Heineken Beer', ru: '懈胁芯 啸邪泄薪械泻械薪', ar: '亘乇丞 丕' },
            '专 拽专': { en: 'Corona Beer', ru: '懈胁芯 芯芯薪邪', ar: '亘乇丞 乇丕' },
            '专 住': { en: 'Stella Beer', ru: '懈胁芯 小械谢谢邪', ar: '亘乇丞 爻鬲丕' },
            '专 专': { en: 'Tuborg Beer', ru: '懈胁芯 孝斜芯谐', ar: '亘乇丞 鬲亘乇睾' },
            '专 住专': { en: 'Alexander Beer', ru: '懈胁芯 谢械泻邪薪写', ar: '亘乇丞 兀爻丿乇' },
            '专 转': { en: 'Bazelet Beer', ru: '懈胁芯 邪蟹械谢械', ar: '亘乇丞 亘丕夭鬲' },
            '专 ': { en: 'Malka Beer', ru: '懈胁芯 邪谢泻邪', ar: '亘乇丞 丞' },
            '专  ': { en: 'Non-Alcoholic Beer', ru: '械蟹邪谢泻芯谐芯谢薪芯械 锌懈胁芯', ar: '亘乇丞 亘丿 丨' },
            '住专': { en: 'Cider', ru: '小懈写', ar: '爻丕丿乇' },
            '住专 转驻': { en: 'Apple Cider', ru: '携斜谢芯薪泄 懈写', ar: '爻丕丿乇 鬲丕丨' },
            '注专拽': { en: 'Arak', ru: '邪泻', ar: '毓乇' },
            '注专拽 转': { en: 'Elite Arak', ru: '邪泻 协谢懈', ar: '毓乇 廿鬲' },
            '拽': { en: 'Vodka', ru: '芯写泻邪', ar: '丿丕' },
            '拽 住': { en: 'Absolut Vodka', ru: '芯写泻邪 斜芯谢', ar: '丿丕 兀亘爻鬲' },
            '拽 住专祝': { en: 'Smirnoff Vodka', ru: '芯写泻邪 小屑懈薪芯胁', ar: '丿丕 爻乇' },
            '拽 专 住': { en: 'Grey Goose Vodka', ru: '芯写泻邪 械泄 ', ar: '丿丕 睾乇丕 睾爻' },
            '住拽': { en: 'Whiskey', ru: '懈泻懈', ar: '爻' },
            '住拽 \' 拽专': { en: 'Johnnie Walker', ru: '卸芯薪薪懈 校芯泻械', ar: '噩 乇' },
            '住拽 \'拽 住': { en: 'Jack Daniels', ru: '卸械泻 薪懈械谢', ar: '噩丕 丿丕夭' },
            '住拽 \'住': { en: 'Jameson', ru: '卸械泄屑芯薪', ar: '噩爻' },
            '专': { en: 'Rum', ru: '芯屑', ar: '乇' },
            '专 拽专': { en: 'Bacardi Rum', ru: '芯屑 邪泻邪写懈', ar: '乇 亘丕丕乇丿' },
            '\'': { en: 'Gin', ru: '卸懈薪', ar: '噩' },
            '\' 专住': { en: 'Gordons Gin', ru: '卸懈薪 芯写芯薪', ar: '噩 睾乇丿夭' },
            '拽': { en: 'Tequila', ru: '孝械泻懈谢邪', ar: '鬲丕' },
            '拽拽': { en: 'Cognac', ru: '芯薪泻', ar: '丕' },
            '专': { en: 'Brandy', ru: '械薪写懈', ar: '亘乇丕丿' },
            '拽专': { en: 'Liqueur', ru: '懈泻', ar: '乇' },
            '拽专 拽驻': { en: 'Coffee Liqueur', ru: '芯械泄薪泄 谢懈泻', ar: '乇 丞' },
            '拽专 砖拽': { en: 'Chocolate Liqueur', ru: '楔芯泻芯谢邪写薪泄 谢懈泻', ar: '乇 卮丕鬲丞' },
            '拽专 驻专转': { en: 'Fruit Liqueur', ru: '肖泻芯胁泄 谢懈泻', ar: '乇 丕' },
            '专': { en: 'Amaretto', ru: '屑邪械芯', ar: '兀丕乇鬲' },
            '住': { en: 'Baileys', ru: '械泄谢懈', ar: '亘夭' },
            '拽驻专': { en: 'Campari', ru: '邪屑锌邪懈', ar: '丕亘丕乇' },
            '驻专': { en: 'Aperol', ru: '锌械芯谢', ar: '兀亘乇' },
            '住专': { en: 'Sangria', ru: '小邪薪谐懈', ar: '爻丕睾乇丕' },
            // Cereals -  (missing)
            '拽专驻拽住 拽住': { en: 'Classic Cornflakes', ru: '谢邪懈械泻懈械 泻泻蟹薪械 谢芯锌', ar: '乇 爻 丕爻' },
            '拽专驻拽住 砖': { en: 'Honey Cornflakes', ru: '泻蟹薪械 谢芯锌  屑写芯屑', ar: '乇 爻 毓爻' },
            '拽专驻拽住 砖拽': { en: 'Chocolate Cornflakes', ru: '楔芯泻芯谢邪写薪械 泻泻蟹薪械 谢芯锌', ar: '乇 爻 卮丕鬲丞' },
            '拽专驻拽住 专转': { en: 'Pillow Cereal', ru: '芯写械泻懈', ar: '丨亘亘 爻丕卅丿' },
            '拽专驻拽住 驻专转': { en: 'Fruit Cornflakes', ru: '肖泻芯胁械 泻泻蟹薪械 谢芯锌', ar: '乇 爻 丕' },
            '专拽住': { en: 'Trix', ru: '孝懈泻', ar: '鬲乇爻' },
            '驻转转 转专住': { en: 'Corn Flakes', ru: '泻蟹薪械 谢芯锌', ar: '乇丕卅 丕匕乇丞' },
            '专': { en: 'Granola', ru: '邪薪芯谢邪', ar: '噩乇丕丕' },
            '专 砖拽': { en: 'Chocolate Granola', ru: '楔芯泻芯谢邪写薪邪 谐邪薪芯谢邪', ar: '噩乇丕丕 卮丕鬲丞' },
            '专 驻专转': { en: 'Fruit Granola', ru: '肖泻芯胁邪 谐邪薪芯谢邪', ar: '噩乇丕丕 丕' },
            '专 ': { en: 'Nut Granola', ru: '邪薪芯谢邪  芯械邪屑懈', ar: '噩乇丕丕 爻乇丕鬲' },
            '': { en: 'Muesli', ru: '谢懈', ar: '爻' },
            '砖转 砖注': { en: 'Oatmeal', ru: '胁薪械 谢芯锌', ar: '卮丕' },
            '驻爪驻爪 专': { en: 'Rice Puffs', ru: '芯蟹写薪泄 懈', ar: '兀乇夭 禺' },
            '拽拽专': { en: 'Quaker Oats', ru: '胁邪泻械', ar: '乇' },
            ' ': { en: 'Whole Grain Cereal', ru: '笑械谢薪芯蟹械薪芯胁械 谢芯锌', ar: '丨亘亘 丕丞' },
            ' 住': { en: 'Mini Wheats', ru: '懈薪懈 懈', ar: ' 鬲爻' },
            '爪\'专住': { en: 'Cheerios', ru: '效懈懈芯', ar: '鬲卮乇夭' },
            '住 驻住': { en: 'Nestle Fitness', ru: '械谢械 肖懈薪械', ar: '爻鬲 鬲爻' },
            '住拽 专': { en: 'Snack Bar', ru: '小薪泻 斜邪', ar: '亘丕乇 噩亘丞 禺丞' },
            '祝 ': { en: 'Cereal Bar', ru: '谢邪泻芯胁泄 斜邪芯薪懈泻', ar: '亘丕乇 丨亘亘' },
            '祝 专': { en: 'Granola Bar', ru: '邪芯薪懈泻 谐邪薪芯谢邪', ar: '亘丕乇 噩乇丕丕' },
            ' 专': { en: 'All Bran', ru: '谢谢 邪薪', ar: '兀 亘乇丕' },
            '驻专 驻住': { en: 'Froot Loops', ru: '肖 锌', ar: '乇鬲 亘爻' },
            '拽拽 驻驻住': { en: 'Coco Pops', ru: '芯泻芯 芯锌', ar: ' 亘亘爻' },
            '': { en: 'Lion', ru: '邪泄芯薪', ar: '' },
            '住拽住': { en: 'Smacks', ru: '小屑泻', ar: '爻丕爻' },
            '爪\'专住': { en: 'Cheerios', ru: '效懈懈薪谐', ar: '鬲卮乇噩夭' },
            '拽专抓\'': { en: 'Crunch', ru: '邪薪', ar: '乇丕卮' },
            '住 拽专抓\'': { en: 'Cini Crunch', ru: '小懈薪懈 邪薪', ar: '爻 乇丕卮' },
            '专 砖拽': { en: 'Chocolate Balls', ru: '楔芯泻芯谢邪写薪械 邪懈泻懈', ar: '乇丕鬲 卮丕鬲丞' },
            // Frozen - 拽驻 (missing)
            ' ': { en: 'Vanilla Ice Cream', ru: '邪薪懈谢薪芯械 屑芯芯卸械薪芯械', ar: '丌爻 乇 丕丕' },
            ' 砖拽': { en: 'Chocolate Ice Cream', ru: '楔芯泻芯谢邪写薪芯械 屑芯芯卸械薪芯械', ar: '丌爻 乇 卮丕鬲丞' },
            ' 转转': { en: 'Strawberry Ice Cream', ru: '谢斜薪懈薪芯械 屑芯芯卸械薪芯械', ar: '丌爻 乇 乇丕丞' },
            ' 驻住拽': { en: 'Pistachio Ice Cream', ru: '肖懈邪泻芯胁芯械 屑芯芯卸械薪芯械', ar: '丌爻 乇 爻鬲' },
            ' 拽专': { en: 'Caramel Ice Cream', ru: '邪邪屑械谢薪芯械 屑芯芯卸械薪芯械', ar: '丌爻 乇 乇丕' },
            '转 驻专': { en: 'Pareve Ice Cream', ru: '邪胁械 屑芯芯卸械薪芯械', ar: '丌爻 乇 亘丕乇' },
            '专拽': { en: 'Popsicle', ru: '协泻懈屑芯', ar: '孬噩丕鬲' },
            '': { en: 'Magnum', ru: '邪谐薪屑', ar: '丕睾' },
            '拽专': { en: 'Cornetto', ru: '芯薪械芯', ar: '乇鬲' },
            '砖': { en: 'Shalgon', ru: '楔邪谢谐芯薪', ar: '卮丕噩' },
            '驻专转 拽驻': { en: 'Frozen Fruits', ru: '邪屑芯芯卸械薪薪械 泻', ar: '丕 噩丿丞' },
            '转转 拽驻': { en: 'Frozen Strawberries', ru: '邪屑芯芯卸械薪薪邪 泻谢斜薪懈泻邪', ar: '乇丕丞 噩丿丞' },
            '驻 拽驻': { en: 'Frozen Raspberries', ru: '邪屑芯芯卸械薪薪邪 屑邪谢懈薪邪', ar: '鬲鬲 丕毓 噩丿' },
            '转 拽驻转': { en: 'Frozen Blueberries', ru: '邪屑芯芯卸械薪薪邪 械薪懈泻邪', ar: '鬲鬲 兀夭乇 噩丿' },
            ' 拽驻': { en: 'Frozen Mango', ru: '邪屑芯芯卸械薪薪泄 屑邪薪谐芯', ar: '丕噩 噩丿' },
            '专拽转 拽驻': { en: 'Frozen Vegetables', ru: '邪屑芯芯卸械薪薪械 芯胁芯懈', ar: '禺囟丕乇 噩丿丞' },
            '专拽转 拽驻爪': { en: 'Stir Fry Vegetables', ru: '胁芯懈 写谢 卸邪泻懈', ar: '禺囟丕乇 ' },
            '驻 拽驻': { en: 'Frozen Peas', ru: '邪屑芯芯卸械薪薪泄 谐芯芯械泻', ar: '亘丕夭丕亍 噩丿丞' },
            '转专住 拽驻': { en: 'Frozen Corn', ru: '邪屑芯芯卸械薪薪邪 泻泻蟹邪', ar: '匕乇丞 噩丿丞' },
            '砖注注转 专拽 拽驻': { en: 'Frozen Green Beans', ru: '邪屑芯芯卸械薪薪邪 泻芯胁邪 邪芯谢', ar: '丕氐丕 禺囟乇丕亍 噩丿丞' },
            '专拽 拽驻': { en: 'Frozen Broccoli', ru: '邪屑芯芯卸械薪薪邪 斜芯泻泻芯谢懈', ar: '亘乇 噩丿' },
            '转专 拽驻': { en: 'Frozen Spinach', ru: '邪屑芯芯卸械薪薪泄 锌懈薪邪', ar: '爻亘丕禺 噩丿丞' },
            '砖爪 拽驻': { en: 'Frozen Schnitzel', ru: '邪屑芯芯卸械薪薪泄 薪懈械谢', ar: '卮鬲爻 噩丿' },
            '住 拽驻': { en: 'Frozen Nuggets', ru: '邪屑芯芯卸械薪薪械 薪邪谐谐械', ar: '丕噩鬲爻 噩丿丞' },
            '拽爪爪转 拽驻转': { en: 'Frozen Meatballs', ru: '邪屑芯芯卸械薪薪械 泻芯谢械', ar: '鬲丞 噩丿丞' },
            '驻爪 拽驻': { en: 'Frozen Pizza', ru: '邪屑芯芯卸械薪薪邪 锌懈邪', ar: '亘鬲夭丕 噩丿丞' },
            '驻爪 砖驻转转': { en: 'Family Pizza', ru: '小械屑械泄薪邪 锌懈邪', ar: '亘鬲夭丕 毓丕卅丞' },
            ' 拽驻': { en: 'Frozen Lasagna', ru: '邪屑芯芯卸械薪薪邪 谢邪蟹邪薪', ar: '丕夭丕丕 噩丿丞' },
            '爪拽 注': { en: 'Puff Pastry', ru: '小谢芯薪芯械 械芯', ar: '毓噩丞 亘丕' },
            '爪拽 驻': { en: 'Phyllo Dough', ru: '孝械芯 懈谢芯', ar: '毓噩丞 ' },
            '爪拽 驻爪': { en: 'Pizza Dough', ru: '孝械芯 写谢 锌懈', ar: '毓噩丞 亘鬲夭丕' },
            '爪拽 驻': { en: 'Pastry Dough', ru: '孝械芯 写谢 胁锌械泻懈', ar: '毓噩丞 毓噩丕鬲' },
            '爪拽 \'': { en: 'Jachnun Dough', ru: '孝械芯 写谢 写卸邪薪薪邪', ar: '毓噩丞 噩丨' },
            '爪拽 ': { en: 'Malawach Dough', ru: '孝械芯 写谢 屑邪谢邪胁邪', ar: '毓噩丞 丨' },
            '爪拽 住住拽': { en: 'Sambousek Dough', ru: '孝械芯 写谢 邪屑斜械泻', ar: '毓噩丞 爻亘爻' },
            '爪拽 专拽住': { en: 'Bourekas Dough', ru: '孝械芯 写谢 斜芯械泻邪', ar: '毓噩丞 亘乇' },
            '爪\'住': { en: 'Blintzes', ru: '谢懈薪懈泻懈', ar: '亘鬲夭' },
            '拽专驻': { en: 'Crepes', ru: '谢懈薪', ar: '乇亘' },
            '驻 拽驻': { en: 'Frozen Waffle', ru: '邪屑芯芯卸械薪薪械 胁邪谢懈', ar: '丕 噩丿' },
            '\' 驻 ': { en: 'Ready Baked Jachnun', ru: '芯芯胁泄 写卸邪薪薪', ar: '噩丨 噩丕夭' },
            // Health - 专转 (missing)
            '专 ': { en: 'Protein Yogurt', ru: '芯械懈薪芯胁泄 泄芯谐', ar: '夭亘丕丿 亘乇鬲' },
            '砖拽 ': { en: 'Protein Drink', ru: '芯械懈薪芯胁泄 薪邪锌懈芯泻', ar: '卮乇亘 亘乇鬲' },
            '砖拽 ': { en: 'Protein Shake', ru: '芯械懈薪芯胁泄 泻芯泻械泄谢', ar: '卮 亘乇鬲' },
            '拽转 ': { en: 'Protein Powder', ru: '芯械懈薪芯胁泄 锌芯芯芯泻', ar: '爻丨 亘乇鬲' },
            '驻专 专': { en: 'Protein Bar', ru: '芯械懈薪芯胁泄 斜邪芯薪懈泻', ar: '亘丕乇 亘乇鬲' },
            '祝 ': { en: 'Protein Snack', ru: '芯械懈薪芯胁泄 薪泻', ar: '噩亘丞 亘乇鬲 禺丞' },
            '祝 专': { en: 'Energy Snack', ru: '协薪械谐械懈械泻懈泄 薪泻', ar: '噩亘丞 胤丕丞 禺丞' },
            '驻转 ': { en: 'Whole Wheat Pita', ru: '笑械谢薪芯蟹械薪芯胁邪 锌懈邪', ar: '亘鬲丕 丨 丕' },
            '拽专拽专 ': { en: 'Grain Crackers', ru: '械薪芯胁械 泻械泻械', ar: '乇卮丕鬲 丨亘亘' },
            '拽专拽专 专': { en: 'Rice Crackers', ru: '懈芯胁械 泻械泻械', ar: '乇卮丕鬲 兀乇夭' },
            '住 ': { en: 'Tuna Salad', ru: '小邪谢邪 懈蟹 薪邪', ar: '爻胤丞 鬲丞' },
            ' 注祝 注砖': { en: 'Smoked Chicken Breast', ru: '芯锌薪邪 泻懈薪邪 谐写泻邪', ar: '氐丿乇 丿噩丕噩 丿禺' },
            '专 专转': { en: 'Health Granola', ru: '邪薪芯谢邪 蟹写芯芯胁械', ar: '噩乇丕丕 氐丨丞' },
            '专注 爪\'': { en: 'Chia Seeds', ru: '小械屑械薪邪 懈邪', ar: '亘匕乇 丕卮丕' },
            '专注 驻砖转': { en: 'Flax Seeds', ru: '小械屑械薪邪 谢薪邪', ar: '亘匕乇 丕鬲丕' },
            ' 注': { en: 'Natural Nuts', ru: '邪邪谢薪械 芯械懈', ar: '爻乇丕鬲 胤亘毓丞' },
            '砖拽 注': { en: 'Natural Almonds', ru: '邪邪谢薪泄 屑懈薪写邪谢', ar: '夭 胤亘毓' },
            '驻专转 砖  住专': { en: 'Sugar-Free Dried Fruits', ru: '小芯泻 斜械蟹 邪邪邪', ar: '丕 噩丞 亘丿 爻乇' },
            '\' 专': { en: 'Goji Berries', ru: '携谐芯写 谐芯写卸懈', ar: '鬲鬲 睾噩' },
            '住驻专': { en: 'Spirulina', ru: '小锌懈谢懈薪邪', ar: '爻亘乇丕' },
            '': { en: 'Vitamins', ru: '懈邪屑懈薪', ar: '鬲丕丕鬲' },
            ' 3': { en: 'Omega 3', ru: '屑械谐邪 3', ar: '兀睾丕 3' },
            '驻专拽': { en: 'Probiotics', ru: '芯斜懈芯懈泻懈', ar: '亘乇亘鬲' },
            // Cleaning - 拽 (missing)
            '专  转转 砖转': { en: 'Triple Layer Toilet Paper', ru: '孝谢芯泄薪邪 邪谢械薪邪 斜屑邪谐邪', ar: '乇 鬲丕鬲 孬丕孬 胤亘丕鬲' },
            '转 专 ': { en: 'Hand Paper Towels', ru: '屑邪卸薪械 锌芯谢芯械薪邪 写谢 泻', ar: '丕丿 乇丞 丿' },
            '住  驻专': { en: 'Fairy Dish Soap', ru: '芯械械 械写胁芯 肖械泄懈', ar: '氐丕亘 兀胤亘丕 乇' },
            '拽转 住 专': { en: 'Ariel Laundry Powder', ru: '小懈邪谢薪泄 锌芯芯芯泻 懈谢', ar: '爻丨 睾爻 兀乇丕' },
            '\' 住 专': { en: 'Concentrated Laundry Gel', ru: '芯薪械薪懈芯胁邪薪薪泄 谐械谢 写谢 懈泻懈', ar: '噩 睾爻 乇夭' },
            '拽驻住转 住': { en: 'Laundry Pods', ru: '邪锌谢 写谢 懈泻懈', ar: '亘爻丕鬲 睾爻' },
            '专 住': { en: 'Fabric Softener', ru: '芯薪写懈懈芯薪械 写谢 斜械谢', ar: '毓 兀卮丞' },
            '砖 住': { en: 'Laundry Fragrance', ru: '芯屑邪懈蟹邪芯 写谢 斜械谢', ar: '毓胤乇 睾爻' },
            '拽拽 \'': { en: 'Bleach Gel', ru: '械谢  谢芯芯屑', ar: '噩 亘囟' },
            '抓 住': { en: 'Laundry Booster', ru: '校懈谢懈械谢 懈泻懈', ar: '毓夭夭 睾爻' },
            '拽 专爪驻转 住': { en: 'Sano Floor Cleaner', ru: '小械写胁芯 写谢 锌芯谢邪 小邪薪芯', ar: '馗 兀乇囟丕鬲 爻丕' },
            '拽 转': { en: 'Window Cleaner', ru: '小械写胁芯 写谢 芯泻芯薪', ar: '馗 夭噩丕噩' },
            '拽 ': { en: 'Bathroom Cleaner', ru: '小械写胁芯 写谢 胁邪薪薪芯泄', ar: '馗 丨丕' },
            '拽 砖专转': { en: 'Toilet Cleaner', ru: '小械写胁芯 写谢 薪懈邪蟹邪', ar: '馗 乇丨丕囟' },
            '拽 专': { en: 'Stovetop Cleaner', ru: '小械写胁芯 写谢 锌谢懈', ar: '馗 丿' },
            '拽 转专': { en: 'Oven Cleaner', ru: '小械写胁芯 写谢 写芯胁泻懈', ar: '馗 乇' },
            '拽 砖': { en: 'Degreaser', ru: '斜械蟹卸懈懈胁邪械谢', ar: '夭 丿' },
            '拽转 拽': { en: 'Cleaning Powder', ru: '效懈懈泄 锌芯芯芯泻', ar: '爻丨 鬲馗' },
            '住祝': { en: 'Cif', ru: '小懈', ar: '爻' },
            '专 住拽': { en: 'Mr. Muscle', ru: '懈械 泻谢', ar: '爻鬲乇 丕爻' },
            '住驻': { en: 'Sponges', ru: '斜泻懈', ar: '廿爻噩' },
            '住驻 驻': { en: 'Steel Wool', ru: '械邪谢谢懈械泻懈械 谐斜泻懈', ar: ' 毓丿' },
            '转 专爪驻': { en: 'Floor Cloths', ru: '孝锌泻懈 写谢 锌芯谢邪', ar: '丕卮 兀乇囟丞' },
            '转 拽': { en: 'Cleaning Cloths', ru: '小邪谢械泻懈 写谢 斜芯泻懈', ar: '丕卮 鬲馗' },
            '砖拽转 砖驻 转': { en: 'Large Garbage Bags', ru: '芯谢懈械 屑芯薪械 锌邪泻械', ar: '兀丕爻 丕丞 亘乇丞' },
            '砖拽转 砖驻 专转': { en: 'Scented Garbage Bags', ru: '芯屑邪懈蟹懈芯胁邪薪薪械 屑芯薪械 锌邪泻械', ar: '兀丕爻 丕丞 毓胤乇丞' },
            '砖拽转 驻拽': { en: 'Ziplock Bags', ru: '邪泻械  蟹邪屑泻芯屑', ar: '兀丕爻 夭亘' },
            '砖拽转 专': { en: 'Sandwich Bags', ru: '邪泻械 写谢 薪写胁懈械泄', ar: '兀丕爻 爻丕丿鬲卮' },
            '砖拽转 拽驻': { en: 'Freezer Bags', ru: '邪泻械 写谢 蟹邪屑芯芯蟹泻懈', ar: '兀丕爻 鬲噩丿' },
            '专 驻': { en: 'Baking Paper', ru: '屑邪谐邪 写谢 胁锌械泻懈', ar: '乇 禺亘夭' },
            '专 ': { en: 'Aluminum Foil', ru: '谢屑懈薪懈械胁邪 芯谢谐邪', ar: '乇 兀' },
            ' 爪': { en: 'Cling Wrap', ru: '懈械胁邪 锌谢薪泻邪', ar: '睾丕 亘丕爻鬲' },
            '转 ': { en: 'Dishwasher Tablets', ru: '孝邪斜谢械泻懈 写谢 锌芯写芯屑芯泄泻懈', ar: '兀乇丕氐 睾爻丕丞 氐丨' },
            ' ': { en: 'Dishwasher Salt', ru: '小芯谢 写谢 锌芯写芯屑芯泄泻懈', ar: '丨 睾爻丕丞 氐丨' },
            ' 专拽 ': { en: 'Dishwasher Rinse Aid', ru: '锌芯谢邪泻懈胁邪械谢 写谢 锌芯写芯屑芯泄泻懈', ar: '毓 睾爻丕丞 氐丨' },
            '拽 ': { en: 'Dishwasher Cleaner', ru: '懈懈械谢 锌芯写芯屑芯泄泻懈', ar: '馗 睾爻丕丞 氐丨' },
            '专 砖驻': { en: 'Trash Deodorizer', ru: '芯谐谢芯懈械谢 蟹邪锌邪邪', ar: '夭 乇丕卅丨 丕丕丞' },
            // Hygiene -  (missing)
            '专砖 专砖转': { en: 'Brush Heads', ru: '邪邪写泻懈 写谢 泻懈', ar: '乇丐爻 乇卮丕丞' },
            '砖驻 驻': { en: 'Pantene Shampoo', ru: '楔邪屑锌薪 邪薪懈薪', ar: '卮丕亘 亘丕鬲' },
            '砖驻 砖注专 砖': { en: 'Dry Hair Shampoo', ru: '楔邪屑锌薪 写谢 懈 胁芯谢芯', ar: '卮丕亘 卮毓乇 丕噩丕' },
            '砖驻 砖注专 砖': { en: 'Oily Hair Shampoo', ru: '楔邪屑锌薪 写谢 卸懈薪 胁芯谢芯', ar: '卮丕亘 卮毓乇 丕丿' },
            '专 砖注专': { en: 'Hair Conditioner', ru: '芯薪写懈懈芯薪械 写谢 胁芯谢芯', ar: '亘爻 卮毓乇' },
            '住专 砖注专': { en: 'Hair Serum', ru: '小胁芯芯泻邪 写谢 胁芯谢芯', ar: '爻乇 卮毓乇' },
            '拽爪祝 砖注专': { en: 'Hair Mousse', ru: ' 写谢 胁芯谢芯', ar: '爻 卮毓乇' },
            '砖驻 ': { en: 'Kids Shampoo', ru: '械泻懈泄 邪屑锌薪', ar: '卮丕亘 兀胤丕' },
            '\' 专爪 ': { en: 'Nivea Shower Gel', ru: '械谢 写谢 写邪 懈胁械', ar: '噩 丕爻鬲丨丕 丕' },
            '\' ': { en: 'Shaving Gel', ru: '械谢 写谢 斜懈', ar: '噩 丨丕丞' },
            '住  \'': { en: 'Gillette Razors', ru: '懈胁 懈谢械', ar: '卮乇丕鬲 噩鬲' },
            '专': { en: 'Deodorant', ru: '械蟹芯写芯邪薪', ar: '夭 毓乇' },
            '驻专住驻专': { en: 'Antiperspirant', ru: '薪懈锌械锌懈邪薪', ar: '囟丕丿 丕鬲毓乇' },
            '拽专 转': { en: 'Moisturizer', ru: '校胁谢邪卸薪懈泄 泻械屑', ar: '乇 乇胤亘' },
            '拽专 专': { en: 'Foot Cream', ru: '械屑 写谢 薪芯谐', ar: '乇 兀丿丕' },
            '砖 祝': { en: 'Body Oil', ru: '邪谢芯 写谢 械谢邪', ar: '夭鬲 噩爻' },
            '拽专 砖祝': { en: 'Tanning Cream', ru: '械屑 写谢 蟹邪谐邪邪', ar: '乇 鬲爻乇' },
            '驻专 住': { en: 'After Sun', ru: '芯谢械 蟹邪谐邪邪', ar: '亘毓丿 丕卮爻' },
            ' 住专转 驻专': { en: 'Makeup Remover Wipes', ru: '小邪谢械泻懈 写谢 薪懈 屑邪泻懈卸邪', ar: '丕丿 廿夭丕丞 丕丕噩' },
            // Candles - 专转 (missing)
            '专转  爪注': { en: 'Colorful Hanukkah Candles', ru: '笑胁械薪械 胁械懈 啸邪薪泻懈', ar: '卮毓 丨丕丕 丞' },
            '专 砖 24 砖注转': { en: 'Memorial Candle 24H', ru: '芯屑懈薪邪谢薪邪 胁械邪 24', ar: '卮毓丞 匕乇 24 爻丕毓丞' },
            '专 砖 48 砖注转': { en: 'Memorial Candle 48H', ru: '芯屑懈薪邪谢薪邪 胁械邪 48', ar: '卮毓丞 匕乇 48 爻丕毓丞' },
            '专 砖 7 ': { en: 'Memorial Candle 7 Days', ru: '芯屑懈薪邪谢薪邪 胁械邪 7 写薪械泄', ar: '卮毓丞 匕乇 7 兀丕' },
            '专 ': { en: 'Havdalah Candle', ru: '小胁械邪 啸邪胁写邪谢邪', ar: '卮毓丞 丿丕丕' },
            '专转  转': { en: 'Birthday Candles', ru: '小胁械懈 写谢 写薪 芯卸写械薪懈', ar: '卮毓 毓丿 丕丿' },
            '专转 专': { en: 'Scented Candles', ru: '芯屑邪懈械泻懈械 胁械懈', ar: '卮毓 毓胤乇丞' },
            '专转 拽专': { en: 'Decorative Candles', ru: '械泻芯邪懈胁薪械 胁械懈', ar: '卮毓 丿乇' },
            '驻转转': { en: 'Wicks', ru: '肖懈懈谢懈', ar: '鬲丕卅' },
            '驻专专': { en: 'Matches', ru: '小锌懈泻懈', ar: '亘乇鬲' },
            '爪转': { en: 'Lighters', ru: '邪卸懈谐邪谢泻懈', ar: '丕毓丕鬲' },
            // Baby - 转拽转 (missing)
            ' 转拽转': { en: 'Baby Wipes', ru: '械泻懈械 邪谢械泻懈', ar: '丕丿 兀胤丕' },
            '砖驻 转拽转': { en: 'Baby Shampoo', ru: '械泻懈泄 邪屑锌薪', ar: '卮丕亘 兀胤丕' },
            '拽专 驻砖': { en: 'Tush Cream', ru: '械屑 写谢 锌芯锌', ar: '乇 丐禺乇丞' },
            '拽专 住': { en: 'Desitin Cream', ru: '械屑 械懈懈薪', ar: '乇 丿爻鬲' },
            '拽专 驻 转拽': { en: 'Baby Face Cream', ru: '械泻懈泄 泻械屑 写谢 谢懈邪', ar: '乇 噩 兀胤丕' },
            '住 转拽转': { en: 'Baby Bissli', ru: '懈谢懈 写谢 写械械泄', ar: '亘爻 兀胤丕' },
            '抓 转拽转': { en: 'Baby Juice', ru: '械泻懈泄 芯泻', ar: '毓氐乇 兀胤丕' },
            '专砖转 砖 转拽': { en: 'Baby Toothbrush', ru: '械泻邪 蟹斜薪邪 泻邪', ar: '乇卮丕丞 兀爻丕 兀胤丕' },
            '砖转 砖 转拽': { en: 'Baby Toothpaste', ru: '械泻邪 蟹斜薪邪 锌邪邪', ar: '毓噩 兀爻丕 兀胤丕' },
            '砖驻 ': { en: 'Kids Shampoo', ru: '械泻懈泄 邪屑锌薪', ar: '卮丕亘 兀胤丕' },
            '住 ': { en: 'Kids Soap', ru: '械泻芯械 屑谢芯', ar: '氐丕亘 兀胤丕' },
            // Pets - 转  (missing)
            ' ': { en: 'Dog Food', ru: '芯屑 写谢 芯斜邪泻', ar: '胤毓丕 丕亘' },
            '  专': { en: 'Adult Dog Food', ru: '芯屑 写谢 胁蟹芯谢 芯斜邪泻', ar: '胤毓丕 丕亘 丕亘丕睾丞' },
            ' 转': { en: 'Cat Food', ru: '芯屑 写谢 泻芯械泻', ar: '胤毓丕 胤胤' },
            ' 转 专': { en: 'Adult Cat Food', ru: '芯屑 写谢 胁蟹芯谢 泻芯械泻', ar: '胤毓丕 胤胤 丕亘丕睾丞' },
            ' 转': { en: 'Cat Litter', ru: '邪锌芯谢薪懈械谢 写谢 泻芯械泻', ar: '乇 胤胤' },
            '住拽住': { en: 'Dentastix', ru: '械薪邪懈泻', ar: '丿鬲丕爻鬲爻' },
            '住专拽 ': { en: 'Dog Brush', ru: '邪泻邪 写谢 芯斜邪泻', ar: '乇卮丕丞 亘' },
            '砖 ': { en: 'Training Pad', ru: '械谢薪泻邪 写谢 锌懈械薪懈', ar: '爻丕丿丞 鬲丿乇亘' },
            // Desserts - 拽 (missing)
            '拽': { en: 'Milky', ru: '懈谢泻懈', ar: '' },
            '拽 专': { en: 'Milky Oreo', ru: '懈谢泻懈 械芯', ar: ' 兀乇' },
            '': { en: 'Danone', ru: '邪薪芯薪', ar: '丿丕' },
            ' 砖拽': { en: 'Chocolate Danone', ru: '邪薪芯薪 芯泻芯谢邪写薪泄', ar: '丿丕 卮丕鬲丞' },
            '驻': { en: 'Yoplait', ru: '芯锌谢械泄', ar: '亘' },
            '': { en: 'Daniella', ru: '邪薪懈谢邪', ar: '丿丕丕' },
            '注 ': { en: 'Vanilla Pudding', ru: '邪薪懈谢薪泄 写械械', ar: '丨 丕丕' },
            '注 砖拽': { en: 'Chocolate Pudding', ru: '楔芯泻芯谢邪写薪泄 写械械', ar: '丨 卮丕鬲丞' },
            '注 拽专': { en: 'Caramel Pudding', ru: '邪邪屑械谢薪泄 写械械', ar: '丨 乇丕' },
            '注 住拽': { en: 'Biscuit Pudding', ru: '械械  锌械械薪械屑', ar: '丨 亘爻鬲' },
            '注 住': { en: 'Lotus Pudding', ru: '械械 芯', ar: '丨 鬲爻' },
            '砖拽 转': { en: 'Yotvata Chocolate Milk', ru: '楔芯泻芯谢邪写薪芯械 屑芯谢芯泻芯 芯胁邪邪', ar: '丨亘 卮丕鬲丞 胤丕鬲丕' },
            '砖拽 转': { en: 'Tnuva Chocolate Milk', ru: '楔芯泻芯谢邪写薪芯械 屑芯谢芯泻芯 孝薪胁邪', ar: '丨亘 卮丕鬲丞 鬲丕' },
            '注 专': { en: 'Yogurt Dessert', ru: '芯谐芯胁泄 写械械', ar: '丨 夭亘丕丿' },
            '注 转转': { en: 'Strawberry Pudding', ru: '谢斜薪懈薪泄 写械械', ar: '丨 乇丕丞' },
            '注 ': { en: 'Banana Pudding', ru: '邪薪邪薪芯胁泄 写械械', ar: '丨 夭' },
            '住 砖拽': { en: 'Chocolate Mousse', ru: '楔芯泻芯谢邪写薪泄 屑', ar: '爻 卮丕鬲丞' },
            '住 ': { en: 'Vanilla Mousse', ru: '邪薪懈谢薪泄 屑', ar: '爻 丕丕' },
            '驻专 ': { en: 'Pri Gad', ru: '懈 邪写', ar: '亘乇 噩丕丿' },
            ' 专': { en: 'Dan Brown', ru: '邪薪 邪薪', ar: '丿丕 亘乇丕' },
            '专住': { en: 'Tiramisu', ru: '孝懈邪屑懈', ar: '鬲乇丕爻' },
            '拽专 专': { en: 'Cr猫me Br没l茅e', ru: '械屑-斜谢械', ar: '乇 亘乇' },
            '驻拽': { en: 'Panna Cotta', ru: '邪薪薪邪 泻芯邪', ar: '亘丕丕 鬲丕' },
            '专 ': { en: 'Rice Pudding', ru: '懈芯胁泄 锌写懈薪谐', ar: '兀乇夭 亘丕丨亘' },
            '住专': { en: 'Saharon', ru: '小邪邪芯薪', ar: '爻丕乇' },
            '': { en: 'Go', ru: '芯', ar: '噩' },
            '': { en: 'Monte', ru: '芯薪械', ar: '鬲' },
            '拽专 拽': { en: 'Kinder Milk', ru: '懈薪写械 懈谢泻', ar: '丿乇 ' },
            // Deli -  (missing)
            '住 注砖': { en: 'Smoked Salami', ru: '芯锌薪邪 邪谢屑懈', ar: '爻丕 丿禺' },
            '拽拽 转祝': { en: 'Shoulder Sausage', ru: '谢械械胁邪 泻芯谢斜邪邪', ar: '丕 鬲' },
            '住 转': { en: 'Tea Salami', ru: '效邪泄薪邪 邪谢屑懈', ar: '爻丕 卮丕' },
            '拽拽 住 拽拽': { en: 'Cognac Salami', ru: '小邪谢屑懈 泻芯薪泻', ar: '爻丕 丕' },
            '拽拽 专': { en: 'Mortadella', ru: '芯邪写械谢谢邪', ar: '乇鬲丕丿丕' },
            '专住祝': { en: 'Roast Beef', ru: '芯斜懈', ar: '乇爻鬲 亘' },
            '转祝 拽专 驻驻': { en: 'Peppered Beef Shoulder', ru: '芯胁卸 谢芯锌邪泻邪  锌械械屑', ar: '鬲 亘乇 ' },
            '驻住专 拽转': { en: 'Italian Pastrami', ru: '邪谢薪泻邪 锌邪邪屑懈', ar: '亘爻胤乇丞 廿胤丕丞' },
            '驻住专 ': { en: 'Charcoal Pastrami', ru: '邪邪屑懈 薪邪 谐谢', ar: '亘爻胤乇丞 丨' },
            '驻住专 专': { en: 'Grilled Pastrami', ru: '邪邪屑懈 谐懈谢', ar: '亘爻胤乇丞 卮丞' },
            '驻住专 ': { en: 'Turkey Pastrami', ru: '邪邪屑懈 懈蟹 懈薪写械泄泻懈', ar: '亘爻胤乇丞 丿 乇' },
            '驻住专 砖': { en: 'Honey Pastrami', ru: '邪邪屑懈  屑写芯屑', ar: '亘爻胤乇丞 毓爻' },
            '驻住专 专拽': { en: 'BBQ Pastrami', ru: '邪邪屑懈 斜邪斜械泻', ar: '亘爻胤乇丞 亘丕乇亘' },
            '驻住专 爪 注 ': { en: 'Brick Roasted Pastrami', ru: '邪邪屑懈 薪邪 泻懈锌懈邪', ar: '亘爻胤乇丞 卮丞 毓 丕胤亘' },
            '驻住专 驻专转': { en: 'Cornish Hen Pastrami', ru: '邪邪屑懈 懈蟹 锌谢', ar: '亘爻胤乇丞 乇丕禺' },
            '驻住专 驻专转': { en: 'Village Pastrami', ru: '械械胁械薪泻邪 锌邪邪屑懈', ar: '亘爻胤乇丞 乇丞' },
            // Salads - 住 (missing)
            '住 爪': { en: 'Eggplant Salad', ru: '小邪谢邪 懈蟹 斜邪泻谢邪卸邪薪芯胁', ar: '爻胤丞 亘丕匕噩丕' },
            '住 ': { en: 'Matbucha', ru: '邪斜邪', ar: '胤亘禺丞' },
            '住 专拽': { en: 'Turkish Salad', ru: '孝械泻懈泄 邪谢邪', ar: '爻胤丞 鬲乇丞' },
            '住 专': { en: 'Cabbage Salad', ru: '小邪谢邪 懈蟹 泻邪锌', ar: '爻胤丞 ' },
            '住 专': { en: 'Carrot Salad', ru: '小邪谢邪 懈蟹 屑芯泻芯胁懈', ar: '爻胤丞 噩夭乇' },
            '住 拽住': { en: 'Coleslaw', ru: '芯谢谢芯', ar: '爻' },
            '住 爪': { en: 'Egg Salad', ru: '携懈薪泄 邪谢邪', ar: '爻胤丞 亘囟' },
            '住 ': { en: 'Tuna Salad', ru: '小邪谢邪  薪芯屑', ar: '爻胤丞 鬲丞' },
            '住 专': { en: 'Bulgarian Salad', ru: '芯谢谐邪泻懈泄 邪谢邪', ar: '爻胤丞 亘睾丕乇丞' },
            '住 专拽转': { en: 'Vegetable Salad', ru: '胁芯薪芯泄 邪谢邪', ar: '爻胤丞 禺囟丕乇' },
            '住 拽': { en: 'Quinoa Salad', ru: '小邪谢邪  泻懈薪芯邪', ar: '爻胤丞 丕' },
            '住 驻住': { en: 'Pasta Salad', ru: '小邪谢邪  锌邪芯泄', ar: '爻胤丞 亘丕爻鬲丕' },
            '住 注砖': { en: 'Lentil Salad', ru: '小邪谢邪 懈蟹 械械胁懈', ar: '爻胤丞 毓丿爻' },
            '拽': { en: 'Guacamole', ru: '邪泻邪屑芯谢械', ar: '睾丕丕' },
            '住住': { en: 'Salsa', ru: '小邪谢邪', ar: '氐氐丕' },
            ' 砖': { en: 'Baba Ganoush', ru: '邪斜邪 谐邪薪', ar: '亘丕亘丕 睾噩' },
            '住 住': { en: 'Hummus Salad', ru: '小邪谢邪  屑芯屑', ar: '爻胤丞 丨氐' },
            '住 驻专转': { en: 'Mushroom Salad', ru: '懈斜薪芯泄 邪谢邪', ar: '爻胤丞 胤乇' },
            '住 住拽': { en: 'Beet Salad', ru: '小胁械泻芯谢薪泄 邪谢邪', ar: '爻胤丞 卮丿乇' },
            '住 转驻状': { en: 'Potato Salad', ru: '邪芯械谢薪泄 邪谢邪', ar: '爻胤丞 亘胤丕胤丕' },
            '住 驻驻 拽': { en: 'Roasted Pepper Salad', ru: '小邪谢邪 懈蟹 锌械薪 锌械械胁', ar: '爻胤丞  卮' },
            '专 拽': { en: 'Avocado Spread', ru: '胁芯泻邪写芯 薪邪屑邪蟹泻邪', ar: '毓噩 兀丕丿' },
            '住 拽': { en: 'Avocado Salad', ru: '小邪谢邪 懈蟹 邪胁芯泻邪写芯', ar: '爻胤丞 兀丕丿' },
            // Snacks - 驻 (missing)
            ' ': { en: 'Red Bamba', ru: '邪薪邪 邪屑斜邪', ar: '亘丕亘丕 兀丨乇' },
            ' ': { en: 'Nougat Bamba', ru: '邪屑斜邪 薪谐邪', ar: '亘丕亘丕 噩丕' },
            '住 专': { en: 'Grill Bissli', ru: '懈谢懈 谐懈谢', ar: '亘爻 卮丕亍' },
            '住 爪': { en: 'Onion Bissli', ru: '懈谢懈  谢泻芯屑', ar: '亘爻 亘氐' },
            '住 驻爪': { en: 'Pizza Bissli', ru: '懈谢懈 锌懈邪', ar: '亘爻 亘鬲夭丕' },
            '专住 爪\'': { en: 'Chili Doritos', ru: '芯懈芯 懈谢懈', ar: '丿乇鬲爻 ' },
            '专 爪\'驻住': { en: 'Tortilla Chips', ru: '效懈锌 芯懈谢', ar: '乇丕卅 鬲乇鬲丕' },
            '转驻爪\'驻住': { en: 'Tapuchips', ru: '孝邪锌懈锌', ar: '鬲丕亘鬲卮亘爻' },
            '驻专住': { en: 'Pringles', ru: '懈薪谐谢', ar: '亘乇噩夭' },
            '驻专住 抓': { en: 'Sour Pringles', ru: '懈薪谐谢 泻懈谢械', ar: '亘乇噩夭 丨丕囟' },
            '驻驻拽专': { en: 'Popcorn', ru: '芯锌泻芯薪', ar: '卮丕乇' },
            '驻驻拽专 拽专': { en: 'Microwave Popcorn', ru: '芯锌泻芯薪 写谢 屑懈泻芯胁芯谢薪芯胁泻懈', ar: '卮丕乇 乇' },
            '驻驻拽专 拽专': { en: 'Caramel Popcorn', ru: '邪邪屑械谢薪泄 锌芯锌泻芯薪', ar: '卮丕乇 乇丕' },
            '砖拽 驻专': { en: 'Para Chocolate', ru: '楔芯泻芯谢邪写 邪邪', ar: '卮丕鬲丞 亘丕乇丕' },
            '砖拽 拽': { en: 'Milka Chocolate', ru: '楔芯泻芯谢邪写 懈谢泻邪', ar: '卮丕鬲丞 丕' },
            '砖拽 ': { en: 'Milk Chocolate', ru: '芯谢芯薪泄 芯泻芯谢邪写', ar: '卮丕鬲丞 亘丕丨亘' },
            '砖拽 专专': { en: 'Dark Chocolate', ru: '芯泻懈泄 芯泻芯谢邪写', ar: '卮丕鬲丞 丿丕丞' },
            '砖拽 ': { en: 'White Chocolate', ru: '械谢泄 芯泻芯谢邪写', ar: '卮丕鬲丞 亘囟丕亍' },
            '砖拽 注 ': { en: 'Chocolate with Nuts', ru: '楔芯泻芯谢邪写  芯械邪屑懈', ar: '卮丕鬲丞 亘丕爻乇丕鬲' },
            '拽专': { en: 'Kinder', ru: '懈薪写械', ar: '丿乇' },
            '住拽专住': { en: 'Snickers', ru: '小薪懈泻械', ar: '爻乇夭' },
            '专住': { en: 'Mars', ru: '邪', ar: '丕乇爻' },
            '拽住': { en: 'Twix', ru: '孝胁懈泻', ar: '鬲爻' },
            '拽拽': { en: 'KitKat', ru: '懈邪', ar: '鬲 丕鬲' },
            '住拽': { en: 'Biscuits', ru: '械械薪械', ar: '亘爻鬲' },
            '注转 专': { en: 'Oreo Cookies', ru: '械械薪械 械芯', ar: '亘爻鬲 兀乇' },
            '注转 住': { en: 'Lotus Cookies', ru: '械械薪械 芯', ar: '亘爻鬲 鬲爻' },
            '驻': { en: 'Waffles', ru: '邪谢懈', ar: '丕' },
            '驻 ': { en: 'Belgian Waffle', ru: '械谢谐懈泄泻懈械 胁邪谢懈', ar: '丕 亘噩' },
            '拽爪驻转': { en: 'Whipped Cream', ru: '蟹斜懈械 谢懈胁泻懈', ar: '乇丞 禺丞' },
            '专砖': { en: 'Marshmallow', ru: '邪屑械谢谢芯', ar: '丕乇卮' },
            '住专转': { en: 'Candy', ru: '芯薪械', ar: '丨' },
            '住专转 ': { en: 'Gummy Candy', ru: '械胁邪械谢薪械 泻芯薪械', ar: '丨 胤丕胤丞' },
            '': { en: 'Gummy Bears', ru: '懈泻懈 卸械谢械泄薪械', ar: '丿亘亘丞 丨' },
            '住拽': { en: 'Gum', ru: '胁邪泻邪', ar: '毓丞' },
            '住': { en: 'Mentos', ru: '械薪芯', ar: '鬲爻' },
            '拽 拽': { en: 'Tic Tac', ru: '孝懈泻 孝邪泻', ar: '鬲 鬲丕' },
            '注转 砖拽': { en: 'Chocolate Cake', ru: '楔芯泻芯谢邪写薪泄 芯', ar: '丞 卮丕鬲丞' },
            '注转 ': { en: 'Cheesecake', ru: '效懈蟹泻械泄泻', ar: '鬲卮夭 ' },
            '拽专': { en: 'Krembo', ru: '械屑泻芯', ar: '乇亘' },
            '驻住拽 ': { en: 'Time Out', ru: '械械泻 屑邪薪', ar: '亘爻 夭丕' },
            '拽拽': { en: 'Click', ru: '谢懈泻', ar: '' },
            '注': { en: 'Taami', ru: '孝邪邪屑懈', ar: '胤毓' },
            // Spreads - 专 (missing)
            '专 砖拽 砖专 注': { en: 'Hashachar Haole Chocolate Spread', ru: '楔芯泻芯谢邪写薪邪 锌邪邪 啸邪邪邪 啸邪芯谢械', ar: '卮丕鬲丞 丕卮丨丕乇 丕毓丞' },
            '专 砖拽 注转': { en: 'Elite Chocolate Spread', ru: '楔芯泻芯谢邪写薪邪 锌邪邪 协谢懈', ar: '卮丕鬲丞 廿鬲' },
            '专 ': { en: 'Nut Spread', ru: '械芯胁邪 锌邪邪', ar: '毓噩 爻乇丕鬲' },
            '专 住': { en: 'Lotus Spread', ru: '邪邪 芯', ar: '毓噩 鬲爻' },
            '转 ': { en: 'Peanut Butter', ru: '邪懈芯胁邪 锌邪邪', ar: '夭亘丿丞  爻丿丕' },
            '转  拽': { en: 'Smooth Peanut Butter', ru: '谢邪写泻邪 邪邪懈芯胁邪 锌邪邪', ar: '夭亘丿丞  爻丿丕 丕毓丞' },
            '转  拽专爪\'': { en: 'Crunchy Peanut Butter', ru: '啸邪 邪邪懈芯胁邪 锌邪邪', ar: '夭亘丿丞  爻丿丕 乇卮丞' },
            '转  住拽驻': { en: 'Skippy Peanut Butter', ru: '邪懈芯胁邪 锌邪邪 小泻懈锌锌懈', ar: '夭亘丿丞  爻丿丕 爻亘' },
            '转 砖拽': { en: 'Almond Butter', ru: '懈薪写邪谢薪邪 锌邪邪', ar: '夭亘丿丞 丕夭' },
            '转 拽砖': { en: 'Cashew Butter', ru: '邪邪 懈蟹 泻械', ar: '夭亘丿丞 丕丕噩' },
            '转  ': { en: 'Hazelnut Butter', ru: '邪邪 懈蟹 薪写泻邪', ar: '夭亘丿丞 丕亘丿' },
            ' 转': { en: 'Raw Tahini', ru: '小邪 邪懈薪邪', ar: '胤丨丞 禺丕' },
            '  专': { en: 'Al Arz Tahini', ru: '孝邪懈薪邪 谢 蟹', ar: '胤丨丞 丕兀乇夭' },
            ' ': { en: 'Hababa Tahini', ru: '孝邪懈薪邪 啸邪斜邪斜邪', ar: '胤丨丞 丕丨亘丕亘丞' },
            ' 驻专住': { en: 'Sliced Halva', ru: '邪械蟹邪薪薪邪 邪谢胁邪', ar: '丨丕丞 卮乇丕卅丨' },
            ' 砖拽': { en: 'Chocolate Halva', ru: '楔芯泻芯谢邪写薪邪 邪谢胁邪', ar: '丨丕丞 卮丕鬲丞' },
            ' 驻住拽': { en: 'Pistachio Halva', ru: '肖懈邪泻芯胁邪 邪谢胁邪', ar: '丨丕丞 爻鬲' },
            '专 转转': { en: 'Strawberry Jam', ru: '谢斜薪懈薪芯械 胁邪械薪械', ar: '乇亘 乇丕丞' },
            '专 砖砖': { en: 'Apricot Jam', ru: '斜懈泻芯芯胁芯械 胁邪械薪械', ar: '乇亘 卮卮' },
            '专 ': { en: 'Cherry Jam', ru: '懈薪胁芯械 胁邪械薪械', ar: '乇亘 乇夭' },
            '专 转驻': { en: 'Orange Jam', ru: '锌械谢懈薪芯胁芯械 胁邪械薪械', ar: '乇亘 亘乇鬲丕' },
            '专 驻': { en: 'Raspberry Jam', ru: '邪谢懈薪芯胁芯械 胁邪械薪械', ar: '乇亘 鬲鬲' },
            '专  住专': { en: 'Sugar-Free Jam', ru: '邪械薪械 斜械蟹 邪邪邪', ar: '乇亘 亘丿 爻乇' },
            '专': { en: 'Marmalade', ru: '邪屑械谢邪写', ar: '乇丕丿' },
            '砖 专': { en: 'Pure Honey', ru: '效懈泄 屑写', ar: '毓爻 ' },
            '砖 驻专': { en: 'Flower Honey', ru: '笑胁械芯薪泄 屑写', ar: '毓爻 丕夭乇' },
            '砖 专': { en: 'Organic Honey', ru: '谐邪薪懈械泻懈泄 屑写', ar: '毓爻 毓囟' },
            '住 专': { en: 'Pure Date Syrup', ru: '效懈泄 懈谢邪薪', ar: '爻丕 ' },
            '专 砖': { en: 'Garlic Spread', ru: '效械薪芯薪邪 薪邪屑邪蟹泻邪', ar: '毓噩 孬' },
            '专 转': { en: 'Olive Spread', ru: '谢懈胁泻芯胁邪 薪邪屑邪蟹泻邪', ar: '毓噩 夭鬲' },
            '专 注转 砖转': { en: 'Sun-Dried Tomato Spread', ru: '邪屑邪蟹泻邪 懈蟹 胁谢械薪 芯屑邪芯胁', ar: '毓噩 胤丕胤 噩丞' },
            '专 专砖拽': { en: 'Artichoke Spread', ru: '邪屑邪蟹泻邪 懈蟹 邪懈芯泻芯胁', ar: '毓噩 禺乇卮' },
            '驻住 专拽': { en: 'Green Pesto', ru: '械谢薪泄 锌械芯', ar: '亘爻鬲 兀禺囟乇' },
            '驻住 ': { en: 'Red Pesto', ru: '邪薪泄 锌械芯', ar: '亘爻鬲 兀丨乇' },
            '专 ': { en: 'Tuna Spread', ru: '孝薪芯胁邪 薪邪屑邪蟹泻邪', ar: '毓噩 鬲丞' },
            '专 爪': { en: 'Eggplant Spread', ru: '邪泻谢邪卸邪薪芯胁邪 薪邪屑邪蟹泻邪', ar: '毓噩 亘丕匕噩丕' },
            '住 专': { en: 'Hummus Spread', ru: '啸屑 薪邪屑邪蟹泻邪', ar: '丨氐 丿' },
            // Additional meat products
            '注祝 砖 专': { en: 'Fresh Whole Chicken', ru: '小胁械卸邪 械谢邪 泻懈邪', ar: '丿噩丕噩 丕 胤丕夭噩' },
            '注祝 砖 拽驻': { en: 'Frozen Whole Chicken', ru: '邪屑芯芯卸械薪薪邪 械谢邪 泻懈邪', ar: '丿噩丕噩 丕 噩丿' },
            ' 注祝 专': { en: 'Fresh Chicken Breast', ru: '小胁械卸邪 泻懈薪邪 谐写泻邪', ar: '氐丿乇 丿噩丕噩 胤丕夭噩' },
            ' 注祝 拽驻': { en: 'Frozen Chicken Breast', ru: '邪屑芯芯卸械薪薪邪 泻懈薪邪 谐写泻邪', ar: '氐丿乇 丿噩丕噩 噩丿' },
            ' 注祝 驻专住 专': { en: 'Fresh Sliced Chicken Breast', ru: '小胁械卸邪 薪邪械蟹邪薪薪邪 泻懈薪邪 谐写泻邪', ar: '氐丿乇 丿噩丕噩 胤毓 胤丕夭噩' },
            '专注 注祝 专转': { en: 'Fresh Chicken Drumsticks', ru: '小胁械卸懈械 泻懈薪械 谐芯谢械薪懈', ar: '兀禺丕匕 丿噩丕噩 胤丕夭噩丞' },
            '专注 注祝 拽驻转': { en: 'Frozen Chicken Drumsticks', ru: '邪屑芯芯卸械薪薪械 泻懈薪械 谐芯谢械薪懈', ar: '兀禺丕匕 丿噩丕噩 噩丿丞' },
            '砖拽 注祝 专': { en: 'Fresh Chicken Thighs', ru: '小胁械卸懈械 泻懈薪械 斜写邪', ar: '乇 丿噩丕噩 胤丕夭噩丞' },
            '砖拽 注祝 拽驻': { en: 'Frozen Chicken Thighs', ru: '邪屑芯芯卸械薪薪械 泻懈薪械 斜写邪', ar: '乇 丿噩丕噩 噩丿丞' },
            '驻 注祝 专转': { en: 'Fresh Chicken Wings', ru: '小胁械卸懈械 泻懈薪械 泻谢泻懈', ar: '兀噩丨丞 丿噩丕噩 胤丕夭噩丞' },
            '驻 注祝 拽驻转': { en: 'Frozen Chicken Wings', ru: '邪屑芯芯卸械薪薪械 泻懈薪械 泻谢泻懈', ar: '兀噩丨丞 丿噩丕噩 噩丿丞' },
            '注祝  专': { en: 'Fresh Ground Chicken', ru: '小胁械卸懈泄 泻懈薪泄 邪', ar: '丿噩丕噩 乇 胤丕夭噩' },
            '注祝  拽驻': { en: 'Frozen Ground Chicken', ru: '邪屑芯芯卸械薪薪泄 泻懈薪泄 邪', ar: '丿噩丕噩 乇 噩丿' },
            ' 注祝 专': { en: 'Fresh Chicken Liver', ru: '小胁械卸邪 泻懈薪邪 锌械械薪', ar: '亘丿 丿噩丕噩 胤丕夭噩' },
            ' 注祝 拽驻': { en: 'Frozen Chicken Liver', ru: '邪屑芯芯卸械薪薪邪 泻懈薪邪 锌械械薪', ar: '亘丿 丿噩丕噩 噩丿' },
            '转 注祝': { en: 'Chicken Hearts', ru: '懈薪械 械写邪', ar: '亘 丿噩丕噩' },
            '驻专转 专': { en: 'Fresh Cornish Hen', ru: '小胁械卸懈泄 锌谢薪芯泻', ar: '乇禺丞 胤丕夭噩丞' },
            '驻专转 拽驻': { en: 'Frozen Cornish Hen', ru: '邪屑芯芯卸械薪薪泄 锌谢薪芯泻', ar: '乇禺丞 噩丿丞' },
            '  专': { en: 'Fresh Turkey Breast', ru: '小胁械卸邪 谐写泻邪 懈薪写械泄泻懈', ar: '氐丿乇 丿 乇 胤丕夭噩' },
            '  拽驻': { en: 'Frozen Turkey Breast', ru: '邪屑芯芯卸械薪薪邪 谐写泻邪 懈薪写械泄泻懈', ar: '氐丿乇 丿 乇 噩丿' },
            '  专': { en: 'Fresh Ground Turkey', ru: '小胁械卸懈泄 邪 懈蟹 懈薪写械泄泻懈', ar: '丿 乇 乇 胤丕夭噩' },
            '  拽驻': { en: 'Frozen Ground Turkey', ru: '邪屑芯芯卸械薪薪泄 邪 懈蟹 懈薪写械泄泻懈', ar: '丿 乇 乇 噩丿' },
            '砖专  专': { en: 'Fresh Ground Beef', ru: '小胁械卸懈泄 谐芯胁卸懈泄 邪', ar: '丨 乇 胤丕夭噩' },
            '砖专  拽驻': { en: 'Frozen Ground Beef', ru: '邪屑芯芯卸械薪薪泄 谐芯胁卸懈泄 邪', ar: '丨 乇 噩丿' },
            '专拽 专': { en: 'Fresh Entrecote', ru: '小胁械卸懈泄 邪薪械泻芯', ar: '兀鬲乇鬲 胤丕夭噩' },
            '砖爪 注祝 专': { en: 'Fresh Chicken Schnitzel', ru: '小胁械卸懈泄 泻懈薪泄 薪懈械谢', ar: '卮鬲爻 丿噩丕噩 胤丕夭噩' },
            '专专 专': { en: 'Fresh Burger', ru: '小胁械卸懈泄 斜谐械', ar: '亘乇睾乇 胤丕夭噩' },
            // Additional fish
            '住 专': { en: 'Fresh Salmon', ru: '小胁械卸懈泄 谢芯芯', ar: '爻 胤丕夭噩' },
            '住 注砖': { en: 'Smoked Salmon', ru: '芯锌薪泄 谢芯芯', ar: '爻 丿禺' },
            // Additional misc
            '专': { en: 'Roll Cake', ru: '谢械', ar: '乇丕丿' },
            '': { en: 'Ice Cream', ru: '芯芯卸械薪芯械', ar: '丌爻 乇' },
            '专专 拽驻': { en: 'Frozen Burger', ru: '邪屑芯芯卸械薪薪泄 斜谐械', ar: '亘乇睾乇 噩丿' }
        };

        // Helper function to get translated product name
        function getProductTranslation(productName, language) {
            if (!productName) return '';
            if (!language || language === 'he') return productName;
            const translation = PRODUCT_TRANSLATIONS[productName];
            if (translation && translation[language]) {
                return translation[language];
            }
            return productName; // Return Hebrew if no translation found
        }

        // Helper function to extract number from quantity (handles both number and string formats)
        function getQuantityNumber(quantity) {
            if (typeof quantity === 'number') return quantity;
            if (typeof quantity === 'string') {
                const numMatch = quantity.match(/^([\d.]+)/);
                return numMatch ? parseFloat(numMatch[1]) : 1;
            }
            return 1;
        }

        // Confetti burst effect component
        function ConfettiBurst({ x, y, onComplete }) {
            const [particles, setParticles] = useState([]);

            useEffect(() => {
                const colors = ['#10b981', '#34d399', '#6ee7b7', '#fbbf24', '#f472b6', '#818cf8'];
                const newParticles = [];
                for (let i = 0; i < 12; i++) {
                    const angle = (i / 12) * 360;
                    const velocity = 60 + Math.random() * 40;
                    const size = 4 + Math.random() * 4;
                    newParticles.push({
                        id: i,
                        color: colors[Math.floor(Math.random() * colors.length)],
                        angle,
                        velocity,
                        size,
                        x: Math.cos(angle * Math.PI / 180) * velocity,
                        y: Math.sin(angle * Math.PI / 180) * velocity
                    });
                }
                setParticles(newParticles);
                const timer = setTimeout(() => onComplete?.(), 600);
                return () => clearTimeout(timer);
            }, []);

            return (
                <div style={{ position: 'absolute', left: x, top: y, pointerEvents: 'none', zIndex: 50 }}>
                    {particles.map(p => (
                        <div
                            key={p.id}
                            className="confetti-particle"
                            style={{
                                width: p.size,
                                height: p.size,
                                borderRadius: '50%',
                                backgroundColor: p.color,
                                '--tx': `${p.x}px`,
                                '--ty': `${p.y}px`,
                                animation: `particleFly 0.6s ease-out forwards`
                            }}
                        />
                    ))}
                </div>
            );
        }

        // Swipeable Item Component
        function SwipeableItem({ children, onSwipeRight, onSwipeLeft, className, purchased }) {
            const [touchStart, setTouchStart] = useState(null);
            const [touchDelta, setTouchDelta] = useState(0);
            const [isSwiping, setIsSwiping] = useState(false);
            const [completing, setCompleting] = useState(null); // 'right' or 'left'
            const THRESHOLD = 80;

            const handleTouchStart = (e) => {
                setTouchStart(e.touches[0].clientX);
                setIsSwiping(true);
            };

            const handleTouchMove = (e) => {
                if (touchStart === null) return;
                const delta = e.touches[0].clientX - touchStart;
                // RTL: negative delta = swiping right visually, positive = swiping left
                setTouchDelta(delta);
            };

            const handleTouchEnd = () => {
                if (Math.abs(touchDelta) > THRESHOLD) {
                    // RTL adjustment: negative delta means swiping toward the left side of screen (which is "right" in RTL)
                    if (touchDelta < -THRESHOLD) {
                        // Swiped left on screen = "right" action in RTL = bought
                        setCompleting('right');
                        setTimeout(() => {
                            onSwipeRight?.();
                            setCompleting(null);
                            setTouchDelta(0);
                        }, 300);
                    } else if (touchDelta > THRESHOLD) {
                        // Swiped right on screen = "left" action in RTL = postpone
                        setCompleting('left');
                        setTimeout(() => {
                            onSwipeLeft?.();
                            setCompleting(null);
                            setTouchDelta(0);
                        }, 300);
                    }
                } else {
                    setTouchDelta(0);
                }
                setTouchStart(null);
                setIsSwiping(false);
            };

            const showRightIndicator = touchDelta < -30;
            const showLeftIndicator = touchDelta > 30;
            const rightProgress = Math.min(Math.abs(Math.min(touchDelta, 0)) / THRESHOLD, 1);
            const leftProgress = Math.min(Math.max(touchDelta, 0) / THRESHOLD, 1);

            return (
                <div className={`swipe-container ${className || ''}`}>
                    {/* Right swipe background (bought - green) */}
                    <div
                        className="swipe-bg-right swipe-background"
                        style={{ opacity: rightProgress }}
                    >
                        <div className="swipe-indicator">
                            <span className={`swipe-icon swipe-icon-emoji ${showRightIndicator ? 'visible' : ''}`} style={{ transform: `scale(${0.5 + rightProgress * 0.5})` }}>
                                
                            </span>
                            <span className={`swipe-icon text-sm ${showRightIndicator ? 'visible' : ''}`}>
                                拽
                            </span>
                        </div>
                    </div>
                    {/* Left swipe background (postpone - orange) */}
                    <div
                        className="swipe-bg-left swipe-background"
                        style={{ opacity: leftProgress }}
                    >
                        <div className="swipe-indicator">
                            <span className={`swipe-icon swipe-icon-emoji ${showLeftIndicator ? 'visible' : ''}`} style={{ transform: `scale(${0.5 + leftProgress * 0.5})` }}>
                                
                            </span>
                            <span className={`swipe-icon text-sm ${showLeftIndicator ? 'visible' : ''}`}>
                                状
                            </span>
                        </div>
                    </div>
                    {/* Content */}
                    <div
                        className={`swipe-content ${isSwiping ? 'swiping' : ''} ${completing === 'right' ? 'slide-out-right' : ''} ${completing === 'left' ? 'slide-out-left' : ''}`}
                        style={{ transform: completing ? undefined : `translateX(${touchDelta}px)` }}
                        onTouchStart={handleTouchStart}
                        onTouchMove={handleTouchMove}
                        onTouchEnd={handleTouchEnd}
                    >
                        {children}
                    </div>
                </div>
            );
        }

        function ShoppingList() {
            const { user } = useAuth();
            const { family, lists, currentList, setCurrentList, logActivity } = useFamily();
            const { language, changeLanguage, t } = useLanguage();
            // Expose changeLanguage to window for accessibility modal buttons
            window.changeAppLanguage = changeLanguage;

            // Helper function to get translated category name
            const getCategoryName = (categoryKey) => {
                const categoryTranslationMap = {
                    fruits: 'fruitsVeg',
                    dairy: 'dairyProducts',
                    desserts: 'dairyDesserts',
                    meat: 'meat',
                    fish: 'fish',
                    deli: 'deli',
                    salads: 'readySalads',
                    bakery: 'breadBakery',
                    spreads: 'spreads',
                    baking: 'bakingProducts',
                    cereals: 'cereals',
                    canned: 'cannedDry',
                    spices: 'spices',
                    coffee: 'coffeeTea',
                    drinks: 'drinks',
                    wine: 'wineAlcohol',
                    snacks: 'snacks',
                    frozen: 'frozen',
                    health: 'dietProtein',
                    hygiene: 'hygiene',
                    cleaning: 'cleaning',
                    candles: 'candlesOil',
                    baby: 'babyKids',
                    pets: 'pets'
                };
                return t(categoryTranslationMap[categoryKey]) || CATEGORIES[categoryKey]?.name || categoryKey;
            };
            const [items, setItems] = useState([]);
            const prevItemIdsRef = React.useRef(new Set());
            const [selectedCategory, setSelectedCategory] = useState(null);
            const [searchTerm, setSearchTerm] = useState('');
            const [loading, setLoading] = useState(true);
            const [darkMode, setDarkMode] = useState(false);
            const [showFinishShopping, setShowFinishShopping] = useState(false);
            const [showHistory, setShowHistory] = useState(false);
            const [totalAmount, setTotalAmount] = useState('');
            const [receiptPhoto, setReceiptPhoto] = useState(null);
            const [uploadingReceipt, setUploadingReceipt] = useState(false);
            const receiptInputRef = React.useRef(null);
            const [history, setHistory] = useState([]);
            const [showDeleteConfirm, setShowDeleteConfirm] = useState(null);
            const [openItemMenu, setOpenItemMenu] = useState(null);
            const [showDeleteAllConfirm, setShowDeleteAllConfirm] = useState(false);
            const [showFamilySettings, setShowFamilySettings] = useState(false);
            const [showCreateList, setShowCreateList] = useState(false);
            const [editingNote, setEditingNote] = useState(null);
            const [editingItemId, setEditingItemId] = useState(null);
            const [editingItemName, setEditingItemName] = useState('');
            const [confetti, setConfetti] = useState(null);
            const [animatingItems, setAnimatingItems] = useState(new Set());
            const addBarInputRef = React.useRef(null);
            // Chat & Photo states
            const [showChat, setShowChat] = useState(false);
            const [chatMessages, setChatMessages] = useState([]);
            const [chatInput, setChatInput] = useState('');
            const [showCamera, setShowCamera] = useState(false);
            const [capturedPhoto, setCapturedPhoto] = useState(null);
            const [notificationsEnabled, setNotificationsEnabled] = useState(false);
            const lastMessageIdRef = React.useRef(null);
            const videoRef = React.useRef(null);
            const canvasRef = React.useRef(null);
            // Forgotten items tracking
            const [forgottenStats, setForgottenStats] = useState({});
            const [showForgottenStats, setShowForgottenStats] = useState(false);
            const [shoppingStreak, setShoppingStreak] = useState(0);
            const [achievements, setAchievements] = useState([]);
            // Regular items & Calendar
            const [regularItems, setRegularItems] = useState([]);
            const [showRegulars, setShowRegulars] = useState(false);
            const [showCalendar, setShowCalendar] = useState(false);
            const [upcomingHolidays, setUpcomingHolidays] = useState([]);
            // Quantity selector
            const [showQuantitySelector, setShowQuantitySelector] = useState(false);
            const [selectedProduct, setSelectedProduct] = useState(null);
            const [selectedQuantity, setSelectedQuantity] = useState(1);
            const [selectedUnit, setSelectedUnit] = useState('\'');
            const [selectedNote, setSelectedNote] = useState('');
            // Calendar view
            const [calendarMonth, setCalendarMonth] = useState(new Date());
            const [selectedHoliday, setSelectedHoliday] = useState(null);
            const [reminderDays, setReminderDays] = useState(7);
            // Voice recognition states
            const [isListening, setIsListening] = useState(false);
            const [voiceSupported, setVoiceSupported] = useState(false);
            const [voiceLang, setVoiceLang] = useState(localStorage.getItem('voiceLang') || 'he-IL');
            // Shopping mode - keeps screen awake
            const [shoppingMode, setShoppingMode] = useState(false);
            const [wakeLock, setWakeLock] = useState(null);
            // Out of stock tracking
            const [outOfStockItems, setOutOfStockItems] = useState([]);
            // Saved lists for quick reuse
            const [savedLists, setSavedLists] = useState([]);
            const [showSavedLists, setShowSavedLists] = useState(false);
            const [showImportWhatsApp, setShowImportWhatsApp] = useState(false);
            const [whatsAppText, setWhatsAppText] = useState('');
            // Real-time editing indicator
            const [activeEditors, setActiveEditors] = useState([]);
            // Holiday recommendations
            const [showHolidayRecommendations, setShowHolidayRecommendations] = useState(false);
            // Price comparison scanner
            const [showPriceScanner, setShowPriceScanner] = useState(false);
            const [scanningPrice, setScanningPrice] = useState(false);
            const [scannedProductName, setScannedProductName] = useState('');
            const [priceCompareResults, setPriceCompareResults] = useState(null);
            const priceVideoRef = React.useRef(null);
            const priceCanvasRef = React.useRef(null);
            // Full list price comparison
            const [showListComparison, setShowListComparison] = useState(false);
            const [listComparisonLoading, setListComparisonLoading] = useState(false);
            const [listComparisonData, setListComparisonData] = useState(null);
            const [comparisonViewMode, setComparisonViewMode] = useState('chains'); // 'chains' or 'optimal'
            const [optimizationStrategy, setOptimizationStrategy] = useState('optimal'); // 'single', 'split', 'optimal'
            // AI Smart Add
            const [showSmartAdd, setShowSmartAdd] = useState(false);
            const [smartAddText, setSmartAddText] = useState('');
            const [smartAddLoading, setSmartAddLoading] = useState(false);
            const [smartAddResults, setSmartAddResults] = useState(null);
            // Expanded chain in comparison view
            const [expandedChain, setExpandedChain] = useState(null);
            // Offline mode state
            const [isOnline, setIsOnline] = useState(navigator.onLine);
            const [pendingOperations, setPendingOperations] = useState(() => {
                try { return JSON.parse(localStorage.getItem('pendingOps') || '[]'); } catch { return []; }
            });
            const [syncStatus, setSyncStatus] = useState('synced');
            // Item animations
            const [exitingItems, setExitingItems] = useState(new Set());
            // Templates system
            const [templates, setTemplates] = useState(() => {
                try { return JSON.parse(localStorage.getItem('shoppingTemplates') || '[]'); } catch { return []; }
            });
            const [showTemplates, setShowTemplates] = useState(false);
            const [showSaveTemplate, setShowSaveTemplate] = useState(false);
            const [newTemplateName, setNewTemplateName] = useState('');
            // Sticky category header
            const [activeCategory, setActiveCategory] = useState(null);
            const categoryObserverRef = React.useRef(null);
            // Price editing
            const [editingPriceId, setEditingPriceId] = useState(null);
            const [editingPriceValue, setEditingPriceValue] = useState('');
            // AI Assistant
            const [showAIAssistant, setShowAIAssistant] = useState(false);
            const [aiSuggestions, setAiSuggestions] = useState([]);
            const [aiThinking, setAiThinking] = useState(false);
            // Onboarding & Help
            const [showOnboarding, setShowOnboarding] = useState(false);
            const [onboardingStep, setOnboardingStep] = useState(0);
            const [showHelp, setShowHelp] = useState(false);
            const [showFeedback, setShowFeedback] = useState(false);
            const [feedbackText, setFeedbackText] = useState('');
            const [feedbackType, setFeedbackType] = useState('bug');
            const [feedbackSending, setFeedbackSending] = useState(false);
            const [feedbackSent, setFeedbackSent] = useState(false);
            // Accessibility
            const [showAccessibility, setShowAccessibility] = useState(false);
            const [accessibilitySettings, setAccessibilitySettings] = useState({
                fontSize: 'normal',
                contrast: 'normal',
                highlightLinks: false,
                cursorSize: 'normal'
            });

            // English to Hebrew grocery translations
            const ENGLISH_TO_HEBREW = {
                // Dairy
                'milk': '', 'eggs': '爪', 'egg': '爪', 'cheese': '', 'butter': '',
                'yogurt': '专', 'cream': '砖转', 'cottage': '拽\'', 'cream cheese': '转 砖转',
                'sour cream': '砖转 爪', 'whipped cream': '拽爪驻转',
                // Bread & Bakery
                'bread': '', 'pita': '驻转', 'challah': '', 'bagel': '', 'croissant': '拽专住',
                'toast': ' 住', 'rolls': '转', 'baguette': '',
                // Fruits
                'apple': '转驻', 'apples': '转驻', 'banana': '', 'bananas': '转',
                'orange': '转驻', 'oranges': '转驻', 'lemon': '', 'lemons': '',
                'grapes': '注', 'strawberry': '转转', 'strawberries': '转转',
                'watermelon': '', 'melon': '', 'mango': '', 'peach': '驻专住拽',
                'pear': '住', 'plum': '砖祝', 'cherry': '', 'cherries': '',
                'avocado': '拽', 'pomegranate': '专', 'kiwi': '拽', 'pineapple': '住',
                // Vegetables
                'tomato': '注', 'tomatoes': '注转', 'cucumber': '驻驻', 'cucumbers': '驻驻',
                'onion': '爪', 'onions': '爪', 'garlic': '砖', 'potato': '转驻 ', 'potatoes': '转驻 ',
                'carrot': '专', 'carrots': '专', 'pepper': '驻驻', 'peppers': '驻驻',
                'lettuce': '住', 'cabbage': '专', 'broccoli': '专拽', 'cauliflower': '专转',
                'spinach': '转专', 'celery': '住专', 'corn': '转专住', 'mushroom': '驻专转', 'mushrooms': '驻专转',
                'zucchini': '拽砖', 'eggplant': '爪', 'beet': '住拽', 'radish': '爪',
                // Meat & Fish
                'chicken': '注祝', 'beef': '拽专', 'meat': '砖专', 'fish': '', 'salmon': '住',
                'tuna': '', 'turkey': '', 'schnitzel': '砖爪', 'steak': '住拽',
                'ground beef': '砖专 ', 'sausage': '拽拽', 'hot dog': '拽拽',
                // Pantry
                'rice': '专', 'pasta': '驻住', 'noodles': '专转', 'flour': '拽',
                'sugar': '住专', 'salt': '', 'oil': '砖', 'olive oil': '砖 转',
                'vinegar': '抓', 'sauce': '专', 'ketchup': '拽砖驻', 'mayonnaise': '',
                'mustard': '专', 'honey': '砖', 'jam': '专', 'peanut butter': '转 ',
                'coffee': '拽驻', 'tea': '转', 'juice': '抓', 'water': '', 'soda': '住',
                'cereal': ' 拽专', 'oatmeal': '砖转 砖注', 'crackers': '拽专拽专',
                'chips': '爪\'驻住', 'cookies': '注转', 'chocolate': '砖拽', 'candy': '转拽',
                'nuts': '', 'almonds': '砖拽', 'walnuts': ' ',
                // Frozen
                'ice cream': '', 'frozen vegetables': '专拽转 拽驻', 'pizza': '驻爪',
                // Cleaning
                'soap': '住', 'shampoo': '砖驻', 'toilet paper': '专 ',
                'tissues': '砖', 'detergent': '拽转 住', 'dish soap': '住 ',
                'trash bags': '砖拽转 砖驻', 'paper towels': '转 专',
                // Baby
                'diapers': '转', 'baby food': ' 转拽转', 'formula': '转专转 ',
                'wipes': '',
                // Other common
                'hummus': '住', 'tahini': '', 'falafel': '驻驻', 'shawarma': '砖专',
                // Herbs & Spices
                'basil': '拽', 'oregano': '专', 'parsley': '驻专', 'cilantro': '住专',
                'coriander': '住专', 'mint': '注注', 'dill': '砖专', 'rosemary': '专专',
                'thyme': '拽专转', 'cumin': '', 'paprika': '驻驻专拽', 'cinnamon': '拽',
                'turmeric': '专', 'black pepper': '驻驻 砖专', 'ginger': '\'\'专',
                // More grains
                'quinoa': '拽', 'couscous': '拽住拽住', 'bulgur': '专', 'lentils': '注砖',
                'chickpeas': '住', 'beans': '砖注注转', 'white beans': '砖注注转 ',
                // Beverages
                'cola': '拽', 'sprite': '住驻专', 'fanta': '驻', 'beer': '专', 'wine': '',
                'mineral water': ' 专', 'sparkling water': ' ',
                // More dairy
                'goat cheese': '转 注', 'feta': '驻', 'labne': '', 'labneh': '',
                // Snacks
                'bamba': '', 'bissli': '住', 'pretzels': '', 'popcorn': '驻驻拽专',
                // Oils
                'canola oil': '砖 拽', 'coconut oil': '砖 拽拽住', 'sunflower oil': '砖 转',
                // Other
                'hummus spread': '专 住', 'canned tuna': ' 砖专', 'sardines': '住专',
                'olives': '转', 'pickles': '爪', 'cornflakes': '拽专驻拽住'
            };
            const [voiceTranscript, setVoiceTranscript] = useState('');
            const recognitionRef = React.useRef(null);

            // Voice status for debugging
            const [voiceStatus, setVoiceStatus] = useState('');
            const voiceTimeoutRef = React.useRef(null);

            // Check voice support and setup recognition
            useEffect(() => {
                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                if (SpeechRecognition) {
                    setVoiceSupported(true);
                } else {
                    setVoiceStatus('驻驻  转  拽');
                }
            }, []);

            // Create recognition when starting to listen
            const createRecognition = () => {
                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                if (!SpeechRecognition) return null;

                const recognition = new SpeechRecognition();
                recognition.continuous = false;
                recognition.interimResults = true;
                recognition.maxAlternatives = 3; // More alternatives for better Hebrew recognition

                // Check if iOS Safari - Hebrew support is limited
                const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);
                const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);

                if (isIOS && isSafari && voiceLang === 'he-IL') {
                    // iOS Safari has limited Hebrew support, try a workaround
                    recognition.lang = 'he'; // Try shorter code
                } else {
                    recognition.lang = voiceLang;
                }

                recognition.onstart = () => {
                    const isIOSSafari = isIOS && isSafari;
                    if (isIOSSafari && voiceLang === 'he-IL') {
                        setVoiceStatus('... (-iPhone 住 专 转)');
                    } else {
                        setVoiceStatus(voiceLang === 'en-US' ? 'Listening... speak now' : '... 专 注砖');
                    }
                };

                recognition.onaudiostart = () => {
                    setVoiceStatus(voiceLang === 'en-US' ? 'Hearing audio...' : '拽 砖注...');
                };

                recognition.onspeechstart = () => {
                    setVoiceStatus(voiceLang === 'en-US' ? 'Detecting speech...' : ' 专...');
                };

                recognition.onresult = (event) => {
                    // Clear timeout since we got a result
                    if (voiceTimeoutRef.current) {
                        clearTimeout(voiceTimeoutRef.current);
                    }

                    const transcript = Array.from(event.results)
                        .map(result => result[0].transcript)
                        .join('');
                    setVoiceTranscript(transcript);
                    setVoiceStatus(voiceLang === 'en-US' ? 'Got it!' : '拽转!');

                    // If final result, process it
                    if (event.results[0].isFinal) {
                        processVoiceCommand(transcript, voiceLang);
                        setIsListening(false);
                    }
                };

                recognition.onend = () => {
                    if (voiceTimeoutRef.current) {
                        clearTimeout(voiceTimeoutRef.current);
                    }
                    setIsListening(false);
                    if (!voiceTranscript) {
                        const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);
                        const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);
                        if (isIOS && isSafari && voiceLang === 'he-IL') {
                            setVoiceStatus('注专转  转转 驻. 住 转  拽 转 吼');
                        } else {
                            setVoiceStatus(voiceLang === 'en-US' ? 'No speech detected. Try again.' : '  专. 住 砖.');
                        }
                    }
                };

                recognition.onerror = (event) => {
                    console.error('Voice recognition error:', event.error);
                    if (voiceTimeoutRef.current) {
                        clearTimeout(voiceTimeoutRef.current);
                    }
                    setIsListening(false);

                    switch(event.error) {
                        case 'not-allowed':
                            setVoiceStatus(' 驻砖专 砖 拽专驻 专转 驻驻');
                            alert(' 驻砖专 砖 拽专驻. 抓 注 住 注 砖专转 转转 驻砖专 拽专驻.');
                            break;
                        case 'no-speech':
                            setVoiceStatus(voiceLang === 'en-US' ? 'No speech detected. Tap mic to try again.' : ' 砖注 专. 抓 砖 注 拽专驻.');
                            break;
                        case 'audio-capture':
                            setVoiceStatus(' 爪 拽专驻. 拽 转 专.');
                            break;
                        case 'network':
                            setVoiceStatus('注转 专砖转. 拽 转 专 专.');
                            break;
                        case 'aborted':
                            setVoiceStatus(voiceLang === 'en-US' ? 'Cancelled' : '');
                            break;
                        default:
                            setVoiceStatus(`砖: ${event.error}`);
                    }
                };

                return recognition;
            };

            // Toggle voice language
            const toggleVoiceLang = () => {
                const newLang = voiceLang === 'he-IL' ? 'en-US' : 'he-IL';
                setVoiceLang(newLang);
                localStorage.setItem('voiceLang', newLang);
            };

            // Shopping Mode - Keep screen awake
            const toggleShoppingMode = async () => {
                if (shoppingMode) {
                    // Turn off shopping mode
                    if (wakeLock) {
                        await wakeLock.release();
                        setWakeLock(null);
                    }
                    setShoppingMode(false);
                } else {
                    // Turn on shopping mode
                    try {
                        if ('wakeLock' in navigator) {
                            const lock = await navigator.wakeLock.request('screen');
                            setWakeLock(lock);
                            lock.addEventListener('release', () => {
                                setShoppingMode(false);
                                setWakeLock(null);
                            });
                        }
                        setShoppingMode(true);
                    } catch (err) {
                        console.log('Wake Lock not supported or failed:', err);
                        setShoppingMode(true); // Still enable mode visually
                    }
                }
            };

            // Mark item as out of stock
            const markOutOfStock = async (item) => {
                try {
                    await window.firestore.updateDoc(
                        window.firestore.doc(window.db, 'shopping-items', item.id),
                        { outOfStock: true, outOfStockAt: new Date(), outOfStockBy: user.displayName || user.email }
                    );
                    // Save to out of stock list for future reference
                    const newOutOfStock = [...outOfStockItems, { name: item.name, date: new Date() }];
                    setOutOfStockItems(newOutOfStock);
                    localStorage.setItem(`outOfStock_${family.id}`, JSON.stringify(newOutOfStock));
                } catch (err) {
                    console.error('Error marking out of stock:', err);
                }
            };

            // Save current list for reuse
            const saveListForReuse = () => {
                const currentItems = items.filter(i => !i.purchased).map(i => ({ name: i.name, category: i.category, quantity: i.quantity, unit: i.unit }));
                if (currentItems.length === 0) return;

                const listName = `专砖 ${new Date().toLocaleDateString('he-IL')}`;
                const newList = { id: Date.now(), name: listName, items: currentItems, createdAt: new Date() };
                const updated = [newList, ...savedLists.slice(0, 9)]; // Keep max 10
                setSavedLists(updated);
                localStorage.setItem(`savedLists_${family.id}`, JSON.stringify(updated));
            };

            // Load saved list to cart
            const loadSavedList = async (savedList) => {
                for (const item of savedList.items) {
                    await addProduct(item.name, item.category);
                }
                setShowSavedLists(false);
            };

            // Delete saved list
            const deleteSavedList = (listId) => {
                const updated = savedLists.filter(list => list.id !== listId);
                setSavedLists(updated);
                localStorage.setItem(`savedLists_${family.id}`, JSON.stringify(updated));
            };

            // Import from WhatsApp text
            const importFromWhatsApp = async () => {
                if (!whatsAppText.trim()) return;

                // Parse WhatsApp text - split by newlines, commas, or bullet points
                const lines = whatsAppText
                    .split(/[\n,\-\*]/)
                    .map(line => line.trim())
                    .filter(line => line.length > 0 && line.length < 50);

                let addedCount = 0;
                for (const line of lines) {
                    // Try to extract quantity if present (e.g., "2 " or " x3" or "2 拽" 砖专")
                    let qty = 1;
                    let productName = line;

                    // Match patterns like "2 ", " x3", "2 拽" 砖专"
                    const qtyMatch = line.match(/^([\d.]+)\s*(.+)$/) || line.match(/^(.+?)\s*[xX]\s*([\d.]+)$/);
                    if (qtyMatch) {
                        qty = parseFloat(qtyMatch[1]) || parseFloat(qtyMatch[2]) || 1;
                        productName = (qtyMatch[2] || qtyMatch[1]).trim();
                        // Remove unit from product name if it starts with a unit
                        productName = productName.replace(/^(拽"|拽|专|专|"|'|转?)\s*/i, '').trim();
                    }

                    if (!productName) continue;

                    // Detect category and get appropriate unit
                    const category = detectCategory(productName);
                    const unit = CATEGORIES[category]?.unit || '\'';

                    // Check if already exists
                    const existing = items.find(item => item.name === productName && !item.purchased);
                    if (existing) {
                        // Update quantity - extract number if string
                        let existingNum = existing.quantity;
                        if (typeof existingNum === 'string') {
                            const numMatch = existingNum.match(/^([\d.]+)/);
                            existingNum = numMatch ? parseFloat(numMatch[1]) : 1;
                        }
                        const newQty = (existingNum || 0) + qty;
                        await window.firestore.updateDoc(
                            window.firestore.doc(window.db, 'shopping-items', existing.id),
                            { quantity: newQty, unit: unit, updatedAt: new Date() }
                        );
                    } else {
                        // Add new item with correct unit
                        const estimatedPrice = getEstimatedPrice(productName);
                        await window.firestore.addDoc(window.firestore.collection(window.db, 'shopping-items'), {
                            name: productName,
                            category: category,
                            quantity: qty,
                            unit: unit,
                            purchased: false,
                            familyId: family.id,
                            listId: currentList.id,
                            addedBy: user.displayName || user.email,
                            addedByUid: user.uid,
                            note: '',
                            price: estimatedPrice || null,
                            priceSource: estimatedPrice ? 'estimated' : null,
                            createdAt: new Date()
                        });
                    }
                    addedCount++;
                }

                setWhatsAppText('');
                setShowImportWhatsApp(false);
            };

            // ============================================
            // Offline Mode Functions
            // ============================================
            useEffect(() => {
                const handleOnline = () => { setIsOnline(true); syncPendingOperations(); };
                const handleOffline = () => { setIsOnline(false); };
                window.addEventListener('online', handleOnline);
                window.addEventListener('offline', handleOffline);
                return () => {
                    window.removeEventListener('online', handleOnline);
                    window.removeEventListener('offline', handleOffline);
                };
            }, []);

            const queueOperation = (operation) => {
                const ops = [...pendingOperations, { ...operation, timestamp: Date.now() }];
                localStorage.setItem('pendingOps', JSON.stringify(ops));
                setPendingOperations(ops);
                setSyncStatus('pending');
            };

            // Generic update item function for offline sync
            const updateItem = async (itemId, data, skipQueue = false) => {
                try {
                    const itemRef = window.firestore.doc(window.db, 'shopping-items', itemId);
                    await window.firestore.updateDoc(itemRef, data);
                } catch (e) {
                    console.error('Error updating item:', e);
                    if (!skipQueue && !isOnline) {
                        queueOperation({ type: 'update', id: itemId, data });
                    }
                }
            };

            const syncPendingOperations = async () => {
                if (pendingOperations.length === 0) return;
                setSyncStatus('syncing');
                console.log(' Syncing', pendingOperations.length, 'pending operations...');

                const failedOps = [];
                for (const op of pendingOperations) {
                    try {
                        if (op.type === 'add') {
                            // Add new item to Firestore
                            await window.firestore.addDoc(window.firestore.collection(window.db, 'shopping-items'), {
                                name: op.name,
                                category: op.category,
                                quantity: op.quantity,
                                unit: op.unit || '\'',
                                purchased: false,
                                familyId: family?.id,
                                listId: currentList?.id,
                                addedBy: user?.displayName || user?.email || '驻',
                                addedByUid: user?.uid,
                                note: op.note || '',
                                price: op.price || null,
                                priceSource: op.price ? 'estimated' : null,
                                createdAt: new Date(op.timestamp || Date.now())
                            });
                            console.log(' Synced add:', op.name);
                        } else if (op.type === 'delete') {
                            await window.firestore.deleteDoc(window.firestore.doc(window.db, 'shopping-items', op.id));
                            console.log(' Synced delete:', op.itemName || op.id);
                        } else if (op.type === 'update') {
                            await window.firestore.updateDoc(window.firestore.doc(window.db, 'shopping-items', op.id), op.data);
                            console.log(' Synced update:', op.id);
                        }
                    } catch (e) {
                        console.error(' Failed to sync operation:', op, e);
                        failedOps.push(op);
                    }
                }

                if (failedOps.length === 0) {
                    localStorage.removeItem('pendingOps');
                    setPendingOperations([]);
                    setSyncStatus('synced');
                    console.log(' All operations synced successfully!');
                } else {
                    localStorage.setItem('pendingOps', JSON.stringify(failedOps));
                    setPendingOperations(failedOps);
                    setSyncStatus('pending');
                    console.log('锔', failedOps.length, 'operations still pending');
                }
            };

            // ============================================
            // Templates System
            // ============================================
            const saveAsTemplate = (name) => {
                if (!name.trim()) return;
                const template = {
                    id: Date.now(),
                    name: name.trim(),
                    items: items.filter(i => !i.purchased).map(i => ({
                        name: i.name, category: i.category, quantity: i.quantity
                    })),
                    createdAt: new Date().toISOString()
                };
                const newTemplates = [...templates, template];
                setTemplates(newTemplates);
                localStorage.setItem('shoppingTemplates', JSON.stringify(newTemplates));
                setShowSaveTemplate(false);
                setNewTemplateName('');
            };

            const loadTemplate = async (template) => {
                for (const item of template.items) {
                    await addProduct(item.name, item.category, item.quantity);
                }
                setShowTemplates(false);
            };

            const deleteTemplate = (templateId) => {
                const newTemplates = templates.filter(t => t.id !== templateId);
                setTemplates(newTemplates);
                localStorage.setItem('shoppingTemplates', JSON.stringify(newTemplates));
            };

            // ============================================
            // Price per Item
            // ============================================
            const updateItemPrice = async (itemId, price) => {
                try {
                    const priceNum = parseFloat(price) || 0;
                    await window.firestore.updateDoc(
                        window.firestore.doc(window.db, 'shopping-items', itemId),
                        { price: priceNum, updatedAt: new Date() }
                    );
                    setEditingPriceId(null);
                    setEditingPriceValue('');
                } catch (error) {
                    console.error('Error updating price:', error);
                    setEditingPriceId(null);
                }
            };

            const estimatedTotal = React.useMemo(() => {
                return items
                    .filter(i => !i.purchased && i.price)
                    .reduce((sum, i) => sum + calculateItemPrice(i), 0);
            }, [items]);

            // Price comparison scanner functions
            const startPriceScanner = async () => {
                setShowPriceScanner(true);
                setScannedProductName('');
                setPriceCompareResults(null);
                try {
                    const stream = await navigator.mediaDevices.getUserMedia({
                        video: { facingMode: 'environment', width: { ideal: 1280 }, height: { ideal: 720 } }
                    });
                    if (priceVideoRef.current) {
                        priceVideoRef.current.srcObject = stream;
                    }
                } catch (err) {
                    console.error('Camera error:', err);
                    alert(' 转 砖转 爪');
                    setShowPriceScanner(false);
                }
            };

            const stopPriceScanner = () => {
                if (priceVideoRef.current?.srcObject) {
                    const tracks = priceVideoRef.current.srcObject.getTracks();
                    tracks.forEach(track => {
                        track.stop();
                        track.enabled = false;
                    });
                    priceVideoRef.current.srcObject = null;
                }
                setShowPriceScanner(false);
                setScanningPrice(false);
            };

            // Get product suggestions for price search
            const getPriceSearchSuggestions = (searchText) => {
                if (!searchText || searchText.length < 2) return [];
                const text = searchText.toLowerCase();
                const suggestions = [];
                for (const [cat, products] of Object.entries(PRODUCTS)) {
                    for (const product of products) {
                        if (product.includes(searchText) || product.toLowerCase().includes(text)) {
                            suggestions.push(product);
                            if (suggestions.length >= 8) return suggestions;
                        }
                    }
                }
                return suggestions;
            };

            // Translate English product name to Hebrew
            const translateProductToHebrew = (text) => {
                if (!text) return text;
                const lower = text.toLowerCase().trim();

                // Check direct translation
                if (ENGLISH_TO_HEBREW[lower]) {
                    return ENGLISH_TO_HEBREW[lower];
                }

                // Check if any word matches
                const words = lower.split(/\s+/);
                for (const word of words) {
                    if (ENGLISH_TO_HEBREW[word]) {
                        return ENGLISH_TO_HEBREW[word];
                    }
                }

                // Check partial matches
                for (const [eng, heb] of Object.entries(ENGLISH_TO_HEBREW)) {
                    if (lower.includes(eng) || eng.includes(lower)) {
                        return heb;
                    }
                }

                return text; // Return original if no translation found
            };

            // Check if text is English (contains mostly English letters)
            const isEnglishText = (text) => {
                const englishChars = (text.match(/[a-zA-Z]/g) || []).length;
                const hebrewChars = (text.match(/[\u0590-\u05FF]/g) || []).length;
                return englishChars > hebrewChars;
            };

            const captureAndScanPrice = async () => {
                if (!priceVideoRef.current || !priceCanvasRef.current) return;

                setScanningPrice(true);

                // Lazy load Tesseract.js if not already loaded
                if (!window.Tesseract) {
                    try {
                        await window.loadTesseract();
                    } catch (err) {
                        console.error('Failed to load Tesseract:', err);
                        setScanningPrice(false);
                        alert('砖 注转 注 住专拽. 住 砖.');
                        return;
                    }
                }
                const video = priceVideoRef.current;
                const canvas = priceCanvasRef.current;

                // Use higher resolution for better OCR
                const scale = 2;
                canvas.width = video.videoWidth * scale;
                canvas.height = video.videoHeight * scale;
                const ctx = canvas.getContext('2d');

                // Draw scaled up image
                ctx.drawImage(video, 0, 0, canvas.width, canvas.height);

                // Advanced image preprocessing for OCR
                const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
                const data = imageData.data;
                const grayData = new Uint8Array(canvas.width * canvas.height);

                // Step 1: Convert to perceptually-weighted grayscale (ITU-R BT.709)
                for (let i = 0, j = 0; i < data.length; i += 4, j++) {
                    grayData[j] = Math.round(data[i] * 0.2126 + data[i + 1] * 0.7152 + data[i + 2] * 0.0722);
                }

                // Step 2: Contrast stretching (histogram normalization)
                let min = 255, max = 0;
                for (const v of grayData) { min = Math.min(min, v); max = Math.max(max, v); }
                const range = max - min || 1;
                for (let i = 0; i < grayData.length; i++) {
                    grayData[i] = Math.round(((grayData[i] - min) / range) * 255);
                }

                // Step 3: Otsu's adaptive thresholding
                const histogram = new Uint32Array(256);
                for (const v of grayData) histogram[v]++;

                const total = grayData.length;
                let sum = 0;
                for (let i = 0; i < 256; i++) sum += i * histogram[i];

                let sumB = 0, wB = 0, maxVariance = 0, threshold = 128;
                for (let t = 0; t < 256; t++) {
                    wB += histogram[t];
                    if (wB === 0) continue;
                    const wF = total - wB;
                    if (wF === 0) break;
                    sumB += t * histogram[t];
                    const mB = sumB / wB;
                    const mF = (sum - sumB) / wF;
                    const variance = wB * wF * Math.pow(mB - mF, 2);
                    if (variance > maxVariance) { maxVariance = variance; threshold = t; }
                }

                // Apply threshold with anti-aliasing for smoother edges
                for (let i = 0, j = 0; i < data.length; i += 4, j++) {
                    const val = grayData[j] > threshold ? 255 : 0;
                    data[i] = data[i + 1] = data[i + 2] = val;
                }
                ctx.putImageData(imageData, 0, 0);

                try {
                    // Run Hebrew and English OCR in parallel for speed
                    const [hebResult, engResult] = await Promise.all([
                        Tesseract.recognize(canvas, 'heb', {
                            tessedit_pageseg_mode: '11', // Sparse text
                        }),
                        Tesseract.recognize(canvas, 'eng', {
                            tessedit_pageseg_mode: '11',
                        })
                    ]);

                    // Choose result with higher confidence
                    const hebConf = hebResult.data.confidence || 0;
                    const engConf = engResult.data.confidence || 0;
                    let text = '';
                    let isEnglish = false;

                    if (hebConf >= engConf && hebResult.data.text.trim().length > 2) {
                        text = hebResult.data.text.trim();
                    } else if (engResult.data.text.trim().length > 2) {
                        text = engResult.data.text.trim();
                        isEnglish = true;
                    } else {
                        text = hebResult.data.text.trim() || engResult.data.text.trim();
                        isEnglish = isEnglishText(text);
                    }

                    // Extract words with improved filtering
                    const skipWords = new Set(['砖', '转', '', '', '注', '注', '', '', '', '',
                        'the', 'and', 'or', 'is', 'are', 'was', 'were', 'be', 'been', 'being',
                        'have', 'has', 'had', 'do', 'does', 'did', 'will', 'would', 'could', 'should',
                        'may', 'might', 'must', 'shall', 'can', 'need', 'dare', 'ought', 'used',
                        'a', 'an', 'to', 'for', 'of', 'in', 'on', 'at', 'by', 'with', 'from']);

                    const words = text.match(/[\u0590-\u05FFa-zA-Z]{2,}/g) || [];
                    const cleanWords = words.filter(w => w.length >= 2 && !skipWords.has(w.toLowerCase()));

                    if (cleanWords.length > 0) {
                        let productName = cleanWords.slice(0, 4).join(' ');

                        // Translate English to Hebrew
                        if (isEnglish) {
                            productName = translateProductToHebrew(productName);
                        }

                        // Fuzzy match with product database
                        const allProducts = Object.values(PRODUCTS).flat();
                        let bestMatch = null;
                        let bestScore = 0;

                        const searchTerms = productName.toLowerCase().split(/\s+/);
                        for (const product of allProducts) {
                            const productLower = product.toLowerCase();
                            let score = 0;

                            // Exact match bonus
                            if (productLower === productName.toLowerCase()) {
                                score = 100;
                            } else if (productLower.includes(productName.toLowerCase()) || productName.toLowerCase().includes(productLower)) {
                                score = 80;
                            } else {
                                // Word-based matching
                                for (const term of searchTerms) {
                                    if (productLower.includes(term)) score += 20;
                                    if (term.includes(productLower.split(' ')[0])) score += 15;
                                }
                            }

                            if (score > bestScore) {
                                bestScore = score;
                                bestMatch = product;
                            }
                        }

                        if (bestMatch && bestScore >= 30) {
                            setScannedProductName(bestMatch);
                        } else {
                            setScannedProductName(productName);
                        }
                    } else {
                        setScannedProductName('');
                    }
                } catch (err) {
                    console.error('OCR Error:', err);
                } finally {
                    setScanningPrice(false);

                    // Stop camera after scan
                    if (priceVideoRef.current?.srcObject) {
                        const tracks = priceVideoRef.current.srcObject.getTracks();
                        tracks.forEach(track => {
                            track.stop();
                            track.enabled = false;
                        });
                        priceVideoRef.current.srcObject = null;
                    }
                }
            };

            const searchPriceComparison = (productName) => {
                if (!productName) return;

                // Stop camera when showing results
                if (priceVideoRef.current?.srcObject) {
                    const tracks = priceVideoRef.current.srcObject.getTracks();
                    tracks.forEach(track => {
                        track.stop();
                        track.enabled = false;
                    });
                    priceVideoRef.current.srcObject = null;
                }

                const encodedName = encodeURIComponent(productName);

                // Israeli supermarket search URLs
                const sites = [
                    { name: '砖驻专住', url: `https://www.shufersal.co.il/online/he/search?text=${encodedName}`, color: 'bg-red-500' },
                    { name: '专 ', url: `https://www.rami-levy.co.il/he/online/search?q=${encodedName}`, color: 'bg-blue-500' },
                    { name: '拽专', url: `https://www.victoryonline.co.il/search?q=${encodedName}`, color: 'bg-orange-500' },
                    { name: '转 转', url: `https://www.ybitan.co.il/search?q=${encodedName}`, color: 'bg-purple-500' },
                    { name: '爪 ', url: `https://shop.hazi-hinam.co.il/search?q=${encodedName}`, color: 'bg-green-500' }
                ];

                setPriceCompareResults(sites);
            };

            const openPriceLink = (url) => {
                window.open(url, '_blank');
            };

            // Compare full shopping list across chains
            const compareFullShoppingList = async () => {
                const unpurchasedItems = items.filter(item => !item.purchased);
                if (unpurchasedItems.length === 0) {
                    alert(' 驻专 砖 专砖');
                    return;
                }

                setShowListComparison(true);
                setListComparisonLoading(true);
                setListComparisonData(null);

                try {
                    const data = await window.PriceComparisonAPI.compareShoppingList(unpurchasedItems);
                    setListComparisonData(data);
                } catch (error) {
                    console.error('Price comparison failed:', error);
                    setListComparisonData({
                        error: true,
                        message: '砖 砖转 专. 住 砖.'
                    });
                } finally {
                    setListComparisonLoading(false);
                }
            };

            // Optimize shopping basket
            const optimizeShoppingBasket = async (strategy = 'optimal') => {
                const unpurchasedItems = items.filter(item => !item.purchased);
                if (unpurchasedItems.length === 0) return;

                setListComparisonLoading(true);
                setOptimizationStrategy(strategy);

                try {
                    const data = await window.PriceComparisonAPI.optimizeBasket(unpurchasedItems, 2, strategy);
                    setListComparisonData(prev => ({
                        ...prev,
                        optimization: data
                    }));
                    setComparisonViewMode('optimal');
                } catch (error) {
                    console.error('Optimization failed:', error);
                } finally {
                    setListComparisonLoading(false);
                }
            };

            // Get color for chain
            const getChainColor = (chainName) => {
                const colors = {
                    '砖驻专住': 'bg-red-500',
                    '专 ': 'bg-blue-500',
                    '拽专': 'bg-orange-500',
                    '转 转': 'bg-purple-500',
                    '爪 ': 'bg-green-500',
                    '': 'bg-cyan-500',
                    '砖专 注': 'bg-teal-500',
                    ' 注': 'bg-amber-500',
                    '祝': 'bg-indigo-500',
                    '住驻专 驻专': 'bg-pink-500'
                };
                return colors[chainName] || 'bg-gray-500';
            };

            // Get holiday recommendations
            const getHolidayRecommendations = () => {
                const now = new Date();
                const upcoming = ISRAELI_HOLIDAYS.filter(h => {
                    const daysUntil = Math.ceil((h.dateObj - now) / (1000 * 60 * 60 * 24));
                    return daysUntil > 0 && daysUntil <= 14;
                });

                const recommendations = {
                    '驻专': [' ', '砖拽', '转拽', '砖拽转', '驻专转 砖', ''],
                    '驻住': ['爪转', '', '专住转', '住', '爪', '砖专', '转驻 ', '爪'],
                    ' 注爪转': ['砖专 ', '拽拽转', '专专', '驻', '转', '住', '砖拽转 拽'],
                    '" 注专': ['拽拽转', '砖专', '驻', '转专住', '转', '拽砖驻', '专'],
                    '砖注转': ['转', '砖转', '', '爪', '驻专转', '注转 '],
                    '专砖 砖': ['转驻', '砖', '专', '', '砖专', '', ''],
                    '住转': ['驻专转', '专拽转', '砖专', '注祝', ''],
                    '': ['砖', '转驻 ', '爪', '爪', '拽', '住驻转', '砖拽 注转']
                };

                return upcoming.map(holiday => ({
                    ...holiday,
                    products: recommendations[holiday.name] || []
                })).filter(h => h.products.length > 0);
            };

            // AI Assistant - Smart Shopping Suggestions
            const generateAISuggestions = () => {
                setAiThinking(true);
                setAiSuggestions([]);

                // Simulate AI thinking delay
                setTimeout(() => {
                    const suggestions = [];
                    const currentItems = items.map(i => i.name.toLowerCase());
                    const currentCategories = [...new Set(items.map(i => i.category))];

                    // 1. Suggest complementary items based on what's in cart
                    const complementaryRules = {
                        '驻住': ['专 注转', ' 爪', '砖 转'],
                        '砖专 ': ['爪', '砖', '爪', '驻专专 '],
                        ' 注祝': ['', '砖', '砖 转', '转'],
                        '': ['', '专', ' 爪'],
                        '爪': ['', ' 爪', '专拽转'],
                        '住': ['砖 转', '', '注转', '驻驻'],
                        '专': ['专 住', '专拽转 拽驻爪', '注祝'],
                        '拽驻': ['', '住专', '注转'],
                        '转': ['砖', '', '注转'],
                        '砖爪': ['转驻 ', '住', ''],
                        '专专': ['转', '拽砖驻', '专', '住', '注转'],
                        '驻爪': [' 爪', '专 注转', '转', '驻专转']
                    };

                    items.forEach(item => {
                        const itemLower = item.name.toLowerCase();
                        Object.keys(complementaryRules).forEach(key => {
                            if (itemLower.includes(key)) {
                                complementaryRules[key].forEach(suggestion => {
                                    if (!currentItems.some(ci => ci.includes(suggestion.toLowerCase())) &&
                                        !suggestions.some(s => s.name === suggestion)) {
                                        suggestions.push({
                                            type: 'complementary',
                                            name: suggestion,
                                            reason: `砖 ${item.name}`,
                                            icon: 'З'
                                        });
                                    }
                                });
                            }
                        });
                    });

                    // 2. Suggest basics if missing
                    const basicItems = ['', '', '爪', '', ' 爪'];
                    basicItems.forEach(basic => {
                        if (!currentItems.some(ci => ci.includes(basic.toLowerCase()))) {
                            if (Math.random() > 0.5) { // Don't suggest all basics
                                suggestions.push({
                                    type: 'basic',
                                    name: basic,
                                    reason: '爪专 住住 砖 砖 转',
                                    icon: ''
                                });
                            }
                        }
                    });

                    // 3. Suggest based on day of week
                    const dayOfWeek = new Date().getDay();
                    if (dayOfWeek === 4 || dayOfWeek === 5) { // Thursday or Friday - Shabbat prep
                        const shabbatItems = ['', '', '专转 砖转', '注祝', '转驻 '];
                        shabbatItems.forEach(item => {
                            if (!currentItems.some(ci => ci.includes(item.toLowerCase()))) {
                                suggestions.push({
                                    type: 'shabbat',
                                    name: item,
                                    reason: '拽专转 砖转',
                                    icon: '锔'
                                });
                            }
                        });
                    }

                    // 4. Suggest based on weather/season (simple logic)
                    const month = new Date().getMonth();
                    if (month >= 5 && month <= 8) { // Summer
                        const summerItems = ['', '', '', '抓'];
                        summerItems.forEach(item => {
                            if (!currentItems.some(ci => ci.includes(item.toLowerCase())) && Math.random() > 0.6) {
                                suggestions.push({
                                    type: 'seasonal',
                                    name: item,
                                    reason: '转 拽抓',
                                    icon: '锔'
                                });
                            }
                        });
                    } else if (month >= 11 || month <= 2) { // Winter
                        const winterItems = ['专拽', '转', '砖', '砖拽'];
                        winterItems.forEach(item => {
                            if (!currentItems.some(ci => ci.includes(item.toLowerCase())) && Math.random() > 0.6) {
                                suggestions.push({
                                    type: 'seasonal',
                                    name: item,
                                    reason: '转 专祝',
                                    icon: '锔'
                                });
                            }
                        });
                    }

                    // 5. Recipe suggestion based on items
                    if (currentItems.some(ci => ci.includes('驻住')) &&
                        currentItems.some(ci => ci.includes('专') || ci.includes('注'))) {
                        suggestions.unshift({
                            type: 'recipe',
                            name: ' 驻砖专  驻住 专 注转!',
                            reason: ' 专 专砖',
                            icon: 'ㄢ',
                            isRecipe: true
                        });
                    }

                    if (currentItems.some(ci => ci.includes('爪')) &&
                        currentItems.some(ci => ci.includes(''))) {
                        suggestions.unshift({
                            type: 'recipe',
                            name: ' 驻砖专  转 注 !',
                            reason: ' 专 专砖',
                            icon: 'ㄢ',
                            isRecipe: true
                        });
                    }

                    // Limit suggestions
                    setAiSuggestions(suggestions.slice(0, 8));
                    setAiThinking(false);
                }, 1500);
            };

            // Add AI suggestion to cart
            const addAISuggestion = async (suggestion) => {
                if (suggestion.isRecipe) return;
                await addProduct(suggestion.name);
                setAiSuggestions(prev => prev.filter(s => s.name !== suggestion.name));
            };

            // Load saved data on mount
            React.useEffect(() => {
                const savedListsData = localStorage.getItem(`savedLists_${family?.id}`);
                if (savedListsData) setSavedLists(JSON.parse(savedListsData));

                const outOfStockData = localStorage.getItem(`outOfStock_${family?.id}`);
                if (outOfStockData) setOutOfStockItems(JSON.parse(outOfStockData));
            }, [family?.id]);

            // Update presence for real-time editing
            React.useEffect(() => {
                if (!family?.id || !user) return;

                const presenceRef = window.firestore.doc(window.db, 'families', family.id, 'presence', user.uid);

                const updatePresence = () => {
                    window.firestore.setDoc(presenceRef, {
                        name: user.displayName || user.email,
                        lastSeen: new Date(),
                        isActive: true
                    }, { merge: true });
                };

                updatePresence();
                const interval = setInterval(updatePresence, 30000);

                // Listen to other editors
                const unsubscribe = window.firestore.onSnapshot(
                    window.firestore.collection(window.db, 'families', family.id, 'presence'),
                    (snapshot) => {
                        const editors = [];
                        const now = new Date();
                        snapshot.forEach(doc => {
                            const data = doc.data();
                            if (doc.id !== user.uid && data.lastSeen) {
                                const lastSeen = data.lastSeen.toDate ? data.lastSeen.toDate() : new Date(data.lastSeen);
                                if ((now - lastSeen) < 60000) { // Active in last minute
                                    editors.push(data.name);
                                }
                            }
                        });
                        setActiveEditors(editors);
                    }
                );

                return () => {
                    clearInterval(interval);
                    unsubscribe();
                    window.firestore.updateDoc(presenceRef, { isActive: false });
                };
            }, [family?.id, user]);

            // Translate English to Hebrew
            const translateToHebrew = (text) => {
                const lowerText = text.toLowerCase().trim();
                // Direct match
                if (ENGLISH_TO_HEBREW[lowerText]) {
                    return ENGLISH_TO_HEBREW[lowerText];
                }
                // Try without 's' for plurals
                if (lowerText.endsWith('s') && ENGLISH_TO_HEBREW[lowerText.slice(0, -1)]) {
                    return ENGLISH_TO_HEBREW[lowerText.slice(0, -1)];
                }
                // Try partial match
                for (const [eng, heb] of Object.entries(ENGLISH_TO_HEBREW)) {
                    if (lowerText.includes(eng) || eng.includes(lowerText)) {
                        return heb;
                    }
                }
                return text; // Return original if no translation found
            };

            useEffect(() => {
                const savedDark = localStorage.getItem('darkMode') === 'true';
                if (savedDark) {
                    setDarkMode(true);
                    document.documentElement.classList.add('dark');
                }
            }, []);

            // Check for first-time visit and show onboarding
            useEffect(() => {
                const hasSeenOnboarding = localStorage.getItem('hasSeenOnboarding');
                if (!hasSeenOnboarding) {
                    setTimeout(() => setShowOnboarding(true), 1000);
                }
                // Load saved accessibility settings
                const savedAccessibility = localStorage.getItem('accessibilitySettings');
                if (savedAccessibility) {
                    const settings = JSON.parse(savedAccessibility);
                    setAccessibilitySettings(settings);
                    applyAccessibilitySettings(settings);
                }
            }, []);

            // Apply accessibility settings to document
            const applyAccessibilitySettings = (settings) => {
                const root = document.documentElement;
                // Font size
                root.style.fontSize = settings.fontSize === 'large' ? '120%' : settings.fontSize === 'small' ? '85%' : '100%';
                // Contrast
                if (settings.contrast === 'high') {
                    root.classList.add('high-contrast');
                    root.classList.remove('low-contrast');
                } else if (settings.contrast === 'low') {
                    root.classList.add('low-contrast');
                    root.classList.remove('high-contrast');
                } else {
                    root.classList.remove('high-contrast', 'low-contrast');
                }
                // Highlight links
                if (settings.highlightLinks) {
                    root.classList.add('highlight-links');
                } else {
                    root.classList.remove('highlight-links');
                }
                // Cursor size
                if (settings.cursorSize === 'large-black') {
                    root.classList.add('cursor-large-black');
                    root.classList.remove('cursor-large-white');
                } else if (settings.cursorSize === 'large-white') {
                    root.classList.add('cursor-large-white');
                    root.classList.remove('cursor-large-black');
                } else {
                    root.classList.remove('cursor-large-black', 'cursor-large-white');
                }
            };

            const updateAccessibility = (key, value) => {
                const newSettings = { ...accessibilitySettings, [key]: value };
                setAccessibilitySettings(newSettings);
                localStorage.setItem('accessibilitySettings', JSON.stringify(newSettings));
                applyAccessibilitySettings(newSettings);
            };

            const resetAccessibility = () => {
                const defaultSettings = { fontSize: 'normal', contrast: 'normal', highlightLinks: false, cursorSize: 'normal' };
                setAccessibilitySettings(defaultSettings);
                localStorage.setItem('accessibilitySettings', JSON.stringify(defaultSettings));
                applyAccessibilitySettings(defaultSettings);
            };

            const completeOnboarding = () => {
                localStorage.setItem('hasSeenOnboarding', 'true');
                setShowOnboarding(false);
            };

            const sendFeedback = async () => {
                if (!feedbackText.trim()) return;
                setFeedbackSending(true);
                try {
                    // Send feedback using EmailJS or similar service (hidden from user)
                    const templateParams = {
                        type: feedbackType,
                        message: feedbackText,
                        user_email: user?.email || ' 专',
                        user_name: user?.displayName || ''
                    };
                    // Using a simple mailto link as fallback (opens email client)
                    const subject = encodeURIComponent(`[ListNest] ${feedbackType === 'bug' ? ' 注 注' : feedbackType === 'feature' ? '拽砖转 驻爪\'专' : '砖 '}`);
                    const body = encodeURIComponent(`住: ${feedbackType}\n\n注:\n${feedbackText}\n\n---\n砖转砖: ${user?.displayName || ''}\n: ${user?.email || ' '}`);
                    window.open(`mailto:shopinglist1979@gmail.com?subject=${subject}&body=${body}`, '_blank');
                    setFeedbackSent(true);
                    setFeedbackText('');
                    setTimeout(() => {
                        setShowFeedback(false);
                        setFeedbackSent(false);
                    }, 2000);
                } catch (error) {
                    console.error('Error sending feedback:', error);
                }
                setFeedbackSending(false);
            };

            // Cache key for current list
            const getCacheKey = () => `items_${family?.id}_${currentList?.id}`;

            // Save items to local cache
            const cacheItems = (itemsData) => {
                try {
                    const cacheData = itemsData.map(item => ({
                        ...item,
                        createdAt: item.createdAt?.toDate?.()?.toISOString() || item.createdAt,
                        updatedAt: item.updatedAt?.toDate?.()?.toISOString() || item.updatedAt
                    }));
                    localStorage.setItem(getCacheKey(), JSON.stringify(cacheData));
                } catch (e) { console.warn('Failed to cache items:', e); }
            };

            // Load items from local cache
            const loadCachedItems = () => {
                try {
                    const cached = localStorage.getItem(getCacheKey());
                    if (cached) {
                        const items = JSON.parse(cached);
                        return items.map(item => ({
                            ...item,
                            createdAt: item.createdAt ? { toDate: () => new Date(item.createdAt) } : null
                        }));
                    }
                } catch (e) { console.warn('Failed to load cached items:', e); }
                return null;
            };

            useEffect(() => {
                if (!family || !currentList) {
                    setItems([]);
                    setLoading(false);
                    return;
                }

                // Load cached items immediately for faster display
                const cached = loadCachedItems();
                if (cached && cached.length > 0) {
                    setItems(cached);
                    console.log(' Loaded', cached.length, 'items from cache');
                }

                const q = window.firestore.query(
                    window.firestore.collection(window.db, 'shopping-items'),
                    window.firestore.where('familyId', '==', family.id),
                    window.firestore.where('listId', '==', currentList.id)
                );

                const unsubscribe = window.firestore.onSnapshot(
                    q,
                    { includeMetadataChanges: true },
                    (snapshot) => {
                        const itemsData = [];
                        snapshot.forEach((doc) => {
                            itemsData.push({ id: doc.id, ...doc.data() });
                        });
                        // Sort client-side (newest first)
                        itemsData.sort((a, b) => {
                            const dateA = a.createdAt?.toDate?.() || new Date(0);
                            const dateB = b.createdAt?.toDate?.() || new Date(0);
                            return dateB - dateA;
                        });

                        // Check for new items added by other users
                        const currentIds = new Set(itemsData.map(item => item.id));
                        itemsData.forEach(item => {
                            if (!prevItemIdsRef.current.has(item.id) && prevItemIdsRef.current.size > 0) {
                                // New item detected
                                if (item.addedByUid && item.addedByUid !== user?.uid) {
                                    // Added by another user - show notification
                                    showProductNotification(item, item.addedBy || '砖');
                                }
                            }
                        });
                        prevItemIdsRef.current = currentIds;

                        setItems(itemsData);
                        setLoading(false);

                        // Cache items for offline use (only if from server, not cache)
                        if (!snapshot.metadata.fromCache) {
                            cacheItems(itemsData);
                            console.log(' Cached', itemsData.length, 'items from server');
                        } else {
                            console.log(' Loaded', itemsData.length, 'items from Firestore cache');
                        }
                    },
                    (error) => {
                        console.error('砖 注转 转:', error);
                        // On error, try to load from localStorage cache
                        const cached = loadCachedItems();
                        if (cached) {
                            setItems(cached);
                            console.log(' Loaded', cached.length, 'items from fallback cache');
                        }
                        setLoading(false);
                    }
                );

                loadHistory();
                return () => unsubscribe();
            }, [family, currentList]);

            const loadHistory = async () => {
                if (!family) return;
                try {
                    const historyQuery = window.firestore.query(
                        window.firestore.collection(window.db, 'shopping-history'),
                        window.firestore.where('familyId', '==', family.id)
                    );
                    const snapshot = await window.firestore.getDocs(historyQuery);
                    const historyData = [];
                    snapshot.forEach(doc => {
                        historyData.push({ id: doc.id, ...doc.data() });
                    });
                    // Sort client-side (newest first)
                    historyData.sort((a, b) => {
                        const dateA = a.completedAt?.toDate?.() || new Date(0);
                        const dateB = b.completedAt?.toDate?.() || new Date(0);
                        return dateB - dateA;
                    });
                    setHistory(historyData);
                } catch (error) {
                    console.error('砖 注转 住专:', error);
                }
            };

            // Request notification permission
            useEffect(() => {
                const requestNotificationPermission = async () => {
                    if ('Notification' in window) {
                        if (Notification.permission === 'granted') {
                            setNotificationsEnabled(true);
                        } else if (Notification.permission !== 'denied') {
                            const permission = await Notification.requestPermission();
                            setNotificationsEnabled(permission === 'granted');
                        }
                    }
                };
                requestNotificationPermission();
            }, []);

            // Show chat notification
            const showChatNotification = (message) => {
                if (!notificationsEnabled || !('Notification' in window)) return;
                if (Notification.permission !== 'granted') return;

                // Don't show if chat is open and visible
                if (showChat && document.visibilityState === 'visible') return;

                const title = ` ${message.senderName || '注 砖'}`;
                const body = message.photoUrl ? ' 砖/ 转' : message.text || '注 砖';

                try {
                    const notification = new Notification(title, {
                        body: body,
                        icon: '',
                        badge: '',
                        tag: 'chat-message',
                        renotify: true,
                        vibrate: [200, 100, 200]
                    });

                    notification.onclick = () => {
                        window.focus();
                        setShowChat(true);
                        notification.close();
                    };

                    // Auto close after 5 seconds
                    setTimeout(() => notification.close(), 5000);
                } catch (error) {
                    console.error('Notification error:', error);
                }
            };

            // Show product added notification
            const showProductNotification = (item, addedByName) => {
                if (!notificationsEnabled || !('Notification' in window)) return;
                if (Notification.permission !== 'granted') return;
                if (document.visibilityState === 'visible') return; // Don't notify if app is visible

                const title = ` 爪专 住祝 专砖`;
                const body = `${addedByName} 住祝/: ${item.name}`;

                try {
                    const notification = new Notification(title, {
                        body: body,
                        icon: '',
                        badge: '',
                        tag: 'product-added',
                        renotify: true,
                        vibrate: [200, 100, 200]
                    });

                    notification.onclick = () => {
                        window.focus();
                        notification.close();
                    };

                    setTimeout(() => notification.close(), 4000);
                } catch (error) {
                    console.error('Notification error:', error);
                }
            };

            // Mark messages as read when chat is opened
            const markMessagesAsRead = async () => {
                if (!family || !user || !showChat) return;

                const unreadMessages = chatMessages.filter(msg =>
                    msg.senderUid !== user.uid &&
                    (!msg.readBy || !msg.readBy.includes(user.uid))
                );

                for (const msg of unreadMessages) {
                    try {
                        await window.firestore.updateDoc(
                            window.firestore.doc(window.db, 'family-chat', msg.id),
                            { readBy: window.firestore.arrayUnion(user.uid) }
                        );
                    } catch (e) {
                        console.error('Error marking message as read:', e);
                    }
                }
            };

            // Mark messages as read when chat opens
            useEffect(() => {
                if (showChat && chatMessages.length > 0) {
                    markMessagesAsRead();
                }
            }, [showChat, chatMessages.length]);

            // Load chat messages
            useEffect(() => {
                if (!family) {
                    setChatMessages([]);
                    return;
                }

                const q = window.firestore.query(
                    window.firestore.collection(window.db, 'family-chat'),
                    window.firestore.where('familyId', '==', family.id)
                );

                const unsubscribe = window.firestore.onSnapshot(q, (snapshot) => {
                    const messages = [];
                    snapshot.forEach((doc) => {
                        messages.push({ id: doc.id, ...doc.data() });
                    });
                    messages.sort((a, b) => {
                        const dateA = a.createdAt?.toDate?.() || new Date(0);
                        const dateB = b.createdAt?.toDate?.() || new Date(0);
                        return dateA - dateB;
                    });

                    // Check for new messages from other users and send notification
                    if (messages.length > 0 && user) {
                        const latestMessage = messages[messages.length - 1];
                        if (latestMessage.id !== lastMessageIdRef.current &&
                            latestMessage.senderUid !== user.uid &&
                            lastMessageIdRef.current !== null) {
                            // New message from someone else
                            showChatNotification(latestMessage);
                        }
                        lastMessageIdRef.current = latestMessage.id;
                    }

                    setChatMessages(messages);
                });

                return () => unsubscribe();
            }, [family, user]);

            // Load forgotten stats
            useEffect(() => {
                if (!family) {
                    setForgottenStats({});
                    setShoppingStreak(0);
                    setAchievements([]);
                    return;
                }

                const monthKey = new Date().toISOString().slice(0, 7);
                const docRef = window.firestore.doc(window.db, 'forgotten-stats', `${family.id}_${monthKey}`);

                const unsubscribe = window.firestore.onSnapshot(docRef, (doc) => {
                    if (doc.exists()) {
                        setForgottenStats(doc.data().items || {});
                    } else {
                        setForgottenStats({});
                    }
                });

                // Load streak data
                loadShoppingStreak();

                return () => unsubscribe();
            }, [family]);

            // Recalculate achievements when stats change
            useEffect(() => {
                const newAchievements = [];

                // Only show achievements if we have some shopping history
                const essentials = ['', '', '爪', '', '注转', '驻驻'];

                // Check for items with zero forgets this month (only show top 3)
                let perfectCount = 0;
                essentials.forEach(item => {
                    if ((!forgottenStats[item] || forgottenStats[item] === 0) && perfectCount < 3) {
                        newAchievements.push({
                            name: `${item} Master`,
                            emoji: '',
                            description: `0 驻注 砖转 ${item} 砖`
                        });
                        perfectCount++;
                    }
                });

                // Perfect week achievement
                if (shoppingStreak >= 7) {
                    newAchievements.push({
                        name: '砖注 砖',
                        emoji: '猸',
                        description: `${shoppingStreak} 拽转 专爪祝  砖!`
                    });
                } else if (shoppingStreak >= 3) {
                    newAchievements.push({
                        name: '注 专 ',
                        emoji: '',
                        description: `${shoppingStreak} 拽转 专爪祝!`
                    });
                }

                // Memory champion
                if (Object.keys(forgottenStats).length === 0 || Object.values(forgottenStats).every(v => v === 0)) {
                    newAchievements.push({
                        name: '祝 专',
                        emoji: '',
                        description: ' 砖转  砖!'
                    });
                }

                setAchievements(newAchievements);
            }, [forgottenStats, shoppingStreak]);

            // Load regular items (items that appear frequently in shopping history)
            useEffect(() => {
                if (!family || history.length === 0) {
                    setRegularItems([]);
                    return;
                }

                // Count item frequency across all shopping history
                const itemCounts = {};
                history.forEach(record => {
                    record.items?.forEach(item => {
                        const name = item.name?.toLowerCase?.() || '';
                        if (name) {
                            itemCounts[name] = (itemCounts[name] || 0) + 1;
                        }
                    });
                });

                // Get items that appear in at least 3 shopping trips or 30% of trips
                const minCount = Math.max(3, Math.floor(history.length * 0.3));
                const regulars = Object.entries(itemCounts)
                    .filter(([_, count]) => count >= minCount)
                    .sort((a, b) => b[1] - a[1])
                    .slice(0, 20)
                    .map(([name, count]) => ({ name, count }));

                setRegularItems(regulars);
            }, [family, history]);

            // Calculate upcoming holidays (within next 14 days)
            useEffect(() => {
                // This is a simplified version - in production you'd use a proper Hebrew calendar library
                const checkUpcomingHolidays = () => {
                    const today = new Date();
                    const twoWeeksFromNow = new Date(today.getTime() + 14 * 24 * 60 * 60 * 1000);

                    // For demo purposes, we'll show random holiday reminders occasionally
                    // In production, you'd integrate with a Hebrew calendar API
                    const savedReminders = JSON.parse(localStorage.getItem('holidayReminders') || '[]');
                    const lastCheck = localStorage.getItem('lastHolidayCheck');
                    const now = Date.now();

                    // Check once per day
                    if (!lastCheck || now - parseInt(lastCheck) > 24 * 60 * 60 * 1000) {
                        localStorage.setItem('lastHolidayCheck', now.toString());
                        // In a real implementation, calculate actual Hebrew dates here
                    }

                    setUpcomingHolidays(savedReminders);
                };

                checkUpcomingHolidays();
            }, []);

            // Add regular items to cart
            const addRegularItems = async () => {
                const currentItemNames = items.map(i => i.name.toLowerCase());
                const itemsToAdd = regularItems.filter(r => !currentItemNames.includes(r.name.toLowerCase()));

                for (const item of itemsToAdd) {
                    // Find category for the item
                    let category = 'other';
                    for (const [cat, products] of Object.entries(PRODUCTS)) {
                        if (products.some(p => p.toLowerCase() === item.name.toLowerCase())) {
                            category = cat;
                            break;
                        }
                    }

                    const unit = CATEGORIES[category]?.unit || '\'';
                    const estimatedPrice = getEstimatedPrice(item.name);

                    await window.firestore.addDoc(window.firestore.collection(window.db, 'shopping-items'), {
                        name: item.name.charAt(0).toUpperCase() + item.name.slice(1),
                        category,
                        quantity: 1,
                        unit,
                        purchased: false,
                        addedBy: user.displayName || user.email,
                        addedByUid: user.uid,
                        createdAt: new Date(),
                        updatedAt: new Date(),
                        familyId: family.id,
                        listId: currentList.id,
                        isRegular: true,
                        price: estimatedPrice || null,
                        priceSource: estimatedPrice ? 'estimated' : null
                    });
                }

                if (itemsToAdd.length > 0) {
                    alert(`住驻 ${itemsToAdd.length} 爪专 拽注 专砖! `);
                } else {
                    alert(' 爪专 拽注 专 爪 专砖');
                }

                setShowRegulars(false);
            };

            // Load shopping streak
            const loadShoppingStreak = async () => {
                if (!family) return;

                try {
                    const streakRef = window.firestore.doc(window.db, 'shopping-streaks', family.id);
                    const streakDoc = await window.firestore.getDoc(streakRef);

                    if (streakDoc.exists()) {
                        const data = streakDoc.data();
                        const lastDate = data.lastShoppingDate?.toDate?.() || new Date(0);
                        const daysSinceLast = Math.floor((new Date() - lastDate) / (1000 * 60 * 60 * 24));

                        // Reset streak if more than 2 days passed
                        if (daysSinceLast > 2) {
                            setShoppingStreak(0);
                        } else {
                            setShoppingStreak(data.streak || 0);
                        }
                    }
                } catch (error) {
                    console.error('Error loading streak:', error);
                }
            };

            // Update streak on successful shopping
            const updateShoppingStreak = async (hadForgottenItems) => {
                if (!family) return;

                try {
                    const streakRef = window.firestore.doc(window.db, 'shopping-streaks', family.id);
                    const streakDoc = await window.firestore.getDoc(streakRef);

                    let newStreak = 1;
                    if (streakDoc.exists() && !hadForgottenItems) {
                        const data = streakDoc.data();
                        const lastDate = data.lastShoppingDate?.toDate?.() || new Date(0);
                        const daysSinceLast = Math.floor((new Date() - lastDate) / (1000 * 60 * 60 * 24));

                        if (daysSinceLast <= 2) {
                            newStreak = (data.streak || 0) + 1;
                        }
                    } else if (hadForgottenItems) {
                        newStreak = 0;
                    }

                    await window.firestore.setDoc(streakRef, {
                        familyId: family.id,
                        streak: newStreak,
                        lastShoppingDate: new Date(),
                        updatedAt: new Date()
                    });

                    setShoppingStreak(newStreak);
                } catch (error) {
                    console.error('Error updating streak:', error);
                }
            };

            // Get playful message for forgotten count
            const getForgottenMessage = (count) => {
                if (count === 0) return { emoji: '', text: '砖!' };
                if (count === 1) return { emoji: '', text: '拽专 驻注 转' };
                if (count === 2) return { emoji: '', text: '驻住, 砖?' };
                if (count === 3) return { emoji: '', text: '砖砖 驻注...' };
                if (count >= 4) return { emoji: 'う', text: ' 砖 转专转!' };
                return { emoji: '', text: `${count} 驻注` };
            };

            // Voice recognition functions
            const startListening = () => {
                if (isListening) return;

                // Stop any existing recognition
                if (recognitionRef.current) {
                    try { recognitionRef.current.abort(); } catch(e) {}
                }

                // Clear previous timeout
                if (voiceTimeoutRef.current) {
                    clearTimeout(voiceTimeoutRef.current);
                }

                setVoiceTranscript('');
                setVoiceStatus(voiceLang === 'en-US' ? 'Starting...' : '转...');
                setIsListening(true);

                // Create fresh recognition instance
                const recognition = createRecognition();
                if (!recognition) {
                    setIsListening(false);
                    setVoiceStatus('驻驻  转  拽');
                    return;
                }

                recognitionRef.current = recognition;

                try {
                    recognition.start();

                    // Auto-stop after 10 seconds if no result
                    voiceTimeoutRef.current = setTimeout(() => {
                        if (isListening) {
                            setVoiceStatus(voiceLang === 'en-US' ? 'Timeout - try again' : '  专 - 住 砖');
                            try { recognition.stop(); } catch(e) {}
                            setIsListening(false);
                        }
                    }, 10000);

                } catch (e) {
                    console.error('Failed to start recognition:', e);
                    setIsListening(false);
                    setVoiceStatus('砖 驻注转  拽: ' + e.message);
                }
            };

            const stopListening = () => {
                if (voiceTimeoutRef.current) {
                    clearTimeout(voiceTimeoutRef.current);
                }
                if (recognitionRef.current) {
                    try {
                        recognitionRef.current.stop();
                    } catch(e) {}
                }
                setIsListening(false);
                setVoiceStatus(voiceLang === 'en-US' ? 'Stopped' : '驻住拽');
            };

            const processVoiceCommand = async (transcript, lang = 'he-IL') => {
                const text = transcript.trim().toLowerCase();
                if (!text) return;

                const isEnglish = lang === 'en-US';
                let itemPatterns;

                if (isEnglish) {
                    // Parse English - remove common phrases and split by "and", commas
                    itemPatterns = text
                        .replace(/add|buy|get|i need|i want|we need|please|some|the|a |an /gi, '')
                        .split(/\s*(?:,|and|&)\s*/)
                        .map(item => item.trim())
                        .filter(item => item.length > 1)
                        .map(item => translateToHebrew(item)); // Translate each item
                } else {
                    // Parse Hebrew - remove common phrases and split by "" (and), commas
                    itemPatterns = text
                        .replace(/转住祝|住祝|爪专|爪专|拽|拽|转拽|转拽| 专爪| 爪专| 爪专/g, '')
                        .split(/\s*(?:,|(?:)?|)\s*/)
                        .map(item => item.trim())
                        .filter(item => item.length > 1);
                }

                if (itemPatterns.length === 0) {
                    // Try as single item
                    let singleItem;
                    if (isEnglish) {
                        singleItem = translateToHebrew(text.replace(/add|buy|get|i need|i want|we need|please|some|the|a |an /gi, '').trim());
                    } else {
                        singleItem = text.replace(/转住祝|住祝|爪专|爪专|拽|拽|转拽|转拽| 专爪| 爪专| 爪专/g, '').trim();
                    }
                    if (singleItem.length > 1) {
                        itemPatterns.push(singleItem);
                    }
                }

                let addedCount = 0;
                for (const itemText of itemPatterns) {
                    // Try to find matching product in database
                    let matchedProduct = null;
                    let matchedCategory = 'other';

                    for (const [cat, products] of Object.entries(PRODUCTS)) {
                        const found = products.find(p =>
                            p.includes(itemText) || itemText.includes(p) ||
                            p.split(' ').some(word => itemText.includes(word) && word.length > 2)
                        );
                        if (found) {
                            matchedProduct = found;
                            matchedCategory = cat;
                            break;
                        }
                    }

                    const productName = matchedProduct || itemText;

                    // Check if already in list
                    const existing = items.find(item =>
                        item.name === productName ||
                        item.name.includes(itemText) ||
                        itemText.includes(item.name)
                    );

                    try {
                        if (existing && !existing.purchased) {
                            await window.firestore.updateDoc(
                                window.firestore.doc(window.db, 'shopping-items', existing.id),
                                { quantity: existing.quantity + 1, updatedAt: new Date() }
                            );
                        } else {
                            const estimatedPrice = getEstimatedPrice(productName);
                            await window.firestore.addDoc(window.firestore.collection(window.db, 'shopping-items'), {
                                name: productName,
                                category: matchedCategory,
                                quantity: 1,
                                purchased: false,
                                familyId: family.id,
                                listId: currentList.id,
                                addedBy: user.displayName || user.email,
                                addedByUid: user.uid,
                                note: ' 住祝 拽',
                                price: estimatedPrice || null,
                                priceSource: estimatedPrice ? 'estimated' : null,
                                createdAt: new Date()
                            });
                        }
                        addedCount++;
                    } catch (error) {
                        console.error('Error adding voice item:', error);
                    }
                }

                if (addedCount > 0) {
                    await logActivity('voice_items_added', { count: addedCount, transcript: transcript });
                    // Visual/audio feedback
                    if (navigator.vibrate) navigator.vibrate(100);
                }

                setVoiceTranscript('');
            };

            // Send chat message
            const sendChatMessage = async (text, photoUrl = null) => {
                if (!text.trim() && !photoUrl) return;
                try {
                    await window.firestore.addDoc(window.firestore.collection(window.db, 'family-chat'), {
                        text: text.trim(),
                        photoUrl: photoUrl,
                        senderName: user.displayName || user.email,
                        senderUid: user.uid,
                        familyId: family.id,
                        createdAt: window.firestore.serverTimestamp()
                    });
                    setChatInput('');
                    setCapturedPhoto(null);
                } catch (error) {
                    console.error('砖 砖转 注:', error);
                }
            };

            // Camera functions
            const startCamera = async () => {
                setShowCamera(true);
                try {
                    const stream = await navigator.mediaDevices.getUserMedia({
                        video: { facingMode: 'environment' }
                    });
                    if (videoRef.current) {
                        videoRef.current.srcObject = stream;
                    }
                } catch (error) {
                    console.error('砖 驻转转 爪:', error);
                    alert(' 转 砖转 爪');
                    setShowCamera(false);
                }
            };

            const capturePhoto = () => {
                if (videoRef.current && canvasRef.current) {
                    const canvas = canvasRef.current;
                    const video = videoRef.current;
                    canvas.width = video.videoWidth;
                    canvas.height = video.videoHeight;
                    const ctx = canvas.getContext('2d');
                    ctx.drawImage(video, 0, 0);
                    const photoData = canvas.toDataURL('image/jpeg', 0.8);
                    setCapturedPhoto(photoData);
                    stopCamera();
                }
            };

            const stopCamera = () => {
                if (videoRef.current && videoRef.current.srcObject) {
                    const tracks = videoRef.current.srcObject.getTracks();
                    tracks.forEach(track => {
                        track.stop();
                        track.enabled = false;
                    });
                    videoRef.current.srcObject = null;
                }
                setShowCamera(false);
            };

            // Handle receipt photo capture
            const handleReceiptCapture = async (e) => {
                const file = e.target.files?.[0];
                if (!file) return;

                setUploadingReceipt(true);
                try {
                    // Compress and convert to base64
                    const reader = new FileReader();
                    reader.onload = async (event) => {
                        const img = new Image();
                        img.onload = () => {
                            // Create canvas for compression
                            const canvas = document.createElement('canvas');
                            const maxSize = 800;
                            let width = img.width;
                            let height = img.height;

                            // Scale down if too large
                            if (width > height && width > maxSize) {
                                height = (height * maxSize) / width;
                                width = maxSize;
                            } else if (height > maxSize) {
                                width = (width * maxSize) / height;
                                height = maxSize;
                            }

                            canvas.width = width;
                            canvas.height = height;
                            const ctx = canvas.getContext('2d');
                            ctx.drawImage(img, 0, 0, width, height);

                            // Get compressed base64
                            const compressedData = canvas.toDataURL('image/jpeg', 0.7);
                            setReceiptPhoto(compressedData);
                            setUploadingReceipt(false);
                        };
                        img.src = event.target.result;
                    };
                    reader.readAsDataURL(file);
                } catch (error) {
                    console.error('Error processing receipt:', error);
                    setUploadingReceipt(false);
                    alert('砖 注 转');
                }

                // Clear the input
                e.target.value = '';
            };

            // Enhanced toggle purchased with animation
            const togglePurchasedWithAnimation = async (id, currentStatus, event) => {
                if (!currentStatus) {
                    // Adding to purchased - show confetti!
                    const rect = event?.currentTarget?.getBoundingClientRect();
                    if (rect) {
                        setConfetti({ x: rect.left + rect.width / 2, y: rect.top + rect.height / 2 });
                        setTimeout(() => setConfetti(null), 600);
                    }
                    setAnimatingItems(prev => new Set([...prev, id]));
                    setTimeout(() => {
                        setAnimatingItems(prev => {
                            const newSet = new Set(prev);
                            newSet.delete(id);
                            return newSet;
                        });
                    }, 400);
                }
                await togglePurchased(id, currentStatus);
            };

            const handleLogout = async () => {
                try {
                    await window.firebaseAuth.signOut(window.auth);
                } catch (error) {
                    console.error('砖 转转拽转:', error);
                }
            };

            const toggleDarkMode = () => {
                const newMode = !darkMode;
                setDarkMode(newMode);
                localStorage.setItem('darkMode', String(newMode));
                document.documentElement.classList.toggle('dark');
            };

            // Calendar helper functions
            const getCalendarDays = (date) => {
                const year = date.getFullYear();
                const month = date.getMonth();
                const firstDay = new Date(year, month, 1);
                const lastDay = new Date(year, month + 1, 0);
                const daysInMonth = lastDay.getDate();
                const startingDay = firstDay.getDay();

                const days = [];
                // Add empty cells for days before the first day of the month
                for (let i = 0; i < startingDay; i++) {
                    days.push(null);
                }
                // Add days of the month
                for (let i = 1; i <= daysInMonth; i++) {
                    days.push(new Date(year, month, i));
                }
                return days;
            };

            const getHolidayForDate = (date) => {
                if (!date) return null;
                return ISRAELI_HOLIDAYS.find(h => {
                    const hDate = h.dateObj;
                    return hDate.getDate() === date.getDate() &&
                           hDate.getMonth() === date.getMonth() &&
                           hDate.getFullYear() === date.getFullYear();
                });
            };

            const formatDateForGoogle = (date) => {
                return date.toISOString().replace(/-|:|\.\d+/g, '').slice(0, 8);
            };

            const addToGoogleCalendar = (holiday, daysBefore = 7) => {
                const reminderDate = new Date(holiday.dateObj);
                reminderDate.setDate(reminderDate.getDate() - daysBefore);

                const endDate = new Date(reminderDate);
                endDate.setDate(endDate.getDate() + 1);

                const title = encodeURIComponent(` 拽转 驻 ${holiday.name}`);
                const details = encodeURIComponent(`${holiday.reminder}\n\n转专转 驻拽爪转 ListNest`);
                const startStr = formatDateForGoogle(reminderDate);
                const endStr = formatDateForGoogle(endDate);

                const url = `https://calendar.google.com/calendar/render?action=TEMPLATE&text=${title}&dates=${startStr}/${endStr}&details=${details}`;
                window.open(url, '_blank');
            };

            const downloadICSFile = (holiday, daysBefore = 7) => {
                const reminderDate = new Date(holiday.dateObj);
                reminderDate.setDate(reminderDate.getDate() - daysBefore);

                const formatICSDate = (d) => d.toISOString().replace(/-|:|\.\d+/g, '').slice(0, 8);

                const endDate = new Date(reminderDate);
                endDate.setDate(endDate.getDate() + 1);

                const icsContent = `BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//ListNest//Shopping Reminder//HE
BEGIN:VEVENT
DTSTART;VALUE=DATE:${formatICSDate(reminderDate)}
DTEND;VALUE=DATE:${formatICSDate(endDate)}
SUMMARY: 拽转 驻 ${holiday.name}
DESCRIPTION:${holiday.reminder}\\n\\n转专转 驻拽爪转 ListNest
END:VEVENT
END:VCALENDAR`;

                const blob = new Blob([icsContent], { type: 'text/calendar;charset=utf-8' });
                const url = URL.createObjectURL(blob);
                const link = document.createElement('a');
                link.href = url;
                link.download = `shopping-reminder-${holiday.name}.ics`;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                URL.revokeObjectURL(url);
            };

            const HEBREW_MONTHS = ['专', '驻专专', '专抓', '驻专', '', '', '', '住', '住驻专', '拽专', '专', '爪专'];
            const HEBREW_DAYS = ['壮', '壮', '壮', '壮', '壮', '壮', '砖壮'];

            // Smart category detection with partial matching
            const detectCategory = (productName) => {
                const name = productName.trim().toLowerCase();

                // First try exact match
                for (const [cat, products] of Object.entries(PRODUCTS)) {
                    if (products.some(p => p === productName || p.toLowerCase() === name)) {
                        return cat;
                    }
                }

                // Then try partial match - product name contains or is contained in known product
                for (const [cat, products] of Object.entries(PRODUCTS)) {
                    if (products.some(p => p.includes(productName) || productName.includes(p) ||
                        p.toLowerCase().includes(name) || name.includes(p.toLowerCase()))) {
                        return cat;
                    }
                }

                // Keyword-based detection for common items
                const keywords = {
                    fruits: ['转驻', '', '注', '驻驻', '专', '爪', '砖', '驻驻', '住', '专拽', '驻专', '', '转驻', '注', '拽', '转转', '', '', '转驻"', '转驻', '', '拽砖', '爪', '专拽', '专', '住拽', '驻专转'],
                    meat: ['砖专', '注祝', '', '砖爪', '专注', '驻', '住', '', '', '驻', '拽爪爪', '专专', '拽拽', '专拽', '爪注转', '', '', ''],
                    dairy: ['', '', '专', '爪', '拽', '砖转', '', '', '爪专', '爪驻转转'],
                    bakery: ['', '', '驻转', '', '', '注', '拽专住', '驻', '专拽住'],
                    drinks: ['', '拽', '驻驻住', '抓', '住', '住驻专', '驻', '砖拽'],
                    wine: ['', '专', '拽', '住拽', '注专拽', '砖驻', ''],
                    cleaning: ['专 ', '拽拽', '住 ', '拽转 住', '拽', '砖拽转 砖驻', '住驻', '转'],
                    spices: ['', '驻驻', '驻驻专拽', '专', '拽', '专', '拽', '转', '住专', '拽'],
                    canned: ['专', '驻住', '砖专', '', '转专住', '转', '专住拽', '砖', '住', '', '专', '砖'],
                    snacks: ['', '住', '砖拽', '祝', '注转', '转拽', '爪\'驻住', '驻驻拽专'],
                    frozen: ['', '拽驻', '砖', '专拽', '爪拽'],
                    hygiene: ['砖驻', '住', '砖转 砖', '专', '专砖转', '', '拽专'],
                    coffee: ['拽驻', '转', '住', '拽驻住'],
                    baby: ['转', '转拽', '驻驻专住'],
                    pets: ['', '转', ' 转']
                };

                for (const [cat, words] of Object.entries(keywords)) {
                    if (words.some(word => name.includes(word) || productName.includes(word))) {
                        return cat;
                    }
                }

                return 'canned'; // Default fallback to general groceries
            };

            // Check if product is a cheese that should be in grams
            const isCheeseInGrams = (productName) => {
                const cheeseKeywords = [
                    ' 爪', '爪', '砖转', '专转', '驻专', '爪驻转转',
                    '拽砖拽', '专拽驻专', '', '专', '', '', '转 砖转',
                    '爪专', '拽专', '注拽', '注', '驻驻', '', '专拽',
                    '住拽专驻', '转 注', ' '
                ];
                const nameLower = productName.toLowerCase();
                return cheeseKeywords.some(cheese => nameLower.includes(cheese));
            };

            // Open quantity selector before adding product
            const addProduct = (product) => {
                const category = selectedCategory || detectCategory(product);
                let unit = CATEGORIES[category]?.unit || '\'';
                const unitOptions = CATEGORIES[category]?.unitOptions || ['\''];

                // Override unit for cheese products to grams
                if (category === 'dairy' && isCheeseInGrams(product)) {
                    unit = '专';
                }

                setSelectedProduct({ name: product, category, unitOptions });
                setSelectedQuantity(1); // Always start at 1, user can adjust
                setSelectedUnit(unit);
                setShowQuantitySelector(true);
            };

            // Actually add product with selected quantity
            const addProductWithQuantity = async () => {
                if (!selectedProduct) return;

                const { name: product, category } = selectedProduct;
                const existing = items.find(item => item.name === product && !item.purchased);
                const estimatedPrice = getEstimatedPrice(product);

                // Create optimistic item for offline support
                const tempId = `temp_${Date.now()}`;
                const newItem = {
                    id: tempId,
                    name: product,
                    category: category,
                    quantity: existing ? (getQuantityNumber(existing.quantity) + selectedQuantity) : selectedQuantity,
                    unit: selectedUnit,
                    purchased: false,
                    familyId: family.id,
                    listId: currentList.id,
                    addedBy: user.displayName || user.email,
                    addedByUid: user.uid,
                    note: selectedNote || '',
                    price: estimatedPrice || null,
                    priceSource: estimatedPrice ? 'estimated' : null,
                    createdAt: { toDate: () => new Date() },
                    _isTemp: true
                };

                // Optimistically update local state
                if (existing) {
                    setItems(prev => prev.map(i => i.id === existing.id ? { ...i, quantity: newItem.quantity, note: selectedNote ? (i.note ? `${i.note}, ${selectedNote}` : selectedNote) : i.note } : i));
                } else {
                    setItems(prev => [newItem, ...prev]);
                }

                setSearchTerm('');
                setShowQuantitySelector(false);
                setSelectedNote('');
                setSelectedProduct(null);

                // If offline, queue operation for later
                if (!isOnline) {
                    if (existing) {
                        queueOperation({ type: 'update', id: existing.id, data: { quantity: newItem.quantity, note: selectedNote || existing.note } });
                    } else {
                        queueOperation({ type: 'add', name: product, category, quantity: selectedQuantity, unit: selectedUnit, note: selectedNote, price: estimatedPrice });
                    }
                    console.log(' Queued add operation for:', product);
                    return;
                }

                try {
                    if (existing) {
                        // Update existing item
                        const updateData = {
                            quantity: newItem.quantity,
                            unit: selectedUnit,
                            updatedAt: new Date(),
                            updatedBy: user.displayName || user.email
                        };
                        if (selectedNote) {
                            updateData.note = existing.note ? `${existing.note}, ${selectedNote}` : selectedNote;
                        }
                        await window.firestore.updateDoc(
                            window.firestore.doc(window.db, 'shopping-items', existing.id),
                            updateData
                        );
                        await logActivity('quantity_changed', { itemName: product });
                    } else {
                        // Add new item
                        const docRef = await window.firestore.addDoc(window.firestore.collection(window.db, 'shopping-items'), {
                            name: product,
                            category: category,
                            quantity: selectedQuantity,
                            unit: selectedUnit,
                            purchased: false,
                            familyId: family.id,
                            listId: currentList.id,
                            addedBy: user.displayName || user.email,
                            addedByUid: user.uid,
                            note: selectedNote || '',
                            price: estimatedPrice || null,
                            priceSource: estimatedPrice ? 'estimated' : null,
                            createdAt: new Date()
                        });
                        // Replace temp item with real item ID
                        setItems(prev => prev.map(i => i.id === tempId ? { ...i, id: docRef.id, _isTemp: false } : i));
                        await logActivity('item_added', { itemName: product });
                    }
                } catch (error) {
                    console.error('砖 住驻转 爪专:', error);
                    if (!navigator.onLine) {
                        // Queue for later if offline
                        if (existing) {
                            queueOperation({ type: 'update', id: existing.id, data: { quantity: newItem.quantity } });
                        } else {
                            queueOperation({ type: 'add', name: product, category, quantity: selectedQuantity, unit: selectedUnit, note: selectedNote, price: estimatedPrice });
                        }
                    } else {
                        alert('砖 住驻转 爪专. 住 砖.');
                        // Rollback optimistic update
                        if (existing) {
                            setItems(prev => prev.map(i => i.id === existing.id ? existing : i));
                        } else {
                            setItems(prev => prev.filter(i => i.id !== tempId));
                        }
                    }
                }
            };

            // AI Smart Add - parse free text into shopping items
            const handleSmartAdd = async () => {
                if (!smartAddText.trim()) return;

                setSmartAddLoading(true);
                setSmartAddResults(null);

                try {
                    const response = await fetch('/api/ai', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ text: smartAddText, action: 'parse' })
                    });

                    const data = await response.json();

                    if (data.items && data.items.length > 0) {
                        setSmartAddResults(data.items);
                    } else {
                        setSmartAddResults([]);
                    }
                } catch (error) {
                    console.error('Smart Add error:', error);
                    // Fallback: simple split by comma
                    const fallbackItems = smartAddText.split(/[,\n]+/)
                        .map(s => s.trim())
                        .filter(s => s)
                        .map(name => ({
                            name,
                            quantity: 1,
                            unit: '\'',
                            category: detectCategory(name)
                        }));
                    setSmartAddResults(fallbackItems);
                }

                setSmartAddLoading(false);
            };

            // Add all items from smart add results
            const addSmartItems = async (itemsToAdd) => {
                for (const item of itemsToAdd) {
                    const category = item.category || detectCategory(item.name);
                    const existing = items.find(i => i.name === item.name && !i.purchased);
                    const estimatedPrice = getEstimatedPrice(item.name);

                    const tempId = `temp_${Date.now()}_${Math.random()}`;
                    const newItem = {
                        id: tempId,
                        name: item.name,
                        category: category,
                        quantity: existing ? (getQuantityNumber(existing.quantity) + item.quantity) : item.quantity,
                        unit: item.unit || '\'',
                        purchased: false,
                        familyId: family.id,
                        listId: currentList.id,
                        addedBy: user.displayName || user.email,
                        addedByUid: user.uid,
                        note: '',
                        price: estimatedPrice || null,
                        priceSource: estimatedPrice ? 'estimated' : null,
                        createdAt: { toDate: () => new Date() },
                        _isTemp: true
                    };

                    if (existing) {
                        setItems(prev => prev.map(i => i.id === existing.id ? { ...i, quantity: newItem.quantity } : i));
                    } else {
                        setItems(prev => [newItem, ...prev]);
                    }

                    // Save to Firebase if online
                    if (isOnline) {
                        try {
                            if (existing) {
                                await window.firestore.updateDoc(
                                    window.firestore.doc(window.db, 'shopping-items', existing.id),
                                    { quantity: newItem.quantity, updatedAt: new Date() }
                                );
                            } else {
                                const docRef = await window.firestore.addDoc(
                                    window.firestore.collection(window.db, 'shopping-items'),
                                    {
                                        name: item.name,
                                        category: category,
                                        quantity: item.quantity,
                                        unit: item.unit || '\'',
                                        purchased: false,
                                        familyId: family.id,
                                        listId: currentList.id,
                                        addedBy: user.displayName || user.email,
                                        addedByUid: user.uid,
                                        note: '',
                                        price: estimatedPrice || null,
                                        priceSource: estimatedPrice ? 'estimated' : null,
                                        createdAt: new Date()
                                    }
                                );
                                setItems(prev => prev.map(i => i.id === tempId ? { ...i, id: docRef.id, _isTemp: false } : i));
                            }
                        } catch (err) {
                            console.error('Error adding smart item:', err);
                        }
                    } else {
                        queueOperation({ type: 'add', name: item.name, category, quantity: item.quantity, unit: item.unit || '\'', note: '', price: estimatedPrice });
                    }
                }

                // Close modal and reset
                setShowSmartAdd(false);
                setSmartAddText('');
                setSmartAddResults(null);
            };

            const togglePurchased = async (id, currentStatus) => {
                const item = items.find(i => i.id === id);
                const updateData = {
                    purchased: !currentStatus,
                    purchasedBy: !currentStatus ? (user.displayName || user.email) : null,
                    purchasedByUid: !currentStatus ? user.uid : null,
                    purchasedAt: !currentStatus ? new Date() : null
                };

                // Optimistically update local state
                setItems(prev => prev.map(i => i.id === id ? { ...i, ...updateData } : i));

                // If offline, queue operation
                if (!isOnline) {
                    queueOperation({ type: 'update', id, data: updateData });
                    console.log(' Queued toggle for:', item?.name);
                    return;
                }

                try {
                    // Conflict detection: Check if item was already marked by someone else
                    const docRef = window.firestore.doc(window.db, 'shopping-items', id);
                    const freshDoc = await window.firestore.getDoc(docRef);

                    if (freshDoc.exists()) {
                        const freshData = freshDoc.data();

                        // If someone else already marked it as purchased
                        if (!currentStatus && freshData.purchased && freshData.purchasedBy !== (user.displayName || user.email)) {
                            // Auto-unified: item already purchased by someone else
                            console.log(`Smart conflict resolved: ${item?.name} already marked by ${freshData.purchasedBy}`);
                            return; // No need to update, already done
                        }
                    }

                    await window.firestore.updateDoc(docRef, updateData);

                    if (!currentStatus && item) {
                        await logActivity('item_purchased', { itemName: item.name });
                    }
                } catch (error) {
                    console.error('砖 注 爪专:', error);
                    if (!navigator.onLine) {
                        queueOperation({ type: 'update', id, data: updateData });
                    } else {
                        // Rollback on error
                        setItems(prev => prev.map(i => i.id === id ? item : i));
                    }
                }
            };

            const updateQuantity = async (id, newQuantity) => {
                if (newQuantity < 1) {
                    setShowDeleteConfirm(id);
                    return;
                }

                const item = items.find(i => i.id === id);
                const updateData = {
                    quantity: newQuantity,
                    updatedAt: new Date(),
                    updatedBy: user.displayName || user.email
                };

                // Optimistically update local state
                setItems(prev => prev.map(i => i.id === id ? { ...i, ...updateData } : i));

                // If offline, queue operation
                if (!isOnline) {
                    queueOperation({ type: 'update', id, data: updateData });
                    console.log(' Queued quantity update for:', item?.name);
                    return;
                }

                try {
                    await window.firestore.updateDoc(window.firestore.doc(window.db, 'shopping-items', id), updateData);
                    if (item) {
                        await logActivity('quantity_changed', { itemName: item.name });
                    }
                } catch (error) {
                    console.error('砖 注 转:', error);
                    if (!navigator.onLine) {
                        queueOperation({ type: 'update', id, data: updateData });
                    } else {
                        // Rollback on error
                        setItems(prev => prev.map(i => i.id === id ? item : i));
                    }
                }
            };

            // Inline edit item name
            const startEditingItem = (item) => {
                setEditingItemId(item.id);
                setEditingItemName(item.name);
            };

            const saveItemName = async () => {
                if (!editingItemId || !editingItemName.trim()) {
                    setEditingItemId(null);
                    return;
                }
                try {
                    await window.firestore.updateDoc(window.firestore.doc(window.db, 'shopping-items', editingItemId), {
                        name: editingItemName.trim(),
                        updatedAt: new Date(),
                        updatedBy: user.displayName || user.email
                    });
                } catch (error) {
                    console.error('砖 注 砖:', error);
                }
                setEditingItemId(null);
            };

            const deleteItem = async (id, skipAnimation = false) => {
                const item = items.find(i => i.id === id);

                // Add exit animation
                if (!skipAnimation) {
                    setExitingItems(prev => new Set([...prev, id]));
                    await new Promise(resolve => setTimeout(resolve, 280));
                }

                // Optimistically remove from local state
                setItems(prev => prev.filter(i => i.id !== id));
                setShowDeleteConfirm(null);
                setExitingItems(prev => { const next = new Set(prev); next.delete(id); return next; });

                // If offline, queue operation for later
                if (!isOnline) {
                    queueOperation({ type: 'delete', id, itemName: item?.name });
                    console.log(' Queued delete operation for:', item?.name);
                    return;
                }

                try {
                    await window.firestore.deleteDoc(window.firestore.doc(window.db, 'shopping-items', id));

                    if (item) {
                        await logActivity('item_deleted', { itemName: item.name });
                        if (!item.purchased) {
                            await trackForgottenItem(item.name);
                        }
                    }
                } catch (error) {
                    console.error('砖 拽转 爪专:', error);
                    // If failed and we're now offline, queue operation
                    if (!navigator.onLine) {
                        queueOperation({ type: 'delete', id, itemName: item?.name });
                    } else {
                        // Restore item if deletion failed while online
                        setItems(prev => item ? [...prev, item] : prev);
                    }
                }
            };

            // Delete all items from the shopping list
            const deleteAllItems = async () => {
                try {
                    const itemCount = items.length;
                    // Delete all items using Promise.all for parallel deletion
                    await Promise.all(
                        items.map(item =>
                            window.firestore.deleteDoc(window.firestore.doc(window.db, 'shopping-items', item.id))
                        )
                    );
                    await logActivity('all_items_deleted', { itemCount });
                    setShowDeleteAllConfirm(false);
                } catch (error) {
                    console.error('Error deleting all items:', error);
                    setShowDeleteAllConfirm(false);
                }
            };

            // Postpone item - moves it to the end of the list
            const postponeItem = async (id) => {
                try {
                    const item = items.find(i => i.id === id);
                    await window.firestore.updateDoc(window.firestore.doc(window.db, 'shopping-items', id), {
                        postponedAt: new Date(),
                        postponedBy: user.displayName || user.email
                    });
                    if (item) {
                        await logActivity('item_postponed', { itemName: item.name });
                        // Track as forgotten
                        if (!item.purchased) {
                            await trackForgottenItem(item.name);
                        }
                    }
                } catch (error) {
                    console.error('砖 转 爪专:', error);
                }
            };

            // Undo postpone - return item to regular list
            const undoPostponeItem = async (id) => {
                try {
                    const item = items.find(i => i.id === id);
                    await window.firestore.updateDoc(window.firestore.doc(window.db, 'shopping-items', id), {
                        postponedAt: null,
                        postponedBy: null
                    });
                    if (item) {
                        await logActivity('item_unpostponed', { itemName: item.name });
                    }
                } catch (error) {
                    console.error('砖 专转 爪专:', error);
                }
            };

            // Track forgotten items
            const trackForgottenItem = async (itemName) => {
                try {
                    const monthKey = new Date().toISOString().slice(0, 7); // YYYY-MM
                    const docRef = window.firestore.doc(window.db, 'forgotten-stats', `${family.id}_${monthKey}`);
                    const docSnap = await window.firestore.getDoc(docRef);

                    if (docSnap.exists()) {
                        const data = docSnap.data();
                        const items = data.items || {};
                        items[itemName] = (items[itemName] || 0) + 1;
                        await window.firestore.updateDoc(docRef, { items, updatedAt: new Date() });
                    } else {
                        await window.firestore.setDoc(docRef, {
                            familyId: family.id,
                            month: monthKey,
                            items: { [itemName]: 1 },
                            createdAt: new Date(),
                            updatedAt: new Date()
                        });
                    }
                } catch (error) {
                    console.error('Error tracking forgotten item:', error);
                }
            };

            const updateItemNote = async (itemId, note) => {
                try {
                    const item = items.find(i => i.id === itemId);
                    await window.firestore.updateDoc(window.firestore.doc(window.db, 'shopping-items', itemId), {
                        note: note,
                        updatedAt: new Date(),
                        updatedBy: user.displayName || user.email
                    });
                    if (item && note) {
                        await logActivity('note_added', { itemName: item.name });
                    }
                } catch (error) {
                    console.error('砖 注 注专:', error);
                }
            };

            const finishShopping = async () => {
                if (!totalAmount || parseFloat(totalAmount) <= 0) {
                    alert('  住 转拽');
                    return;
                }

                const purchasedItems = items.filter(item => item.purchased);
                const unpurchasedItems = items.filter(item => !item.purchased);

                if (purchasedItems.length === 0) {
                    alert(' 专 爪专 砖拽');
                    return;
                }

                try {
                    // Track forgotten items (unpurchased items left behind)
                    const hadForgottenItems = unpurchasedItems.length > 0;
                    for (const item of unpurchasedItems) {
                        await trackForgottenItem(item.name);
                    }

                    await window.firestore.addDoc(window.firestore.collection(window.db, 'shopping-history'), {
                        items: purchasedItems,
                        totalAmount: parseFloat(totalAmount),
                        completedAt: new Date(),
                        completedBy: user.displayName || user.email,
                        completedByUid: user.uid,
                        familyId: family.id,
                        listId: currentList.id,
                        forgottenCount: unpurchasedItems.length,
                        receiptPhoto: receiptPhoto || null
                    });

                    for (const item of purchasedItems) {
                        await window.firestore.deleteDoc(window.firestore.doc(window.db, 'shopping-items', item.id));
                    }

                    // Update shopping streak
                    await updateShoppingStreak(hadForgottenItems);

                    setShowFinishShopping(false);
                    setTotalAmount('');
                    setReceiptPhoto(null);
                    loadHistory();

                    // Show achievement celebration if perfect shopping
                    if (!hadForgottenItems) {
                        setTimeout(() => {
                            alert(' 拽 砖转!  砖转 !');
                        }, 500);
                    }
                } catch (error) {
                    console.error('砖 住 拽:', error);
                    alert('砖 砖专转 拽. 住 砖.');
                }
            };

            const exportToWhatsApp = async () => {
                const unpurchased = items.filter(item => !item.purchased);
                let text = ' 专砖转 拽转:\n\n';
                Object.entries(CATEGORIES).forEach(([key, cat]) => {
                    const categoryItems = unpurchased.filter(item => item.category === key);
                    if (categoryItems.length > 0) {
                        text += `${cat.icon} ${getCategoryName(key)}:\n`;
                        categoryItems.forEach(item => {
                            text += `   ${item.name} (${item.quantity})\n`;
                        });
                        text += '\n';
                    }
                });

                // Use native share API if available (better for PWA)
                if (navigator.share) {
                    try {
                        await navigator.share({
                            title: '专砖转 拽转',
                            text: text
                        });
                    } catch (err) {
                        // User cancelled or error - fallback to clipboard
                        if (err.name !== 'AbortError') {
                            await navigator.clipboard.writeText(text);
                            alert('专砖 注转拽 !');
                        }
                    }
                } else {
                    // Fallback: copy to clipboard
                    try {
                        await navigator.clipboard.writeText(text);
                        alert('专砖 注转拽 ! 拽 住驻   驻拽爪 专转.');
                    } catch (err) {
                        // Last fallback: open WhatsApp
                        window.open(`https://wa.me/?text=${encodeURIComponent(text)}`, '_blank');
                    }
                }
            };

            if (loading) {
                return (
                    <div className="min-h-screen gradient-bg flex items-center justify-center">
                        <div className="text-center">
                            <div className="text-6xl mb-4 float"></div>
                            <div className="text-xl text-white font-medium">注...</div>
                            <div className="mt-4 w-32 h-1 bg-white/20 rounded-full overflow-hidden mx-auto">
                                <div className="h-full w-1/2 progress-animate rounded-full"></div>
                            </div>
                        </div>
                    </div>
                );
            }

            const filteredItems = items;
            const groupedItems = filteredItems.reduce((acc, item) => {
                if (!acc[item.category]) acc[item.category] = [];
                acc[item.category].push(item);
                return acc;
            }, {});

            const totalItems = items.length;
            const purchasedCount = items.filter(item => item.purchased).length;

            // WCAG 4.1.3 - Announce status messages to screen readers
            const announceToScreenReader = (message, priority = 'polite') => {
                const region = document.getElementById(priority === 'assertive' ? 'aria-live-assertive' : 'aria-live-region');
                if (region) {
                    region.textContent = '';
                    setTimeout(() => { region.textContent = message; }, 100);
                }
            };

            return (
                <div className="min-h-screen gradient-bg p-4 pb-20" role="application" aria-label="ListNest - 专砖转 拽转">
                    {/* Offline Banner */}
                    {!isOnline && (
                        <div className="fixed top-0 left-0 right-0 bg-gradient-to-r from-red-500 to-orange-500 text-white py-3 px-4 z-50 shadow-lg">
                            <div className="flex items-center justify-center gap-3 max-w-lg mx-auto">
                                <span className="text-xl"></span>
                                <div className="text-center">
                                    <div className="font-bold"> 专 专</div>
                                    <div className="text-xs opacity-90">
                                        {pendingOperations.length > 0
                                            ? `${pendingOperations.length} 砖 转 住专`
                                            : '砖 砖专 住专 砖专 专'}
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Sync Status Indicator */}
                    {isOnline && (pendingOperations.length > 0 || syncStatus === 'syncing') && (
                        <div className={`sync-indicator ${syncStatus === 'syncing' ? 'syncing' : 'online'}`}>
                            {syncStatus === 'syncing' ? (
                                <><span className="sync-spin"></span><span>住专...</span></>
                            ) : (
                                <><span></span><span>转 ({pendingOperations.length})</span></>
                            )}
                        </div>
                    )}

                    {/* Just synced notification */}
                    {isOnline && syncStatus === 'synced' && pendingOperations.length === 0 && (
                        <div className="sync-indicator online" style={{animation: 'fadeOut 3s forwards', animationDelay: '2s'}}>
                            <span></span><span>住专</span>
                        </div>
                    )}

                    {/* Main content landmark for skip link */}
                    <main id="main-content" role="main" aria-label="转 专砖">

                    {/* Item Actions Menu - Bottom Sheet Modal */}
                    {openItemMenu && (() => {
                        const menuItem = items.find(i => i.id === openItemMenu);
                        if (!menuItem) return null;
                        return (
                            <div className="fixed inset-0 z-[9999]">
                                <div className="absolute inset-0 bg-black/40" onClick={() => setOpenItemMenu(null)} />
                                <div className="absolute bottom-0 left-0 right-0 bg-white dark:bg-gray-800 rounded-t-3xl shadow-2xl animate-slide-up">
                                    {/* Handle */}
                                    <div className="flex justify-center pt-3 pb-2">
                                        <div className="w-12 h-1.5 bg-gray-300 dark:bg-gray-600 rounded-full"></div>
                                    </div>
                                    {/* Header */}
                                    <div className="px-5 pb-4 border-b border-gray-200 dark:border-gray-700">
                                        <h3 className="text-xl font-bold text-gray-800 dark:text-white">{menuItem.name}</h3>
                                        <p className="text-sm text-gray-500 dark:text-gray-400">{t('selectAction')}</p>
                                    </div>
                                    {/* Actions */}
                                    <div className="py-2">
                                        {!menuItem.note && (
                                            <button onClick={() => { setEditingNote(menuItem); setOpenItemMenu(null); }} className="item-action-btn">
                                                <span className="text-xl"></span> <span>{t('addNote')}</span>
                                            </button>
                                        )}
                                        {!menuItem.purchased && !menuItem.postponedBy && (
                                            <button onClick={() => { postponeItem(menuItem.id); setOpenItemMenu(null); }} className="item-action-btn">
                                                <span className="text-xl">锔</span> <span>{t('postpone')}</span>
                                            </button>
                                        )}
                                        {menuItem.postponedBy && !menuItem.purchased && (
                                            <button onClick={() => { undoPostponeItem(menuItem.id); setOpenItemMenu(null); }} className="item-action-btn">
                                                <span className="text-xl">╋</span> <span>{t('undoPostpone')}</span>
                                            </button>
                                        )}
                                        {!menuItem.purchased && !menuItem.outOfStock && (
                                            <button onClick={() => { markOutOfStock(menuItem); setOpenItemMenu(null); }} className="item-action-btn">
                                                <span className="text-xl"></span> <span>{t('outOfStockStatus')}</span>
                                            </button>
                                        )}
                                        <button onClick={() => { setShowDeleteConfirm(menuItem.id); setOpenItemMenu(null); }} className="item-action-btn danger">
                                            <span className="text-xl">锔</span> <span>{t('deleteItem')}</span>
                                        </button>
                                    </div>
                                    {/* Cancel button */}
                                    <div className="p-4 pb-8 border-t border-gray-200 dark:border-gray-700">
                                        <button
                                            onClick={() => setOpenItemMenu(null)}
                                            className="w-full py-4 text-center font-bold text-gray-700 dark:text-gray-200 bg-gray-100 dark:bg-gray-700 rounded-2xl hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors text-lg"
                                        >
                                            {t('cancel')}
                                        </button>
                                    </div>
                                </div>
                            </div>
                        );
                    })()}

                    {showDeleteConfirm && (
                        <div className="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4">
                            <div className="glass rounded-3xl p-8 max-w-sm w-full shadow-2xl">
                                <div className="text-5xl text-center mb-4">锔</div>
                                <h2 className="text-xl font-bold text-center text-gradient mb-2">拽转 爪专</h2>
                                <p className="text-gray-600 dark:text-gray-300 mb-6 text-center"> 转  砖专爪 拽 爪专 ?</p>
                                <div className="flex gap-3">
                                    <button onClick={() => deleteItem(showDeleteConfirm)}
                                        className="flex-1 bg-gradient-to-r from-red-500 to-pink-500 text-white px-6 py-3 rounded-xl hover:shadow-lg hover:scale-105 font-semibold transition-all">
                                        拽
                                    </button>
                                    <button onClick={() => setShowDeleteConfirm(null)}
                                        className="flex-1 px-6 py-3 glass border-2 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 hover:scale-105 transition-all">
                                        
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}

                    {showDeleteAllConfirm && (
                        <div className="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4">
                            <div className="glass rounded-3xl p-8 max-w-sm w-full shadow-2xl">
                                <div className="text-5xl text-center mb-4">锔</div>
                                <h2 className="text-xl font-bold text-center text-gradient mb-2">{t('deleteAllTitle')}</h2>
                                <p className="text-gray-600 dark:text-gray-300 mb-2 text-center">{t('deleteAllConfirm')}</p>
                                <p className="text-red-500 dark:text-red-400 mb-6 text-center text-sm font-semibold">{t('deleteAllWarning').replace('{count}', items.length)}</p>
                                <div className="flex gap-3">
                                    <button onClick={deleteAllItems}
                                        className="flex-1 bg-gradient-to-r from-red-500 to-pink-500 text-white px-6 py-3 rounded-xl hover:shadow-lg hover:scale-105 font-semibold transition-all">
                                        {t('deleteAll')}
                                    </button>
                                    <button onClick={() => setShowDeleteAllConfirm(false)}
                                        className="flex-1 px-6 py-3 glass border-2 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 hover:scale-105 transition-all">
                                        {t('cancel')}
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Import from WhatsApp Modal */}
                    {showImportWhatsApp && (
                        <div className="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4">
                            <div className="glass rounded-3xl p-6 max-w-md w-full shadow-2xl">
                                <div className="text-4xl text-center mb-3"></div>
                                <h2 className="text-xl font-bold text-center text-gradient mb-2">{t('importFromWhatsapp')}</h2>
                                <p className="text-gray-500 dark:text-gray-400 text-sm text-center mb-4">{t('whatsapp')}</p>
                                <textarea
                                    value={whatsAppText}
                                    onChange={e => setWhatsAppText(e.target.value)}
                                    placeholder={t('importExample')}
                                    className="w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 dark:text-white min-h-[150px] mb-4 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 transition-all text-sm"
                                    dir="rtl"
                                />
                                <div className="text-xs text-gray-400 dark:text-gray-500 mb-4">
                                    转: 砖专转 驻专转, 驻住拽, 住驻专 (2    x2)
                                </div>
                                <div className="flex gap-3">
                                    <button
                                        onClick={importFromWhatsApp}
                                        className="flex-1 btn-gradient text-white py-3 rounded-xl font-semibold hover:shadow-lg transition-all"
                                    >
                                         专砖
                                    </button>
                                    <button
                                        onClick={() => { setShowImportWhatsApp(false); setWhatsAppText(''); }}
                                        className="px-6 py-3 rounded-xl bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 font-medium hover:bg-gray-200 dark:hover:bg-gray-600 transition-all"
                                    >
                                        
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Saved Lists Modal */}
                    {showSavedLists && (
                        <div className="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4">
                            <div className="glass rounded-3xl p-6 max-w-md w-full shadow-2xl max-h-[80vh] overflow-y-auto">
                                <div className="text-4xl text-center mb-3"></div>
                                <h2 className="text-xl font-bold text-center text-gradient mb-4">专砖转 砖专转</h2>
                                {savedLists.length === 0 ? (
                                    <div className="text-center py-8">
                                        <div className="text-5xl mb-3"></div>
                                        <p className="text-gray-500 dark:text-gray-400"> 专砖转 砖专转</p>
                                        <p className="text-xs text-gray-400 dark:text-gray-500 mt-1">抓 注 "砖专 专砖" 砖专转 专砖 转</p>
                                    </div>
                                ) : (
                                    <div className="space-y-3 mb-4">
                                        {savedLists.map(list => (
                                            <div
                                                key={list.id}
                                                className="bg-white dark:bg-gray-800 p-4 rounded-xl border border-gray-100 dark:border-gray-700"
                                            >
                                                <div className="flex items-center justify-between mb-2">
                                                    <span className="font-semibold text-gray-800 dark:text-white">{list.name}</span>
                                                    <div className="flex items-center gap-2">
                                                        <span className="text-xs text-gray-400">{list.items.length} 驻专</span>
                                                        <button
                                                            onClick={() => deleteSavedList(list.id)}
                                                            className="w-7 h-7 rounded-full bg-red-100 dark:bg-red-900/30 text-red-500 flex items-center justify-center hover:bg-red-200 dark:hover:bg-red-900/50 transition-all text-sm"
                                                            title="拽 专砖"
                                                        >
                                                            锔
                                                        </button>
                                                    </div>
                                                </div>
                                                <div className="text-xs text-gray-500 dark:text-gray-400 mb-3 truncate">
                                                    {list.items.slice(0, 5).map(i => i.name).join(', ')}
                                                    {list.items.length > 5 && '...'}
                                                </div>
                                                <button
                                                    onClick={() => loadSavedList(list)}
                                                    className="w-full py-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-lg font-medium hover:bg-indigo-100 dark:hover:bg-indigo-900/50 transition-all text-sm"
                                                >
                                                    注 注
                                                </button>
                                            </div>
                                        ))}
                                    </div>
                                )}
                                <button
                                    onClick={() => setShowSavedLists(false)}
                                    className="w-full py-3 rounded-xl bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 font-medium hover:bg-gray-200 dark:hover:bg-gray-600 transition-all"
                                >
                                    住专
                                </button>
                            </div>
                        </div>
                    )}

                    {/* AI Assistant Modal */}
                    {showAIAssistant && (
                        <div className="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4">
                            <div className="glass rounded-3xl p-6 max-w-lg w-full shadow-2xl max-h-[85vh] overflow-y-auto">
                                <div className="flex justify-between items-center mb-6">
                                    <h2 className="text-2xl font-bold flex items-center gap-3 text-gradient">
                                        <span className="text-3xl"></span>
                                        注专 拽转 
                                    </h2>
                                    <button onClick={() => setShowAIAssistant(false)} className="w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-600 transition-all"></button>
                                </div>

                                {aiThinking ? (
                                    <div className="text-center py-12">
                                        <div className="text-6xl mb-4 animate-bounce"></div>
                                        <p className="text-lg text-gray-600 dark:text-gray-300 font-medium">AI 砖...</p>
                                        <p className="text-sm text-gray-400 dark:text-gray-500 mt-2">转 转 专砖  爪注转</p>
                                        <div className="mt-4 flex justify-center gap-1">
                                            <div className="w-2 h-2 bg-violet-500 rounded-full animate-bounce" style={{animationDelay: '0ms'}}></div>
                                            <div className="w-2 h-2 bg-violet-500 rounded-full animate-bounce" style={{animationDelay: '150ms'}}></div>
                                            <div className="w-2 h-2 bg-violet-500 rounded-full animate-bounce" style={{animationDelay: '300ms'}}></div>
                                        </div>
                                    </div>
                                ) : aiSuggestions.length === 0 ? (
                                    <div className="text-center py-12">
                                        <div className="text-6xl mb-4"></div>
                                        <p className="text-lg text-gray-600 dark:text-gray-300 font-medium">专砖 砖 专转 砖转!</p>
                                        <p className="text-sm text-gray-400 dark:text-gray-500 mt-2">  爪注转 住驻转 专注</p>
                                        <button
                                            onClick={generateAISuggestions}
                                            className="mt-6 px-6 py-3 bg-violet-100 dark:bg-violet-900/50 text-violet-700 dark:text-violet-300 rounded-xl font-medium hover:bg-violet-200 transition-all"
                                        >
                                             住 砖
                                        </button>
                                    </div>
                                ) : (
                                    <div className="space-y-3">
                                        <p className="text-sm text-gray-500 dark:text-gray-400 mb-4">
                                            转住住 注 专砖 砖,   爪注转:
                                        </p>
                                        {aiSuggestions.map((suggestion, idx) => (
                                            <div
                                                key={idx}
                                                className={`p-4 rounded-xl border-2 transition-all ${
                                                    suggestion.isRecipe
                                                        ? 'bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 border-amber-300 dark:border-amber-700'
                                                        : 'bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:border-violet-400 dark:hover:border-violet-500'
                                                }`}
                                            >
                                                <div className="flex items-center justify-between">
                                                    <div className="flex items-center gap-3">
                                                        <span className="text-2xl">{suggestion.icon}</span>
                                                        <div>
                                                            <p className="font-bold text-gray-800 dark:text-white">{suggestion.name}</p>
                                                            <p className="text-xs text-gray-500 dark:text-gray-400">{suggestion.reason}</p>
                                                        </div>
                                                    </div>
                                                    {!suggestion.isRecipe && (
                                                        <button
                                                            onClick={() => addAISuggestion(suggestion)}
                                                            className="px-4 py-2 bg-violet-500 text-white rounded-xl text-sm font-medium hover:bg-violet-600 transition-all"
                                                        >
                                                             住祝
                                                        </button>
                                                    )}
                                                </div>
                                            </div>
                                        ))}

                                        <div className="flex gap-3 mt-6">
                                            <button
                                                onClick={generateAISuggestions}
                                                className="flex-1 py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded-xl font-medium hover:bg-gray-200 dark:hover:bg-gray-600 transition-all"
                                            >
                                                 爪注转 砖转
                                            </button>
                                            <button
                                                onClick={() => setShowAIAssistant(false)}
                                                className="flex-1 py-3 btn-gradient text-white rounded-xl font-medium"
                                            >
                                                 住转
                                            </button>
                                        </div>
                                    </div>
                                )}
                            </div>
                        </div>
                    )}

                    {/* Price Comparison Scanner Modal */}
                    {showPriceScanner && (
                        <div className="fixed inset-0 bg-black/95 flex flex-col z-50">
                            {/* Header */}
                            <div className="p-4 flex items-center justify-between">
                                <button onClick={stopPriceScanner} className="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center text-white text-xl hover:bg-white/20 transition-all"></button>
                                <h2 className="text-white font-bold text-lg"> {t('priceComparison')}</h2>
                                <div className="w-10"></div>
                            </div>

                            <div className="flex-1 p-4 overflow-y-auto">
                                {/* Search Input - Primary */}
                                <div className="mb-4">
                                    <label className="text-white text-sm mb-2 block">{t('searchProduct')}</label>
                                    <div className="flex gap-2">
                                        <input
                                            type="text"
                                            value={scannedProductName}
                                            onChange={e => { setScannedProductName(e.target.value); setPriceCompareResults(null); }}
                                            placeholder={t('productSearchExample')}
                                            className="flex-1 px-4 py-3 rounded-xl bg-white text-gray-800 border-2 border-transparent focus:border-cyan-400 transition-all text-lg"
                                            autoFocus
                                        />
                                        <button
                                            onClick={() => searchPriceComparison(scannedProductName)}
                                            disabled={!scannedProductName}
                                            className="px-5 py-3 bg-cyan-500 text-white rounded-xl font-bold disabled:opacity-50 hover:bg-cyan-600 transition-all"
                                        >
                                            
                                        </button>
                                    </div>
                                </div>

                                {/* Autocomplete Suggestions */}
                                {scannedProductName && !priceCompareResults && getPriceSearchSuggestions(scannedProductName).length > 0 && (
                                    <div className="mb-4 bg-white/10 rounded-xl p-2">
                                        <div className="text-gray-400 text-xs mb-2 px-2">爪注转:</div>
                                        <div className="flex flex-wrap gap-2">
                                            {getPriceSearchSuggestions(scannedProductName).map((suggestion, idx) => (
                                                <button
                                                    key={idx}
                                                    onClick={() => { setScannedProductName(suggestion); searchPriceComparison(suggestion); }}
                                                    className="px-3 py-2 bg-white/20 text-white rounded-lg text-sm hover:bg-cyan-500 transition-all"
                                                >
                                                    {suggestion}
                                                </button>
                                            ))}
                                        </div>
                                    </div>
                                )}

                                {/* Quick Popular Products */}
                                {!scannedProductName && !priceCompareResults && (
                                    <div className="mb-4">
                                        <div className="text-gray-400 text-sm mb-2">爪专 驻驻专:</div>
                                        <div className="flex flex-wrap gap-2">
                                            {['', '爪', '', ' 爪', '砖拽', '拽', '', '砖 转'].map((product, idx) => (
                                                <button
                                                    key={idx}
                                                    onClick={() => { setScannedProductName(product); searchPriceComparison(product); }}
                                                    className="px-3 py-2 bg-white/10 text-white rounded-lg text-sm hover:bg-white/20 transition-all"
                                                >
                                                    {product}
                                                </button>
                                            ))}
                                        </div>
                                    </div>
                                )}

                                {/* Camera Scan - Secondary Option */}
                                {!priceCompareResults && (
                                    <div className="mb-4 p-4 bg-white/10 rounded-xl border border-white/20">
                                        <div className="text-white text-sm mb-3 text-center font-medium"> 爪 转 砖 爪专:</div>
                                        <div className="relative aspect-video bg-black rounded-xl overflow-hidden mb-4">
                                            <video ref={priceVideoRef} autoPlay playsInline className="w-full h-full object-cover" />
                                            <canvas ref={priceCanvasRef} className="hidden" />
                                            {scanningPrice && (
                                                <div className="absolute inset-0 bg-black/70 flex items-center justify-center">
                                                    <div className="text-center">
                                                        <div className="text-3xl mb-2 animate-spin"></div>
                                                        <div className="text-white text-sm">转 转...</div>
                                                    </div>
                                                </div>
                                            )}
                                            {/* Big Capture Button Overlay */}
                                            {!scanningPrice && (
                                                <button
                                                    onClick={captureAndScanPrice}
                                                    className="absolute bottom-4 left-1/2 transform -translate-x-1/2 w-16 h-16 rounded-full bg-white border-4 border-cyan-400 shadow-lg flex items-center justify-center hover:scale-110 transition-all"
                                                >
                                                    <div className="w-12 h-12 rounded-full bg-gradient-to-r from-cyan-500 to-blue-500 flex items-center justify-center">
                                                        <span className="text-2xl"></span>
                                                    </div>
                                                </button>
                                            )}
                                        </div>
                                        <button
                                            onClick={captureAndScanPrice}
                                            disabled={scanningPrice}
                                            className="w-full py-4 bg-gradient-to-r from-cyan-500 to-blue-500 text-white rounded-xl font-bold text-lg shadow-lg disabled:opacity-50 hover:shadow-xl hover:scale-[1.02] transition-all"
                                        >
                                            {scanningPrice ? ' 转...' : ' 抓 爪 '}
                                        </button>
                                        <p className="text-gray-400 text-xs text-center mt-2">*  转 爪 砖 爪专 抓 注 驻转专</p>
                                    </div>
                                )}

                                {/* Supermarket Links - Results */}
                                {priceCompareResults && (
                                    <div className="space-y-3">
                                        <div className="flex items-center justify-between mb-2">
                                            <h3 className="text-white font-bold">转爪转 注专: {scannedProductName}</h3>
                                            <button
                                                onClick={() => { setPriceCompareResults(null); }}
                                                className="text-cyan-400 text-sm hover:underline"
                                            >
                                                驻砖 砖
                                            </button>
                                        </div>
                                        {priceCompareResults.map((site, idx) => (
                                            <button
                                                key={idx}
                                                onClick={() => openPriceLink(site.url)}
                                                className={`w-full p-4 ${site.color} text-white rounded-xl font-bold text-lg flex items-center justify-between hover:opacity-90 hover:scale-[1.02] transition-all`}
                                            >
                                                <span>{site.name}</span>
                                                <span></span>
                                            </button>
                                        ))}
                                        <button
                                            onClick={() => {
                                                priceCompareResults.forEach(site => window.open(site.url, '_blank'));
                                            }}
                                            className="w-full p-4 bg-gradient-to-r from-indigo-500 to-purple-500 text-white rounded-xl font-bold text-lg mt-2 hover:opacity-90 transition-all"
                                        >
                                             驻转  -转
                                        </button>
                                    </div>
                                )}
                            </div>
                        </div>
                    )}

                    {/* Full Shopping List Price Comparison Modal */}
                    {showListComparison && (
                        <div className="fixed inset-0 bg-black/80 backdrop-blur-sm flex flex-col z-50">
                            {/* Header */}
                            <div className="p-4 flex items-center justify-between border-b border-white/10">
                                <button
                                    onClick={() => { setShowListComparison(false); setListComparisonData(null); }}
                                    className="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center text-white text-xl hover:bg-white/20 transition-all"
                                >
                                    
                                </button>
                                <h2 className="text-white font-bold text-lg flex items-center gap-2">
                                    <span></span>
                                    <span>{t('priceComparison')} -  专砖</span>
                                </h2>
                                <div className="w-10"></div>
                            </div>

                            {/* View Mode Toggle */}
                            <div className="p-3 flex gap-2 border-b border-white/10">
                                <button
                                    onClick={() => setComparisonViewMode('chains')}
                                    className={`flex-1 py-2 px-4 rounded-xl font-medium text-sm transition-all ${
                                        comparisonViewMode === 'chains'
                                            ? 'bg-orange-500 text-white'
                                            : 'bg-white/10 text-white/70 hover:bg-white/20'
                                    }`}
                                >
                                     驻 专砖转
                                </button>
                                <button
                                    onClick={() => { setComparisonViewMode('optimal'); optimizeShoppingBasket('optimal'); }}
                                    className={`flex-1 py-2 px-4 rounded-xl font-medium text-sm transition-all ${
                                        comparisonViewMode === 'optimal'
                                            ? 'bg-green-500 text-white'
                                            : 'bg-white/10 text-white/70 hover:bg-white/20'
                                    }`}
                                >
                                      
                                </button>
                            </div>

                            {/* Content */}
                            <div className="flex-1 overflow-y-auto p-4">
                                {listComparisonLoading ? (
                                    <div className="flex flex-col items-center justify-center py-16">
                                        <div className="text-5xl mb-4 animate-bounce"></div>
                                        <div className="text-white text-lg font-medium mb-2">砖 专...</div>
                                        <div className="text-gray-400 text-sm">拽 转  专砖转转</div>
                                        <div className="mt-4 w-48 h-2 bg-white/20 rounded-full overflow-hidden">
                                            <div className="h-full bg-gradient-to-r from-orange-500 to-yellow-500 progress-animate" style={{width: '100%'}}></div>
                                        </div>
                                    </div>
                                ) : listComparisonData?.error ? (
                                    <div className="text-center py-16">
                                        <div className="text-5xl mb-4"></div>
                                        <div className="text-white text-lg font-medium mb-2">砖</div>
                                        <div className="text-gray-400 text-sm">{listComparisonData.message}</div>
                                        <button
                                            onClick={compareFullShoppingList}
                                            className="mt-4 px-6 py-3 bg-orange-500 text-white rounded-xl font-bold hover:bg-orange-600 transition-all"
                                        >
                                            住 砖
                                        </button>
                                    </div>
                                ) : listComparisonData?.fallback ? (
                                    /* Fallback Mode - Show links to supermarkets */
                                    <div className="space-y-4">
                                        <div className="bg-yellow-500/20 border border-yellow-500/40 rounded-xl p-4 mb-4">
                                            <div className="flex items-start gap-3">
                                                <span className="text-2xl"></span>
                                                <div>
                                                    <div className="text-yellow-200 font-medium">爪 砖 转</div>
                                                    <div className="text-yellow-200/70 text-sm mt-1">
                                                        砖专转   专注. 抓 注  专砖转  驻砖 转 爪专 砖 砖专转.
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div className="text-white/60 text-sm mb-2">
                                            {items.filter(i => !i.purchased).length} 驻专 砖
                                        </div>

                                        <div className="space-y-3">
                                            {listComparisonData.comparison.map((chain, idx) => (
                                                <button
                                                    key={idx}
                                                    onClick={() => {
                                                        const searchTerms = items.filter(i => !i.purchased).map(i => i.name).join(' ');
                                                        window.open(`${chain.url}/search?q=${encodeURIComponent(searchTerms)}`, '_blank');
                                                    }}
                                                    className={`w-full p-4 ${getChainColor(chain.chain_name_he)} text-white rounded-xl font-bold text-lg flex items-center justify-between hover:opacity-90 hover:scale-[1.02] transition-all shadow-lg`}
                                                >
                                                    <span>{chain.chain_name_he}</span>
                                                    <span className="text-white/70"></span>
                                                </button>
                                            ))}
                                        </div>
                                    </div>
                                ) : listComparisonData && comparisonViewMode === 'chains' ? (
                                    /* Chain Comparison View */
                                    <div className="space-y-4">
                                        {/* Summary Stats */}
                                        <div className="grid grid-cols-2 gap-3 mb-4">
                                            <div className="bg-gradient-to-br from-green-500/20 to-green-600/20 border border-green-500/30 rounded-xl p-4">
                                                <div className="text-green-300 text-sm"> </div>
                                                <div className="text-white font-bold text-xl mt-1">
                                                    {listComparisonData.cheapest_chain?.chain_name_he || '-'}
                                                </div>
                                                <div className="text-green-400 text-lg font-bold">
                                                    {listComparisonData.cheapest_chain?.total?.toFixed(2) || '0'}
                                                </div>
                                            </div>
                                            <div className="bg-gradient-to-br from-orange-500/20 to-orange-600/20 border border-orange-500/30 rounded-xl p-4">
                                                <div className="text-orange-300 text-sm">住 驻砖专</div>
                                                <div className="text-white font-bold text-xl mt-1">
                                                    {listComparisonData.potential_savings?.toFixed(2) || '0'}
                                                </div>
                                                <div className="text-orange-400 text-sm">
                                                    {listComparisonData.items_analyzed} 驻专
                                                </div>
                                            </div>
                                        </div>

                                        {/* Chain List - Expandable */}
                                        <div className="space-y-3">
                                            {listComparisonData.comparison?.sort((a, b) => a.total - b.total).map((chain, idx) => (
                                                <div
                                                    key={idx}
                                                    className={`rounded-xl overflow-hidden border ${
                                                        chain.is_cheapest
                                                            ? 'border-green-500/60'
                                                            : 'border-white/10'
                                                    }`}
                                                >
                                                    {/* Chain Name Header - Clickable */}
                                                    <button
                                                        onClick={() => setExpandedChain(expandedChain === chain.chain_id ? null : chain.chain_id)}
                                                        className={`w-full px-4 py-2 flex items-center gap-2 ${getChainColor(chain.chain_name_he || chain.chain_name)} hover:opacity-90 transition-all`}
                                                    >
                                                        {chain.is_cheapest && <span className="text-lg"></span>}
                                                        <span className="text-white font-bold text-lg">{chain.chain_name_he || chain.chain_name}</span>
                                                        {chain.is_cheapest && <span className="bg-white/20 text-white text-xs px-2 py-0.5 rounded-full"> !</span>}
                                                        <span className="mr-auto text-white/70 text-xl transition-transform duration-200" style={{ transform: expandedChain === chain.chain_id ? 'rotate(180deg)' : 'rotate(0deg)' }}>
                                                            
                                                        </span>
                                                    </button>
                                                    {/* Price Info */}
                                                    <div className={`p-4 ${chain.is_cheapest ? 'bg-green-500/10' : 'bg-white/5'}`}>
                                                        <div className="flex items-center justify-between">
                                                            <div className="text-gray-400 text-sm">
                                                                {chain.items_found}/{listComparisonData.items_analyzed} 驻专 爪
                                                            </div>
                                                            <div className="text-left">
                                                                <div className={`font-bold text-2xl ${chain.is_cheapest ? 'text-green-400' : 'text-white'}`}>
                                                                    {chain.total?.toFixed(2)}
                                                                </div>
                                                                {chain.savings_vs_expensive > 0 && (
                                                                    <div className="text-green-400 text-sm font-medium">
                                                                        住 {chain.savings_vs_expensive.toFixed(2)}
                                                                    </div>
                                                                )}
                                                            </div>
                                                        </div>
                                                    </div>

                                                    {/* Expanded Product List */}
                                                    {expandedChain === chain.chain_id && chain.items?.length > 0 && (
                                                        <div className="border-t border-white/10 bg-black/20 max-h-64 overflow-y-auto">
                                                            <div className="p-3">
                                                                <div className="text-white/60 text-xs mb-2 font-medium">驻专 爪专 专:</div>
                                                                <div className="space-y-1">
                                                                    {chain.items.map((item, itemIdx) => (
                                                                        <div key={itemIdx} className="flex items-center justify-between py-2 px-3 bg-white/5 rounded-lg">
                                                                            <div className="flex items-center gap-2">
                                                                                <span className="text-white/50 text-sm">{item.quantity}</span>
                                                                                <span className="text-white text-sm">{item.name}</span>
                                                                                {item.matchedName !== item.name && (
                                                                                    <span className="text-white/40 text-xs">({item.matchedName})</span>
                                                                                )}
                                                                            </div>
                                                                            <div className="text-left">
                                                                                <span className="text-white font-medium">{item.total?.toFixed(2)}</span>
                                                                                {item.quantity > 1 && (
                                                                                    <span className="text-white/40 text-xs mr-1">({item.price?.toFixed(2)} ')</span>
                                                                                )}
                                                                            </div>
                                                                        </div>
                                                                    ))}
                                                                </div>
                                                            </div>
                                                        </div>
                                                    )}

                                                    {chain.items_not_found?.length > 0 && (
                                                        <div className="px-4 py-2 bg-red-500/10 border-t border-red-500/20">
                                                            <div className="text-red-400 text-xs">
                                                                 爪: {chain.items_not_found.slice(0, 3).join(', ')}
                                                                {chain.items_not_found.length > 3 && ` (+${chain.items_not_found.length - 3})`}
                                                            </div>
                                                        </div>
                                                    )}
                                                </div>
                                            ))}
                                        </div>
                                    </div>
                                ) : listComparisonData?.optimization && comparisonViewMode === 'optimal' ? (
                                    /* Optimized Basket View */
                                    <div className="space-y-4">
                                        {/* Optimization Summary */}
                                        <div className="bg-gradient-to-br from-green-500/30 to-emerald-600/30 border border-green-500/40 rounded-xl p-5">
                                            <div className="flex items-center justify-between mb-3">
                                                <div className="text-green-300 font-medium">住" 专 驻</div>
                                                <div className="text-white font-bold text-2xl">
                                                    {listComparisonData.optimization.total_price?.toFixed(2)}
                                                </div>
                                            </div>
                                            <div className="flex items-center justify-between">
                                                <div className="text-green-300 text-sm">住</div>
                                                <div className="flex items-center gap-2">
                                                    <span className="text-green-400 font-bold">
                                                        {listComparisonData.optimization.total_savings?.toFixed(2)}
                                                    </span>
                                                    <span className="bg-green-500/30 text-green-300 text-xs px-2 py-1 rounded-full">
                                                        {listComparisonData.optimization.savings_percentage?.toFixed(1)}%
                                                    </span>
                                                </div>
                                            </div>
                                        </div>

                                        {/* Strategy Selection */}
                                        <div className="flex gap-2 flex-wrap">
                                            {['single', 'optimal', 'split'].map(strategy => (
                                                <button
                                                    key={strategy}
                                                    onClick={() => optimizeShoppingBasket(strategy)}
                                                    className={`px-3 py-2 rounded-lg text-sm font-medium transition-all ${
                                                        optimizationStrategy === strategy
                                                            ? 'bg-green-500 text-white'
                                                            : 'bg-white/10 text-white/70 hover:bg-white/20'
                                                    }`}
                                                >
                                                    {strategy === 'single' && ' 专砖转 转'}
                                                    {strategy === 'optimal' && '锔 '}
                                                    {strategy === 'split' && '  '}
                                                </button>
                                            ))}
                                        </div>

                                        {/* Shopping Plan */}
                                        <div className="space-y-4">
                                            <div className="text-white/60 text-sm">转转 拽转 爪转:</div>
                                            {listComparisonData.optimization.shopping_plan?.map((chainPlan, idx) => (
                                                <div key={idx} className="bg-white/5 border border-white/10 rounded-xl overflow-hidden">
                                                    <div className={`${getChainColor(chainPlan.chain_name_he)} p-4 flex items-center justify-between`}>
                                                        <div className="font-bold text-white text-lg">{chainPlan.chain_name_he}</div>
                                                        <div className="text-white/90">
                                                            {chainPlan.item_count} 驻专  {chainPlan.subtotal?.toFixed(2)}
                                                        </div>
                                                    </div>
                                                    <div className="p-3 max-h-40 overflow-y-auto">
                                                        {chainPlan.items?.map((item, itemIdx) => (
                                                            <div key={itemIdx} className="flex items-center justify-between py-2 border-b border-white/5 last:border-0">
                                                                <span className="text-white/80">{item.name}</span>
                                                                <span className="text-white/60 text-sm">
                                                                    {item.quantity}x  {item.total?.toFixed(2)}
                                                                </span>
                                                            </div>
                                                        ))}
                                                    </div>
                                                </div>
                                            ))}
                                        </div>

                                        {/* Single Chain Comparison */}
                                        {listComparisonData.optimization.single_chain_comparison && (
                                            <div className="bg-white/5 border border-white/10 rounded-xl p-4 mt-4">
                                                <div className="text-white/60 text-sm mb-1">注转 专砖转   转专:</div>
                                                <div className="flex items-center justify-between">
                                                    <span className="text-white">{listComparisonData.optimization.single_chain_comparison.cheapest}</span>
                                                    <span className="text-white/60">{listComparisonData.optimization.single_chain_comparison.total?.toFixed(2)}</span>
                                                </div>
                                            </div>
                                        )}
                                    </div>
                                ) : (
                                    <div className="text-center py-16">
                                        <div className="text-5xl mb-4"></div>
                                        <div className="text-white text-lg font-medium"> 爪 转</div>
                                    </div>
                                )}
                            </div>

                            {/* Footer with action buttons */}
                            {!listComparisonLoading && listComparisonData && !listComparisonData.error && (
                                <div className="p-4 border-t border-white/10 flex gap-3">
                                    <button
                                        onClick={compareFullShoppingList}
                                        className="flex-1 py-3 bg-white/10 text-white rounded-xl font-medium hover:bg-white/20 transition-all"
                                    >
                                         专注
                                    </button>
                                    <button
                                        onClick={() => {
                                            if (listComparisonData.cheapest_chain) {
                                                const name = listComparisonData.cheapest_chain.chain_name_he;
                                                const urls = {
                                                    '砖驻专住': 'https://www.shufersal.co.il',
                                                    '专 ': 'https://www.rami-levy.co.il',
                                                    '拽专': 'https://www.victoryonline.co.il',
                                                    '转 转': 'https://www.ybitan.co.il',
                                                    '爪 ': 'https://shop.hazi-hinam.co.il',
                                                    '砖专 注': 'https://www.osherad.co.il'
                                                };
                                                window.open(urls[name] || 'https://www.shufersal.co.il', '_blank');
                                            }
                                        }}
                                        className="flex-1 py-3 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-xl font-bold hover:opacity-90 transition-all"
                                    >
                                          {listComparisonData.cheapest_chain?.chain_name_he || '专砖转'}
                                    </button>
                                </div>
                            )}
                        </div>
                    )}

                    {/* AI Smart Add Modal */}
                    {showSmartAdd && (
                        <div className="fixed inset-0 bg-black/80 backdrop-blur-sm flex flex-col z-50">
                            {/* Header */}
                            <div className="p-4 flex items-center justify-between border-b border-white/10">
                                <button
                                    onClick={() => { setShowSmartAdd(false); setSmartAddText(''); setSmartAddResults(null); }}
                                    className="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center text-white text-xl hover:bg-white/20 transition-all"
                                >
                                    
                                </button>
                                <h2 className="text-white font-bold text-lg flex items-center gap-2">
                                    <span></span>
                                    <span>住驻  注 AI</span>
                                </h2>
                                <div className="w-10"></div>
                            </div>

                            {/* Content */}
                            <div className="flex-1 overflow-y-auto p-4">
                                <div className="max-w-lg mx-auto">
                                    {/* Explanation */}
                                    <div className="bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-2xl p-4 mb-4 border border-purple-500/30">
                                        <p className="text-white/90 text-sm leading-relaxed">
                                            转  砖转 爪专 拽住 驻砖  转转 转 转 爪专 转 转.
                                        </p>
                                        <p className="text-white/60 text-xs mt-2">
                                            : "转 2 , 爪, -3 "
                                        </p>
                                    </div>

                                    {/* Text Input */}
                                    <div className="relative mb-4">
                                        <textarea
                                            value={smartAddText}
                                            onChange={(e) => setSmartAddText(e.target.value)}
                                            placeholder=" 住祝 专砖?"
                                            className="w-full px-4 py-4 rounded-2xl bg-white/10 border-2 border-white/20 text-white placeholder:text-white/40 focus:border-purple-400 focus:outline-none resize-none text-lg"
                                            rows={4}
                                            autoFocus
                                        />
                                    </div>

                                    {/* Parse Button */}
                                    <button
                                        onClick={handleSmartAdd}
                                        disabled={!smartAddText.trim() || smartAddLoading}
                                        className="w-full py-4 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-2xl font-bold text-lg hover:from-purple-600 hover:to-pink-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2"
                                    >
                                        {smartAddLoading ? (
                                            <>
                                                <span className="animate-spin"></span>
                                                <span> 爪专...</span>
                                            </>
                                        ) : (
                                            <>
                                                <span></span>
                                                <span> 爪专</span>
                                            </>
                                        )}
                                    </button>

                                    {/* Results */}
                                    {smartAddResults && (
                                        <div className="mt-6">
                                            {smartAddResults.length > 0 ? (
                                                <>
                                                    <h3 className="text-white font-bold mb-3 flex items-center gap-2">
                                                        <span></span>
                                                        <span>转 {smartAddResults.length} 爪专:</span>
                                                    </h3>
                                                    <div className="space-y-2 mb-4">
                                                        {smartAddResults.map((item, index) => (
                                                            <div key={index} className="bg-white/10 rounded-xl p-3 flex items-center justify-between">
                                                                <div className="flex items-center gap-3">
                                                                    <span className="text-2xl">
                                                                        {item.category === 'dairy' ? '' :
                                                                         item.category === 'fruits' ? '' :
                                                                         item.category === 'vegetables' ? 'ガ' :
                                                                         item.category === 'meat' ? 'ォ' :
                                                                         item.category === 'bread' ? '' :
                                                                         item.category === 'drinks' ? 'イ' :
                                                                         item.category === 'cleaning' ? 'Ч' :
                                                                         item.category === 'snacks' ? '' : ''}
                                                                    </span>
                                                                    <span className="text-white font-medium">{item.name}</span>
                                                                </div>
                                                                <div className="flex items-center gap-2">
                                                                    <span className="bg-white/20 px-3 py-1 rounded-full text-white text-sm font-bold">
                                                                        {item.quantity} {item.unit}
                                                                    </span>
                                                                </div>
                                                            </div>
                                                        ))}
                                                    </div>
                                                    <button
                                                        onClick={() => addSmartItems(smartAddResults)}
                                                        className="w-full py-4 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-2xl font-bold text-lg hover:from-green-600 hover:to-emerald-600 transition-all flex items-center justify-center gap-2"
                                                    >
                                                        <span></span>
                                                        <span>住祝  专砖</span>
                                                    </button>
                                                </>
                                            ) : (
                                                <div className="text-center py-8">
                                                    <div className="text-5xl mb-3"></div>
                                                    <p className="text-white/70"> 爪转 转 爪专. 住 转 转专 专专.</p>
                                                </div>
                                            )}
                                        </div>
                                    )}

                                    {/* Quick Examples */}
                                    {!smartAddResults && (
                                        <div className="mt-6">
                                            <h4 className="text-white/60 text-sm mb-2">转:</h4>
                                            <div className="space-y-2">
                                                {['2 , 12 爪, ', '驻专转 专拽转 住', '专 专转 拽专'].map((example) => (
                                                    <button
                                                        key={example}
                                                        onClick={() => setSmartAddText(example)}
                                                        className="w-full text-right px-4 py-2 bg-white/5 hover:bg-white/10 rounded-xl text-white/70 hover:text-white text-sm transition-all"
                                                    >
                                                        {example}
                                                    </button>
                                                ))}
                                            </div>
                                        </div>
                                    )}
                                </div>
                            </div>
                        </div>
                    )}

                    {showFinishShopping && (
                        <div className="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4">
                            <div className="glass rounded-3xl p-8 max-w-md w-full shadow-2xl max-h-[90vh] overflow-y-auto">
                                <div className="text-5xl text-center mb-4"></div>
                                <h2 className="text-2xl font-bold text-center text-gradient mb-2">{t('finishShopping')}</h2>
                                <p className="text-gray-600 dark:text-gray-300 mb-6 text-center">{purchasedCount} {t('itemsPurchased')}</p>
                                <label className="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">{t('totalAmount')}</label>
                                <input
                                    type="number"
                                    value={totalAmount}
                                    onChange={e => setTotalAmount(e.target.value)}
                                    placeholder="0"
                                    className="w-full px-5 py-4 border-2 border-indigo-200 dark:border-indigo-600 rounded-xl bg-white/50 dark:bg-gray-700/50 dark:text-white text-xl mb-4 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition-all"
                                    autoFocus
                                />

                                {/* Receipt Photo Section */}
                                <div className="mb-6">
                                    <label className="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">{t('uploadReceipt')}</label>
                                    <input
                                        type="file"
                                        accept="image/*"
                                        capture="environment"
                                        ref={receiptInputRef}
                                        onChange={handleReceiptCapture}
                                        className="hidden"
                                    />
                                    {!receiptPhoto ? (
                                        <button
                                            onClick={() => receiptInputRef.current?.click()}
                                            disabled={uploadingReceipt}
                                            className="w-full p-4 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl hover:border-indigo-400 dark:hover:border-indigo-500 transition-colors flex flex-col items-center gap-2 text-gray-500 dark:text-gray-400 hover:text-indigo-500"
                                        >
                                            {uploadingReceipt ? (
                                                <>
                                                    <div className="animate-spin text-2xl"></div>
                                                    <span className="text-sm">注...</span>
                                                </>
                                            ) : (
                                                <>
                                                    <span className="text-3xl">Ь</span>
                                                    <span className="text-sm">抓 爪 拽</span>
                                                </>
                                            )}
                                        </button>
                                    ) : (
                                        <div className="relative">
                                            <img
                                                src={receiptPhoto}
                                                alt="拽"
                                                className="w-full h-32 object-cover rounded-xl border-2 border-green-300"
                                            />
                                            <button
                                                onClick={() => setReceiptPhoto(null)}
                                                className="absolute top-2 left-2 w-8 h-8 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors shadow-lg"
                                            >
                                                
                                            </button>
                                            <div className="absolute bottom-2 right-2 bg-green-500 text-white px-2 py-1 rounded-lg text-xs flex items-center gap-1">
                                                <span></span> 拽 爪专驻
                                            </div>
                                        </div>
                                    )}
                                </div>

                                <div className="flex gap-3">
                                    <button onClick={finishShopping}
                                        disabled={uploadingReceipt}
                                        className="flex-1 bg-gradient-to-r from-green-500 to-emerald-500 text-white px-6 py-3 rounded-xl hover:shadow-lg hover:scale-105 font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed">
                                         住 砖专
                                    </button>
                                    <button onClick={() => { setShowFinishShopping(false); setTotalAmount(''); setReceiptPhoto(null); }}
                                        className="px-6 py-3 glass border-2 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 hover:scale-105 transition-all">
                                        
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}

                    {showHistory && (
                        <div className="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto">
                            <div className="glass rounded-3xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl scrollbar-thin">
                                <div className="flex justify-between items-center mb-6">
                                    <h2 className="text-2xl font-bold flex items-center gap-3">
                                        <span className="text-3xl"></span>
                                        <span className="text-gradient">住专转 拽转</span>
                                    </h2>
                                    <button onClick={() => setShowHistory(false)}
                                        className="w-10 h-10 flex items-center justify-center glass rounded-full text-gray-500 hover:text-red-500 dark:hover:text-red-400 text-2xl hover:scale-110 hover:rotate-90 transition-all"></button>
                                </div>
                                {history.length === 0 ? (
                                    <div className="text-center py-12">
                                        <div className="text-7xl mb-4 float"></div>
                                        <p className="text-xl text-gradient font-bold mb-2">{t('noHistoryYet')}</p>
                                        <p className="text-gray-500 dark:text-gray-400">{t('completeFirstShopping')}</p>
                                    </div>
                                ) : (
                                    <div className="space-y-4">
                                        {history.map((record) => (
                                            <div key={record.id} className="glass rounded-xl p-5 card-hover border border-gray-200/50 dark:border-gray-600/50">
                                                <div className="flex justify-between items-start mb-3">
                                                    <div>
                                                        <div className="text-sm text-gray-600 dark:text-gray-400 font-semibold flex items-center gap-2">
                                                            <span className="text-lg"></span>
                                                            {record.completedAt?.toDate?.()?.toLocaleDateString('he-IL', {
                                                                year: 'numeric',
                                                                month: 'long',
                                                                day: 'numeric',
                                                                weekday: 'long'
                                                            }) || '转专  注'}
                                                        </div>
                                                        <div className="text-xs text-gray-500 dark:text-gray-500 mt-1"> {record.completedBy}</div>
                                                    </div>
                                                    <div className="text-2xl font-bold bg-gradient-to-r from-green-500 to-emerald-500 bg-clip-text text-transparent">
                                                        {record.totalAmount.toFixed(2)}
                                                    </div>
                                                </div>
                                                <div className="text-sm text-gray-700 dark:text-gray-300 bg-indigo-50/50 dark:bg-indigo-900/20 rounded-lg p-3">
                                                     {record.items.length} 驻专  爪注: {(record.totalAmount / record.items.length).toFixed(2)} 驻专
                                                </div>
                                                {record.receiptPhoto && (
                                                    <div className="mt-3">
                                                        <button
                                                            onClick={() => window.open(record.receiptPhoto, '_blank')}
                                                            className="flex items-center gap-2 text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300 transition-colors"
                                                        >
                                                            <span>Ь</span>
                                                            <span>爪驻 拽</span>
                                                        </button>
                                                    </div>
                                                )}
                                            </div>
                                        ))}
                                        <div className="glass rounded-xl p-5 border-2 border-indigo-200/50 dark:border-indigo-700/50">
                                            <h3 className="font-bold text-gradient mb-4 flex items-center gap-2">
                                                <span className="text-xl"></span>
                                                住住拽 转
                                            </h3>
                                            <div className="space-y-3">
                                                <div className="flex justify-between text-gray-700 dark:text-gray-300 bg-gray-50/50 dark:bg-gray-800/50 p-3 rounded-lg">
                                                    <span>住" 拽转:</span>
                                                    <span className="font-bold text-lg">{history.length}</span>
                                                </div>
                                                <div className="flex justify-between text-gray-700 dark:text-gray-300 bg-green-50/50 dark:bg-green-900/20 p-3 rounded-lg">
                                                    <span>住" 爪转:</span>
                                                    <span className="font-bold text-lg text-green-600 dark:text-green-400">
                                                        {history.reduce((sum, h) => sum + h.totalAmount, 0).toFixed(2)}
                                                    </span>
                                                </div>
                                                <div className="flex justify-between text-gray-700 dark:text-gray-300 bg-blue-50/50 dark:bg-blue-900/20 p-3 rounded-lg">
                                                    <span>爪注 拽:</span>
                                                    <span className="font-bold text-lg text-blue-600 dark:text-blue-400">
                                                        {(history.reduce((sum, h) => sum + h.totalAmount, 0) / history.length).toFixed(2)}
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                )}
                            </div>
                        </div>
                    )}

                    {/* Forgotten Stats Modal */}
                    {showForgottenStats && (
                        <div className="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto">
                            <div className="glass rounded-3xl p-8 max-w-lg w-full max-h-[90vh] overflow-y-auto shadow-2xl scrollbar-thin">
                                <div className="flex justify-between items-center mb-6">
                                    <h2 className="text-2xl font-bold flex items-center gap-3">
                                        <span className="text-3xl"></span>
                                        <span className="text-gradient">{t('whatForgot')}</span>
                                    </h2>
                                    <button onClick={() => setShowForgottenStats(false)}
                                        className="w-10 h-10 flex items-center justify-center glass rounded-full text-gray-500 hover:text-red-500 dark:hover:text-red-400 text-2xl hover:scale-110 hover:rotate-90 transition-all"></button>
                                </div>

                                {/* Shopping Streak */}
                                <div className="bg-gradient-to-r from-orange-100 to-amber-100 dark:from-orange-900/30 dark:to-amber-900/30 rounded-2xl p-4 mb-6 border border-orange-200 dark:border-orange-800">
                                    <div className="flex items-center justify-between">
                                        <div>
                                            <div className="text-lg font-bold text-orange-800 dark:text-orange-200"> {t('shoppingStreak')}</div>
                                            <div className="text-sm text-orange-600 dark:text-orange-400">拽转  砖 专</div>
                                        </div>
                                        <div className="text-4xl font-bold text-orange-600 dark:text-orange-400">
                                            {shoppingStreak}
                                        </div>
                                    </div>
                                    {shoppingStreak >= 3 && (
                                        <div className="mt-2 text-sm text-orange-700 dark:text-orange-300 animate-pulse">
                                            猸 ! {shoppingStreak} 拽转 专爪祝!
                                        </div>
                                    )}
                                </div>

                                {/* Achievements */}
                                {achievements.length > 0 && (
                                    <div className="mb-6">
                                        <h3 className="font-bold text-gray-800 dark:text-gray-200 mb-3 flex items-center gap-2">
                                            <span></span> 砖 砖
                                        </h3>
                                        <div className="grid grid-cols-2 gap-2">
                                            {achievements.map((achievement, idx) => (
                                                <div key={idx} className="bg-gradient-to-br from-yellow-50 to-amber-100 dark:from-yellow-900/20 dark:to-amber-900/20 rounded-xl p-3 border border-yellow-200 dark:border-yellow-800 hover:scale-105 transition-transform">
                                                    <div className="text-2xl mb-1">{achievement.emoji}</div>
                                                    <div className="text-sm font-bold text-amber-800 dark:text-amber-200">{achievement.name}</div>
                                                    <div className="text-xs text-amber-600 dark:text-amber-400">{achievement.description}</div>
                                                </div>
                                            ))}
                                        </div>
                                    </div>
                                )}

                                {/* Monthly Stats */}
                                <div className="mb-4">
                                    <h3 className="font-bold text-gray-800 dark:text-gray-200 mb-3 flex items-center gap-2">
                                        <span></span> 住住拽 砖转 - {new Date().toLocaleDateString('he-IL', { month: 'long', year: 'numeric' })}
                                    </h3>

                                    {Object.keys(forgottenStats).length === 0 ? (
                                        <div className="text-center py-8 bg-green-50 dark:bg-green-900/20 rounded-2xl">
                                            <div className="text-5xl mb-3"></div>
                                            <p className="text-lg font-bold text-green-700 dark:text-green-300">砖!</p>
                                            <p className="text-sm text-green-600 dark:text-green-400"> 砖转  砖</p>
                                        </div>
                                    ) : (
                                        <div className="space-y-2">
                                            {Object.entries(forgottenStats)
                                                .sort(([,a], [,b]) => b - a)
                                                .map(([item, count]) => {
                                                    const msg = getForgottenMessage(count);
                                                    return (
                                                        <div key={item} className="flex items-center justify-between bg-gray-50 dark:bg-gray-800/50 rounded-xl p-3 hover:bg-gray-100 dark:hover:bg-gray-700/50 transition-colors">
                                                            <div className="flex items-center gap-3">
                                                                <span className="text-2xl">{msg.emoji}</span>
                                                                <span className="font-medium text-gray-800 dark:text-gray-200">{item}</span>
                                                            </div>
                                                            <div className="text-left">
                                                                <div className="font-bold text-gray-700 dark:text-gray-300">{count} 驻注</div>
                                                                <div className="text-xs text-gray-500">{msg.text}</div>
                                                            </div>
                                                        </div>
                                                    );
                                                })}
                                        </div>
                                    )}
                                </div>

                                {/* Tips Section */}
                                {Object.keys(forgottenStats).length > 0 && (
                                    <div className="bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 border border-blue-200 dark:border-blue-800">
                                        <div className="flex items-start gap-2">
                                            <span className="text-xl"></span>
                                            <div>
                                                <div className="font-bold text-blue-800 dark:text-blue-200 text-sm">驻!</div>
                                                <div className="text-xs text-blue-600 dark:text-blue-400">
                                                    住祝 转 驻专 砖砖 注转 拽专转 专砖 拽注,  专 转专转 驻
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                )}
                            </div>
                        </div>
                    )}

                    {showFamilySettings && <FamilySettingsModal onClose={() => setShowFamilySettings(false)} />}
                    {showCreateList && <CreateListModal onClose={() => setShowCreateList(false)} />}
                    {editingNote && <ItemNoteModal item={editingNote} onClose={() => setEditingNote(null)} onSave={(note) => updateItemNote(editingNote.id, note)} />}

                    {/* Regular Items Modal */}
                    {showRegulars && (
                        <div className="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto">
                            <div className="glass rounded-3xl p-8 max-w-lg w-full max-h-[90vh] overflow-y-auto shadow-2xl scrollbar-thin">
                                <div className="flex justify-between items-center mb-6">
                                    <h2 className="text-2xl font-bold flex items-center gap-3">
                                        <span className="text-3xl">猸</span>
                                        <span className="text-gradient">爪专 拽注 砖</span>
                                    </h2>
                                    <button onClick={() => setShowRegulars(false)}
                                        className="w-10 h-10 flex items-center justify-center glass rounded-full text-gray-500 hover:text-red-500 dark:hover:text-red-400 text-2xl hover:scale-110 hover:rotate-90 transition-all"></button>
                                </div>

                                <p className="text-gray-600 dark:text-gray-400 mb-4 text-sm">
                                    爪专 砖转 拽 注转 拽专转, 驻 住专 砖:
                                </p>

                                {regularItems.length === 0 ? (
                                    <div className="text-center py-8">
                                        <div className="text-5xl mb-3"></div>
                                        <p className="text-gray-500 dark:text-gray-400"> 住驻拽 住专转 拽转</p>
                                        <p className="text-sm text-gray-400 dark:text-gray-500 mt-1">住 注  拽转  转 爪专 拽注</p>
                                    </div>
                                ) : (
                                    <>
                                        <div className="space-y-2 mb-6">
                                            {regularItems.map((item, idx) => (
                                                <div key={idx} className="flex items-center justify-between bg-gray-50 dark:bg-gray-800/50 rounded-xl p-3 hover:bg-gray-100 dark:hover:bg-gray-700/50 transition-colors">
                                                    <div className="flex items-center gap-3">
                                                        <span className="text-xl"></span>
                                                        <span className="font-medium text-gray-800 dark:text-gray-200 capitalize">{getProductTranslation(item.name, language)}</span>
                                                    </div>
                                                    <div className="text-sm text-gray-500 dark:text-gray-400">
                                                        拽 {item.count} 驻注
                                                    </div>
                                                </div>
                                            ))}
                                        </div>

                                        <button
                                            onClick={addRegularItems}
                                            className="w-full bg-gradient-to-r from-amber-500 to-orange-500 text-white px-6 py-4 rounded-xl hover:from-amber-600 hover:to-orange-600 transition-all font-bold text-lg shadow-lg hover:shadow-xl hover:scale-[1.02]"
                                        >
                                             住祝 转  专砖
                                        </button>
                                    </>
                                )}
                            </div>
                        </div>
                    )}

                    {/* Calendar & Holidays Modal */}
                    {showCalendar && (
                        <div className="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto">
                            <div className="glass rounded-3xl p-6 max-w-md w-full max-h-[95vh] overflow-y-auto shadow-2xl scrollbar-thin">
                                {/* Header */}
                                <div className="flex justify-between items-center mb-4">
                                    <h2 className="text-xl font-bold flex items-center gap-2">
                                        <span className="text-2xl"></span>
                                        <span className="text-gradient">{t('calendar')}</span>
                                    </h2>
                                    <button onClick={() => { setShowCalendar(false); setSelectedHoliday(null); }}
                                        className="w-10 h-10 flex items-center justify-center glass rounded-full text-gray-500 hover:text-red-500 dark:hover:text-red-400 text-2xl hover:scale-110 hover:rotate-90 transition-all"></button>
                                </div>

                                {/* Year Navigation */}
                                <div className="flex items-center justify-between mb-2">
                                    <button
                                        onClick={() => setCalendarMonth(new Date(calendarMonth.getFullYear() + 1, calendarMonth.getMonth()))}
                                        className="px-3 py-1 text-sm bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-all flex items-center gap-1"
                                    >
                                        <span>芦</span> 砖 拽转
                                    </button>
                                    <button
                                        onClick={() => setCalendarMonth(new Date())}
                                        className="px-3 py-1 text-sm bg-indigo-100 dark:bg-indigo-900/50 text-indigo-700 dark:text-indigo-300 rounded-lg hover:bg-indigo-200 dark:hover:bg-indigo-800 transition-all"
                                    >
                                        
                                    </button>
                                    <button
                                        onClick={() => setCalendarMonth(new Date(calendarMonth.getFullYear() - 1, calendarMonth.getMonth()))}
                                        className="px-3 py-1 text-sm bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-all flex items-center gap-1"
                                    >
                                        砖  <span>禄</span>
                                    </button>
                                </div>

                                {/* Month Navigation */}
                                <div className="flex items-center justify-between mb-4 bg-gradient-to-r from-indigo-500 to-purple-500 text-white rounded-xl p-3">
                                    <button
                                        onClick={() => setCalendarMonth(new Date(calendarMonth.getFullYear(), calendarMonth.getMonth() + 1))}
                                        className="w-10 h-10 rounded-full bg-white/20 hover:bg-white/30 flex items-center justify-center text-xl transition-all"
                                    >
                                        
                                    </button>
                                    <div className="text-center cursor-pointer" onClick={() => setCalendarMonth(new Date())}>
                                        <div className="text-lg font-bold">{HEBREW_MONTHS[calendarMonth.getMonth()]}</div>
                                        <div className="text-sm opacity-80">{calendarMonth.getFullYear()}</div>
                                    </div>
                                    <button
                                        onClick={() => setCalendarMonth(new Date(calendarMonth.getFullYear(), calendarMonth.getMonth() - 1))}
                                        className="w-10 h-10 rounded-full bg-white/20 hover:bg-white/30 flex items-center justify-center text-xl transition-all"
                                    >
                                        
                                    </button>
                                </div>

                                {/* Days Header */}
                                <div className="grid grid-cols-7 gap-1 mb-2">
                                    {HEBREW_DAYS.map((day, i) => (
                                        <div key={i} className={`text-center text-xs font-bold py-2 ${i === 6 ? 'text-blue-600 dark:text-blue-400' : 'text-gray-600 dark:text-gray-400'}`}>
                                            {day}
                                        </div>
                                    ))}
                                </div>

                                {/* Calendar Grid */}
                                <div className="grid grid-cols-7 gap-1 mb-4">
                                    {getCalendarDays(calendarMonth).map((day, idx) => {
                                        const holiday = getHolidayForDate(day);
                                        const isToday = day && day.toDateString() === new Date().toDateString();
                                        const isSaturday = day && day.getDay() === 6;

                                        return (
                                            <div
                                                key={idx}
                                                onClick={() => holiday && setSelectedHoliday(holiday)}
                                                className={`
                                                    aspect-square rounded-lg flex flex-col items-center justify-center text-sm relative
                                                    ${!day ? '' : 'cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700'}
                                                    ${isToday ? 'ring-2 ring-indigo-500 bg-indigo-50 dark:bg-indigo-900/30' : ''}
                                                    ${isSaturday ? 'text-blue-600 dark:text-blue-400' : 'text-gray-700 dark:text-gray-300'}
                                                    ${holiday ? 'bg-gradient-to-br from-amber-100 to-orange-100 dark:from-amber-900/30 dark:to-orange-900/30 font-bold' : ''}
                                                `}
                                            >
                                                {day && (
                                                    <>
                                                        <span className={`${holiday ? 'text-amber-700 dark:text-amber-300' : ''}`}>{day.getDate()}</span>
                                                        {holiday && (
                                                            <span className="text-xs absolute -bottom-0.5">{holiday.icon}</span>
                                                        )}
                                                    </>
                                                )}
                                            </div>
                                        );
                                    })}
                                </div>

                                {/* Selected Holiday Details */}
                                {selectedHoliday ? (
                                    <div className="bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-xl p-4 border-2 border-amber-300 dark:border-amber-700 mb-4">
                                        <div className="flex items-center gap-3 mb-3">
                                            <span className="text-3xl">{selectedHoliday.icon}</span>
                                            <div>
                                                <h3 className="font-bold text-lg text-gray-800 dark:text-white">{selectedHoliday.name}</h3>
                                                <p className="text-sm text-amber-700 dark:text-amber-300">{selectedHoliday.date}</p>
                                            </div>
                                        </div>
                                        <p className="text-sm text-gray-600 dark:text-gray-400 mb-4">{selectedHoliday.reminder}</p>

                                        {/* Reminder Days Selector */}
                                        <div className="mb-4">
                                            <label className="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">转专转 拽转 驻:</label>
                                            <div className="flex gap-2 flex-wrap">
                                                {[3, 5, 7, 10, 14].map(days => (
                                                    <button
                                                        key={days}
                                                        onClick={() => setReminderDays(days)}
                                                        className={`px-3 py-1 rounded-full text-sm transition-all ${
                                                            reminderDays === days
                                                                ? 'bg-indigo-500 text-white'
                                                                : 'bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200'
                                                        }`}
                                                    >
                                                        {days} 
                                                    </button>
                                                ))}
                                            </div>
                                        </div>

                                        {/* Add to Calendar Buttons */}
                                        <div className="space-y-2">
                                            <button
                                                onClick={() => addToGoogleCalendar(selectedHoliday, reminderDays)}
                                                className="w-full flex items-center justify-center gap-2 bg-white dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-600 text-gray-800 dark:text-white px-4 py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-all font-medium"
                                            >
                                                <svg className="w-5 h-5" viewBox="0 0 24 24" fill="currentColor">
                                                    <path d="M12 0C5.372 0 0 5.372 0 12s5.372 12 12 12 12-5.372 12-12S18.628 0 12 0zm6.369 8.648l-1.816 1.244c-.216.148-.504.087-.641-.138l-.858-1.416c-.137-.226-.451-.297-.698-.158l-1.674.938c-.247.139-.547.048-.669-.203l-.795-1.628c-.122-.25-.413-.365-.65-.255l-1.66.77c-.236.11-.512-.018-.616-.284l-.703-1.78c-.103-.267-.391-.401-.642-.3l-1.692.682c-.25.1-.528-.048-.618-.331L6.37 4.107c-.09-.282-.373-.44-.631-.353L4 4.42v14.16c0 .552.448 1 1 1h14c.552 0 1-.448 1-1V8.42l-1.631.228z"/>
                                                </svg>
                                                住祝 -Google Calendar
                                            </button>
                                            <button
                                                onClick={() => downloadICSFile(selectedHoliday, reminderDays)}
                                                className="w-full flex items-center justify-center gap-2 bg-gradient-to-r from-indigo-500 to-purple-500 text-white px-4 py-3 rounded-xl hover:from-indigo-600 hover:to-purple-600 transition-all font-medium"
                                            >
                                                 专  (iPhone/砖)
                                            </button>
                                        </div>
                                    </div>
                                ) : (
                                    <>
                                        {/* Holidays in Current Month */}
                                        {(() => {
                                            const monthHolidays = ISRAELI_HOLIDAYS.filter(h =>
                                                h.dateObj.getMonth() === calendarMonth.getMonth() &&
                                                h.dateObj.getFullYear() === calendarMonth.getFullYear()
                                            );
                                            return monthHolidays.length > 0 && (
                                                <div className="space-y-2 mb-4">
                                                    <h3 className="font-bold text-gray-800 dark:text-white text-sm mb-2">  砖 :</h3>
                                                    {monthHolidays.map((holiday, idx) => (
                                                        <button
                                                            key={idx}
                                                            onClick={() => setSelectedHoliday(holiday)}
                                                            className="w-full flex items-center gap-3 p-3 bg-amber-50 dark:bg-amber-900/20 rounded-xl hover:bg-amber-100 dark:hover:bg-amber-900/30 transition-all text-right border border-amber-200 dark:border-amber-700"
                                                        >
                                                            <span className="text-xl">{holiday.icon}</span>
                                                            <div className="flex-1">
                                                                <div className="font-medium text-amber-800 dark:text-amber-200">{holiday.name}</div>
                                                                <div className="text-xs text-amber-600 dark:text-amber-400">{holiday.date}</div>
                                                            </div>
                                                        </button>
                                                    ))}
                                                </div>
                                            );
                                        })()}

                                        {/* Upcoming Holidays List */}
                                        <div className="space-y-2">
                                            <h3 className="font-bold text-gray-800 dark:text-white text-sm mb-2">  拽专:</h3>
                                            {ISRAELI_HOLIDAYS
                                                .filter(h => h.dateObj >= new Date())
                                                .sort((a, b) => a.dateObj - b.dateObj)
                                                .slice(0, 4)
                                                .map((holiday, idx) => {
                                                    const daysUntil = Math.ceil((holiday.dateObj - new Date()) / (1000 * 60 * 60 * 24));
                                                    return (
                                                        <button
                                                            key={idx}
                                                            onClick={() => {
                                                                setSelectedHoliday(holiday);
                                                                setCalendarMonth(new Date(holiday.dateObj));
                                                            }}
                                                            className="w-full flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800/50 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 transition-all text-right"
                                                        >
                                                            <span className="text-xl">{holiday.icon}</span>
                                                            <div className="flex-1">
                                                                <div className="font-medium text-gray-800 dark:text-white">{holiday.name}</div>
                                                                <div className="text-xs text-gray-500">{holiday.date}</div>
                                                            </div>
                                                            <span className={`text-xs px-2 py-1 rounded-full ${
                                                                daysUntil <= 7 ? 'bg-red-100 text-red-700 dark:bg-red-900/50 dark:text-red-300' :
                                                                daysUntil <= 30 ? 'bg-amber-100 text-amber-700 dark:bg-amber-900/50 dark:text-amber-300' :
                                                                'bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400'
                                                            }`}>
                                                                {daysUntil} 
                                                            </span>
                                                        </button>
                                                    );
                                                })}
                                        </div>
                                    </>
                                )}

                                {/* Legend */}
                                <div className="mt-4 p-3 bg-gray-50 dark:bg-gray-800/50 rounded-xl">
                                    <div className="text-xs text-gray-500 dark:text-gray-400 flex flex-wrap gap-3">
                                        <span className="flex items-center gap-1">
                                            <span className="w-3 h-3 rounded bg-amber-200 dark:bg-amber-700"></span> 
                                        </span>
                                        <span className="flex items-center gap-1">
                                            <span className="w-3 h-3 rounded ring-2 ring-indigo-500"></span> 
                                        </span>
                                        <span className="flex items-center gap-1">
                                            <span className="text-blue-600">砖壮</span> 砖转
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Quantity Selector Modal */}
                    {showQuantitySelector && selectedProduct && (
                        <div className="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4">
                            <div className="glass rounded-3xl p-6 max-w-sm w-full shadow-2xl">
                                <div className="text-center mb-6">
                                    <div className="text-4xl mb-2">{CATEGORIES[selectedProduct.category]?.icon || ''}</div>
                                    <h2 className="text-xl font-bold text-gray-800 dark:text-white">{selectedProduct.name}</h2>
                                    <p className="text-sm text-gray-500 dark:text-gray-400">{CATEGORIES[selectedProduct.category]?.name}</p>
                                </div>

                                {/* Quantity Selector */}
                                <div className="mb-6">
                                    <label className="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 text-center">转</label>
                                    <div className="flex items-center justify-center gap-4">
                                        <button
                                            onClick={() => setSelectedQuantity(Math.max(0.5, selectedQuantity - (selectedUnit === '专' ? 100 : selectedUnit === '拽"' ? 0.5 : 1)))}
                                            className="w-14 h-14 bg-gray-100 dark:bg-gray-700 rounded-2xl text-2xl font-bold hover:bg-gray-200 dark:hover:bg-gray-600 transition-all hover:scale-110"
                                        >
                                            -
                                        </button>
                                        <div className="text-center min-w-[80px]">
                                            <input
                                                type="number"
                                                value={selectedQuantity}
                                                onChange={(e) => setSelectedQuantity(Math.max(0.1, parseFloat(e.target.value) || 1))}
                                                onFocus={(e) => e.target.select()}
                                                className="w-20 text-center text-3xl font-bold bg-transparent border-none outline-none text-gradient"
                                                step={selectedUnit === '专' ? 100 : selectedUnit === '拽"' ? 0.5 : 1}
                                            />
                                        </div>
                                        <button
                                            onClick={() => setSelectedQuantity(selectedQuantity + (selectedUnit === '专' ? 100 : selectedUnit === '拽"' ? 0.5 : 1))}
                                            className="w-14 h-14 btn-gradient text-white rounded-2xl text-2xl font-bold hover:scale-110 transition-all"
                                        >
                                            +
                                        </button>
                                    </div>
                                </div>

                                {/* Unit Selector */}
                                <div className="mb-6">
                                    <label className="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 text-center">转 </label>
                                    <div className="flex justify-center gap-2 flex-wrap">
                                        {selectedProduct.unitOptions?.map((unit) => (
                                            <button
                                                key={unit}
                                                onClick={() => {
                                                    setSelectedUnit(unit);
                                                    // Reset quantity when changing units
                                                    if (unit === '专') setSelectedQuantity(100);
                                                    else if (unit === '拽"') setSelectedQuantity(1);
                                                    else setSelectedQuantity(1);
                                                }}
                                                className={`px-4 py-2 rounded-xl font-medium transition-all ${
                                                    selectedUnit === unit
                                                        ? 'btn-gradient text-white shadow-lg'
                                                        : 'bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600'
                                                }`}
                                            >
                                                {unit}
                                            </button>
                                        ))}
                                    </div>
                                </div>

                                {/* Note Input */}
                                <div className="mb-4">
                                    <label className="block text-sm font-medium text-gray-600 dark:text-gray-400 mb-2"> 住祝 注专 (驻爪):</label>
                                    <input
                                        type="text"
                                        value={selectedNote}
                                        onChange={(e) => setSelectedNote(e.target.value)}
                                        placeholder=": 专,  , 专..."
                                        className="w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 dark:text-white focus:border-indigo-400 transition-all"
                                    />
                                </div>

                                {/* Preview */}
                                <div className="bg-indigo-50 dark:bg-indigo-900/30 rounded-xl p-3 mb-6 text-center">
                                    <span className="text-lg font-bold text-indigo-700 dark:text-indigo-300">
                                        {selectedProduct.name} - {selectedQuantity} {selectedUnit}
                                        {selectedNote && <span className="block text-sm mt-1"> {selectedNote}</span>}
                                    </span>
                                </div>

                                {/* Buttons */}
                                <div className="flex gap-3">
                                    <button
                                        onClick={addProductWithQuantity}
                                        className="flex-1 btn-gradient text-white px-6 py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl hover:scale-[1.02] transition-all"
                                    >
                                         住祝 专砖
                                    </button>
                                    <button
                                        onClick={() => { setShowQuantitySelector(false); setSelectedProduct(null); setSelectedNote(''); }}
                                        className="px-6 py-4 glass border-2 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 transition-all"
                                    >
                                        
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Confetti Effect */}
                    {confetti && <ConfettiBurst x={confetti.x} y={confetti.y} onComplete={() => setConfetti(null)} />}

                    {/* Family Chat Modal */}
                    {showChat && (
                        <div className="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4">
                            <div className="bg-white dark:bg-gray-900 rounded-3xl w-full max-w-lg h-[85vh] max-h-[650px] shadow-2xl flex flex-col overflow-hidden">
                                {/* Chat Header - Modern Design */}
                                <div className="p-4 flex items-center justify-between bg-white dark:bg-gray-800 border-b border-gray-100 dark:border-gray-700">
                                    <div className="flex items-center gap-3">
                                        <div className="w-12 h-12 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white text-xl shadow-lg">
                                            ㄢ┾р
                                        </div>
                                        <div>
                                            <h2 className="font-bold text-gray-800 dark:text-white">{family?.name}</h2>
                                            <p className="text-xs text-gray-500 dark:text-gray-400">
                                                {activeEditors.length > 0 ? `${activeEditors[0]} 拽/...` : '爪\' 砖驻转'}
                                            </p>
                                        </div>
                                    </div>
                                    <div className="flex items-center gap-2">
                                        <button
                                            onClick={async () => {
                                                if ('Notification' in window) {
                                                    if (Notification.permission === 'granted') {
                                                        setNotificationsEnabled(!notificationsEnabled);
                                                    } else if (Notification.permission !== 'denied') {
                                                        const permission = await Notification.requestPermission();
                                                        setNotificationsEnabled(permission === 'granted');
                                                    } else {
                                                        alert('转专转 住转.  驻砖专 转专转 专转 驻驻.');
                                                    }
                                                }
                                            }}
                                            className={`w-10 h-10 rounded-xl flex items-center justify-center transition-all ${notificationsEnabled ? 'bg-green-100 dark:bg-green-900/50 text-green-600' : 'bg-gray-100 dark:bg-gray-700 text-gray-500'}`}
                                            title={notificationsEnabled ? '转专转 驻注转' : '驻注 转专转'}
                                        >
                                            {notificationsEnabled ? '' : ''}
                                        </button>
                                        <button onClick={() => setShowChat(false)} className="w-10 h-10 rounded-xl bg-gray-100 dark:bg-gray-700 flex items-center justify-center text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                                            <svg className="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}>
                                                <path strokeLinecap="round" strokeLinejoin="round" d="M6 18L18 6M6 6l12 12" />
                                            </svg>
                                        </button>
                                    </div>
                                </div>

                                {/* Chat Messages - Modern Bubbles */}
                                <div className="flex-1 overflow-y-auto p-4 space-y-4 bg-gradient-to-b from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 scrollbar-thin">
                                    {chatMessages.length === 0 ? (
                                        <div className="text-center py-16">
                                            <div className="w-20 h-20 rounded-full bg-indigo-100 dark:bg-indigo-900/50 flex items-center justify-center mx-auto mb-4">
                                                <span className="text-4xl"></span>
                                            </div>
                                            <p className="text-gray-600 dark:text-gray-300 font-medium"> 注转 注</p>
                                            <p className="text-sm text-gray-400 dark:text-gray-500 mt-1">砖 注 专砖 砖驻!</p>
                                        </div>
                                    ) : (
                                        chatMessages.map(msg => {
                                            const isMe = msg.senderUid === user.uid;
                                            return (
                                                <div key={msg.id} className={`flex ${isMe ? 'justify-start' : 'justify-end'} items-end gap-2`}>
                                                    {isMe && (
                                                        <div className="w-8 h-8 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white text-xs font-bold flex-shrink-0">
                                                            {(msg.senderName || '?')[0]}
                                                        </div>
                                                    )}
                                                    <div className={`max-w-[75%] ${isMe ? 'order-2' : ''}`}>
                                                        {!isMe && <p className="text-xs text-gray-500 dark:text-gray-400 mb-1 mr-2 font-medium">{msg.senderName}</p>}
                                                        <div className={`rounded-2xl p-3 shadow-sm ${
                                                            isMe
                                                                ? 'bg-indigo-500 text-white rounded-bl-md'
                                                                : 'bg-white dark:bg-gray-700 text-gray-800 dark:text-white rounded-br-md border border-gray-100 dark:border-gray-600'
                                                        }`}>
                                                            {msg.photoUrl && (
                                                                <img src={msg.photoUrl} alt="转" className="rounded-xl mb-2 max-w-full cursor-pointer hover:opacity-90 shadow-sm" onClick={() => window.open(msg.photoUrl, '_blank')} />
                                                            )}
                                                            {msg.text && <p className="text-sm leading-relaxed">{msg.text}</p>}
                                                            <div className={`flex items-center gap-1 mt-1.5 ${isMe ? 'justify-start' : 'justify-end'}`}>
                                                                <p className={`text-xs ${isMe ? 'text-indigo-200' : 'text-gray-400'}`}>
                                                                    {msg.createdAt?.toDate?.().toLocaleTimeString('he-IL', { hour: '2-digit', minute: '2-digit' }) || ''}
                                                                </p>
                                                                {isMe && (
                                                                    <span className={`text-xs ${msg.readBy && msg.readBy.some(uid => uid !== msg.senderUid) ? 'text-cyan-300' : 'text-indigo-300'}`}>
                                                                        {msg.readBy && msg.readBy.some(uid => uid !== msg.senderUid) ? '' : ''}
                                                                    </span>
                                                                )}
                                                            </div>
                                                        </div>
                                                    </div>
                                                    {!isMe && (
                                                        <div className="w-8 h-8 rounded-full bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center text-white text-xs font-bold flex-shrink-0">
                                                            {(msg.senderName || '?')[0]}
                                                        </div>
                                                    )}
                                                </div>
                                            );
                                        })
                                    )}
                                </div>

                                {/* Photo Preview - Improved */}
                                {capturedPhoto && (
                                    <div className="px-4 py-3 bg-white dark:bg-gray-800 border-t border-gray-100 dark:border-gray-700">
                                        <div className="relative inline-block">
                                            <img src={capturedPhoto} alt="转爪 拽" className="h-24 rounded-xl shadow-md" />
                                            <button onClick={() => setCapturedPhoto(null)} className="absolute -top-2 -right-2 w-7 h-7 bg-red-500 text-white rounded-full text-sm flex items-center justify-center shadow-lg hover:bg-red-600 transition-colors"></button>
                                        </div>
                                    </div>
                                )}

                                {/* Chat Input - Modern Design */}
                                <div className="p-4 bg-white dark:bg-gray-800 border-t border-gray-100 dark:border-gray-700">
                                    <div className="flex items-center gap-3">
                                        <button onClick={startCamera} className="w-11 h-11 rounded-xl bg-gray-100 dark:bg-gray-700 flex items-center justify-center text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-all" title="爪 转">
                                            <svg className="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}>
                                                <path strokeLinecap="round" strokeLinejoin="round" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z" />
                                                <path strokeLinecap="round" strokeLinejoin="round" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z" />
                                            </svg>
                                        </button>
                                        <input
                                            type="text"
                                            value={chatInput}
                                            onChange={e => setChatInput(e.target.value)}
                                            onKeyPress={e => e.key === 'Enter' && sendChatMessage(chatInput, capturedPhoto)}
                                            placeholder="拽 注..."
                                            className="flex-1 px-4 py-3 border border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 dark:text-white focus:border-indigo-400 focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/50 transition-all text-sm"
                                        />
                                        <button
                                            onClick={() => sendChatMessage(chatInput, capturedPhoto)}
                                            className="w-11 h-11 bg-indigo-500 hover:bg-indigo-600 rounded-xl flex items-center justify-center text-white transition-all shadow-md hover:shadow-lg"
                                        >
                                            <svg className="w-5 h-5 rotate-180" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}>
                                                <path strokeLinecap="round" strokeLinejoin="round" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Camera Modal */}
                    {showCamera && (
                        <div className="fixed inset-0 bg-black z-[60] flex flex-col">
                            <div className="flex items-center justify-between p-4 bg-black/50">
                                <button onClick={stopCamera} className="text-white text-lg px-4 py-2"></button>
                                <h2 className="text-white font-bold">爪 爪专</h2>
                                <div className="w-16"></div>
                            </div>
                            <div className="flex-1 flex items-center justify-center bg-black">
                                <video ref={videoRef} autoPlay playsInline className="max-w-full max-h-full" />
                            </div>
                            <div className="p-6 bg-black/50 flex justify-center" style={{ paddingBottom: 'calc(1.5rem + env(safe-area-inset-bottom, 1.5rem))' }}>
                                <button onClick={capturePhoto} className="w-20 h-20 rounded-full bg-white border-4 border-gray-300 hover:scale-105 transition-transform flex items-center justify-center">
                                    <div className="w-16 h-16 rounded-full bg-white border-2 border-gray-400"></div>
                                </button>
                            </div>
                            <canvas ref={canvasRef} className="hidden" />
                        </div>
                    )}

                    <div className="max-w-4xl mx-auto">
                        <div className="glass rounded-3xl shadow-xl p-6 mb-6 relative overflow-hidden">
                            <div className="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500"></div>
                            <div className="flex items-center justify-between mb-4">
                                <div className="flex items-center gap-4">
                                    <div className="w-14 h-14 rounded-2xl btn-gradient flex items-center justify-center shadow-lg">
                                        <span className="text-3xl"></span>
                                    </div>
                                    <div>
                                        <h1 className="text-2xl font-bold text-gradient">ListNest</h1>
                                        <div className="flex items-center gap-2 mt-1 flex-wrap">
                                            <button onClick={() => setShowFamilySettings(true)} className="px-3 py-1 rounded-full text-sm font-medium bg-gradient-to-r from-indigo-100 to-purple-100 text-indigo-700 dark:from-indigo-900/50 dark:to-purple-900/50 dark:text-indigo-300 hover:scale-105 transition-transform cursor-pointer">
                                                ㄢ┾р {family?.name}
                                            </button>
                                            <span className="px-2 py-1 rounded-full text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300">
                                                 {user.displayName || user.email}
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <div className="flex items-center gap-2">
                                    <button
                                        onClick={toggleShoppingMode}
                                        className={`w-10 h-10 rounded-xl flex items-center justify-center text-lg hover:scale-110 transition-all touch-target ${
                                            shoppingMode
                                                ? 'bg-green-500 text-white shadow-lg shadow-green-200 dark:shadow-green-900/50 animate-pulse'
                                                : 'bg-green-100 dark:bg-green-900/50 text-green-600 dark:text-green-400'
                                        }`}
                                        title={shoppingMode ? t('shoppingModeActive') : t('enableShoppingMode')}
                                        aria-label={shoppingMode ? t('shoppingModeActive') : t('enableShoppingMode')}
                                        aria-pressed={shoppingMode}
                                    >
                                        <span aria-hidden="true">{shoppingMode ? '' : ''}</span>
                                    </button>
                                    <button
                                        onClick={() => setShowChat(true)}
                                        className="w-10 h-10 rounded-xl bg-blue-100 dark:bg-blue-900/50 flex items-center justify-center text-lg hover:scale-110 transition-transform relative touch-target"
                                        title={t('familyChat')}
                                        aria-label={chatMessages.some(msg => msg.senderUid !== user.uid && (!msg.readBy || !msg.readBy.includes(user.uid))) ? `${t('familyChat')} - ${t('newMessages')}` : t('familyChat')}
                                    >
                                        <span aria-hidden="true"></span>
                                        {chatMessages.some(msg => msg.senderUid !== user.uid && (!msg.readBy || !msg.readBy.includes(user.uid))) && (
                                            <>
                                                <span className="absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-pulse" aria-hidden="true"></span>
                                                <span className="sr-only">{t('newMessages')}</span>
                                            </>
                                        )}
                                    </button>
                                    <button
                                        onClick={toggleDarkMode}
                                        className="w-10 h-10 rounded-xl bg-gray-100 dark:bg-gray-700 flex items-center justify-center text-lg hover:scale-110 transition-transform touch-target"
                                        aria-label={darkMode ? t('lightMode') : t('darkMode')}
                                        aria-pressed={darkMode}
                                    >
                                        <span aria-hidden="true">{darkMode ? '锔' : ''}</span>
                                    </button>
                                    <button
                                        onClick={handleLogout}
                                        className="w-10 h-10 rounded-xl bg-red-100 dark:bg-red-900/50 flex items-center justify-center text-lg hover:scale-110 transition-transform text-red-600 dark:text-red-400 touch-target"
                                        title={t('logout')}
                                        aria-label={t('logout')}
                                    >
                                        <span aria-hidden="true"></span>
                                    </button>
                                </div>
                            </div>

                            {/* List Selector - Wrapping Grid */}
                            <div className="flex flex-wrap gap-2 mb-4">
                                {lists.map(list => (
                                    <button
                                        key={list.id}
                                        onClick={() => setCurrentList(list)}
                                        className={`flex items-center gap-1.5 px-3 py-2 rounded-xl transition-all text-sm ${
                                            currentList?.id === list.id
                                                ? 'btn-gradient text-white shadow-lg'
                                                : 'bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200'
                                        }`}
                                    >
                                        <span>{list.icon}</span>
                                        <span className="font-medium">{list.name}</span>
                                        {list.isDefault && <span className="text-xs">猸</span>}
                                    </button>
                                ))}
                                <button
                                    onClick={() => setShowCreateList(true)}
                                    className="flex items-center gap-1.5 px-3 py-2 rounded-xl bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 hover:bg-indigo-100 dark:hover:bg-indigo-900/50 transition-all text-sm"
                                >
                                    <span></span>
                                    <span className="font-medium">{t('newList')}</span>
                                </button>
                            </div>

                            {/* Active Editors & Shopping Mode Indicator */}
                            {(activeEditors.length > 0 || shoppingMode) && (
                                <div className="flex items-center gap-3 mb-4 flex-wrap">
                                    {shoppingMode && (
                                        <div className="flex items-center gap-2 px-3 py-1.5 bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300 rounded-full text-sm font-medium">
                                            <span className="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
                                            爪 拽转 驻注
                                        </div>
                                    )}
                                    {activeEditors.length > 0 && (
                                        <div className="flex items-center gap-2 px-3 py-1.5 bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 rounded-full text-sm">
                                            <span className="w-2 h-2 bg-blue-500 rounded-full animate-pulse"></span>
                                            {activeEditors.join(', ')} 注专/转 专注
                                        </div>
                                    )}
                                </div>
                            )}

                            {/* Quick Actions Bar - 5 icons in a row */}
                            <div className="grid grid-cols-5 gap-2 mb-4">
                                <button
                                    onClick={() => setShowImportWhatsApp(true)}
                                    className="flex flex-col items-center justify-center py-3 rounded-xl bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-300 hover:bg-green-100 dark:hover:bg-green-900/50 transition-all"
                                >
                                    <span className="text-2xl mb-1"></span>
                                    <span className="text-xs font-medium">{t('importList')}</span>
                                </button>
                                <button
                                    onClick={exportToWhatsApp}
                                    disabled={items.filter(item => !item.purchased).length === 0}
                                    className="flex flex-col items-center justify-center py-3 rounded-xl bg-emerald-50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 hover:bg-emerald-100 dark:hover:bg-emerald-900/50 transition-all disabled:opacity-50"
                                >
                                    <span className="text-2xl mb-1"></span>
                                    <span className="text-xs font-medium">{t('exportList')}</span>
                                </button>
                                <button
                                    onClick={() => setShowSavedLists(true)}
                                    className="flex flex-col items-center justify-center py-3 rounded-xl bg-purple-50 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 hover:bg-purple-100 dark:hover:bg-purple-900/50 transition-all relative"
                                >
                                    <span className="text-2xl mb-1"></span>
                                    <span className="text-xs font-medium">{t('lists')}</span>
                                    {savedLists.length > 0 && <span className="absolute top-1 right-1 bg-purple-500 text-white w-5 h-5 rounded-full text-xs flex items-center justify-center">{savedLists.length}</span>}
                                </button>
                                <button
                                    onClick={saveListForReuse}
                                    className="flex flex-col items-center justify-center py-3 rounded-xl bg-amber-50 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300 hover:bg-amber-100 dark:hover:bg-amber-900/50 transition-all"
                                >
                                    <span className="text-2xl mb-1"></span>
                                    <span className="text-xs font-medium">{t('save')}</span>
                                </button>
                                <button
                                    onClick={startPriceScanner}
                                    className="flex flex-col items-center justify-center py-3 rounded-xl bg-cyan-50 dark:bg-cyan-900/30 text-cyan-700 dark:text-cyan-300 hover:bg-cyan-100 dark:hover:bg-cyan-900/50 transition-all"
                                >
                                    <span className="text-2xl mb-1"></span>
                                    <span className="text-xs font-medium">住专拽 爪专</span>
                                </button>
                            </div>

                            {/* Full List Price Comparison Button */}
                            {items.filter(i => !i.purchased).length > 0 && (
                                <button
                                    onClick={compareFullShoppingList}
                                    className="w-full mb-4 flex items-center justify-center gap-3 py-3 px-4 rounded-xl bg-gradient-to-r from-emerald-500 to-teal-500 text-white font-bold shadow-lg hover:shadow-xl hover:scale-[1.02] transition-all"
                                >
                                    <span className="text-2xl"></span>
                                    <span>砖 专 -  专砖</span>
                                    <span className="bg-white/20 px-2 py-0.5 rounded-full text-sm">{items.filter(i => !i.purchased).length}</span>
                                </button>
                            )}

                            {/* AI Assistant Button */}
                            <button
                                onClick={() => { setShowAIAssistant(true); generateAISuggestions(); }}
                                className="w-full mb-4 flex items-center justify-center gap-3 py-3 px-4 rounded-xl bg-gradient-to-r from-violet-500 to-purple-600 text-white font-bold shadow-lg hover:shadow-xl hover:scale-[1.02] transition-all"
                            >
                                <span className="text-2xl"></span>
                                <span>注专 拽转  - 爪注转 AI</span>
                                <span className="text-lg"></span>
                            </button>

                            {/* Holiday Recommendations Banner */}
                            {getHolidayRecommendations().length > 0 && (
                                <div className="mb-4 p-4 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/30 dark:to-orange-900/30 rounded-2xl border border-amber-200 dark:border-amber-700">
                                    <div className="flex items-center justify-between mb-2">
                                        <div className="flex items-center gap-2">
                                            <span className="text-xl">{getHolidayRecommendations()[0].icon}</span>
                                            <span className="font-bold text-amber-800 dark:text-amber-200">{getHolidayRecommendations()[0].name} 转拽专!</span>
                                        </div>
                                        <button
                                            onClick={() => setShowHolidayRecommendations(!showHolidayRecommendations)}
                                            className="text-sm text-amber-600 dark:text-amber-400 hover:underline"
                                        >
                                            {showHolidayRecommendations ? '住转专' : '爪 爪转'}
                                        </button>
                                    </div>
                                    {showHolidayRecommendations && (
                                        <div className="flex flex-wrap gap-2 mt-2">
                                            {getHolidayRecommendations()[0].products.map((product, idx) => (
                                                <button
                                                    key={idx}
                                                    onClick={() => addProduct(product)}
                                                    className="px-3 py-1.5 bg-white dark:bg-gray-800 rounded-lg text-sm font-medium text-amber-700 dark:text-amber-300 hover:bg-amber-100 dark:hover:bg-amber-900/50 transition-all border border-amber-200 dark:border-amber-700"
                                                >
                                                    + {product}
                                                </button>
                                            ))}
                                        </div>
                                    )}
                                </div>
                            )}

                            <div className="flex items-center justify-between mb-4">
                                <div className="text-sm text-gray-500 dark:text-gray-400">
                                    {currentList?.icon} {currentList?.name}
                                </div>
                                <button
                                    onClick={() => document.getElementById('shopping-list-section')?.scrollIntoView({ behavior: 'smooth' })}
                                    className="flex items-center gap-2 px-4 py-2 bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-indigo-900/30 dark:to-purple-900/30 rounded-xl hover:shadow-lg transition-all border border-indigo-200/50 dark:border-indigo-700/50">
                                    <span className="text-xs text-gray-500 dark:text-gray-400 font-medium">驻专</span>
                                    <span className="text-xl font-bold text-gradient">{totalItems}</span>
                                </button>
                            </div>

                            {totalItems > 0 && (
                                <div className="bg-gradient-to-r from-indigo-500/10 to-purple-500/10 dark:from-indigo-500/20 dark:to-purple-500/20 rounded-2xl p-4 mb-4">
                                    <div className="flex justify-between mb-2 text-sm">
                                        <span className="text-gray-600 dark:text-gray-300 font-medium">{t('shoppingProgress')}</span>
                                        <span className="font-bold text-gradient">{purchasedCount} / {totalItems}</span>
                                    </div>
                                    <div className="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5 overflow-hidden">
                                        <div className="progress-animate h-2.5 rounded-full transition-all duration-700 ease-out"
                                            style={{ width: `${totalItems > 0 ? (purchasedCount / totalItems) * 100 : 0}%` }} />
                                    </div>
                                    {purchasedCount === totalItems && totalItems > 0 && (
                                        <div className="text-center mt-2 text-sm text-green-600 dark:text-green-400 font-medium"> {t('allPurchased')}</div>
                                    )}
                                </div>
                            )}

                            <div className="grid grid-cols-4 gap-2">
                                <button onClick={() => purchasedCount > 0 ? setShowFinishShopping(true) : alert(t('markPurchased'))}
                                    className="relative overflow-hidden bg-gradient-to-br from-emerald-50 to-green-100 dark:from-emerald-900/30 dark:to-green-900/30 p-3 rounded-xl border border-emerald-200/50 dark:border-emerald-700/50 card-hover group">
                                    <div className="absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700"></div>
                                    <div className="text-2xl mb-1"></div>
                                    <div className="text-xs text-gray-600 dark:text-gray-400 font-medium">{t('finishShopping')}</div>
                                </button>
                                <button onClick={() => setShowHistory(true)}
                                    className="relative overflow-hidden bg-gradient-to-br from-purple-50 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30 p-3 rounded-xl border border-purple-200/50 dark:border-purple-700/50 card-hover group">
                                    <div className="absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700"></div>
                                    <div className="text-2xl mb-1"></div>
                                    <div className="text-xs text-gray-600 dark:text-gray-400 font-medium">{t('history')}</div>
                                </button>
                                <button onClick={() => setShowHelp(true)}
                                    className="relative overflow-hidden bg-gradient-to-br from-green-50 to-emerald-100 dark:from-green-900/30 dark:to-emerald-900/30 p-3 rounded-xl border border-green-200/50 dark:border-green-700/50 card-hover group">
                                    <div className="absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700"></div>
                                    <div className="text-2xl mb-1"></div>
                                    <div className="text-xs text-gray-600 dark:text-gray-400 font-medium">{t('help')}</div>
                                </button>
                                <button onClick={() => setShowAccessibility(true)}
                                    className="relative overflow-hidden bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/30 dark:to-indigo-900/30 p-3 rounded-xl border border-blue-200/50 dark:border-blue-700/50 card-hover group">
                                    <div className="absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700"></div>
                                    <div className="text-2xl mb-1"></div>
                                    <div className="text-xs text-gray-600 dark:text-gray-400 font-medium">{t('accessibility')}</div>
                                </button>
                            </div>


                            <div className="mt-3 flex gap-2">
                                <button onClick={() => setShowForgottenStats(true)}
                                    className="flex-1 bg-gradient-to-r from-rose-400 to-pink-500 text-white px-4 py-3 rounded-lg hover:from-rose-500 hover:to-pink-600 transition-all font-semibold shadow-lg hover:shadow-xl hover:scale-[1.02] flex items-center justify-center gap-2">
                                    <span></span>
                                    <span>{t('whatForgot')}</span>
                                    {shoppingStreak > 0 && (
                                        <span className="bg-white/20 px-2 py-0.5 rounded-full text-xs"> {shoppingStreak}</span>
                                    )}
                                </button>
                                <button onClick={() => setShowCalendar(true)}
                                    className="w-14 bg-gradient-to-r from-violet-400 to-purple-500 text-white rounded-lg hover:from-violet-500 hover:to-purple-600 transition-all shadow-lg hover:shadow-xl hover:scale-105 flex items-center justify-center"
                                    title={t('calendar')}>
                                    
                                </button>
                            </div>

                            {/* Add Regulars Button */}
                            {regularItems.length > 0 && (
                                <div className="mt-3">
                                    <button onClick={() => setShowRegulars(true)}
                                        className="w-full bg-gradient-to-r from-amber-400 to-orange-500 text-white px-4 py-3 rounded-lg hover:from-amber-500 hover:to-orange-600 transition-all font-semibold shadow-lg hover:shadow-xl hover:scale-[1.02] flex items-center justify-center gap-2">
                                        <span>猸</span>
                                        <span>住祝 转 拽注 砖</span>
                                        <span className="bg-white/20 px-2 py-0.5 rounded-full text-xs">{regularItems.length}</span>
                                    </button>
                                </div>
                            )}
                        </div>

                        {searchTerm && (
                            <div className="glass rounded-2xl shadow-xl p-6 mb-6 card-hover">
                                <div className="flex justify-between items-center mb-4">
                                    <h2 className="text-xl font-bold dark:text-white flex items-center gap-2">
                                        <span className="text-2xl"></span>
                                        <span className="text-gradient">转爪转 驻砖</span>
                                    </h2>
                                    <button onClick={() => setSearchTerm('')} className="btn-gradient text-white text-sm px-4 py-2 rounded-full font-medium hover:shadow-lg hover:scale-105 transition-all">拽 驻砖 </button>
                                </div>
                                <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3">
                                    {Object.entries(PRODUCTS).flatMap(([category, products]) =>
                                        products
                                            .filter(product => product.includes(searchTerm))
                                            .map((product, idx) => (
                                                <button key={`${category}-${idx}`} onClick={() => { addProduct(product); setSelectedCategory(category); }}
                                                    className="group relative bg-white dark:bg-gray-800 p-4 rounded-2xl border border-gray-100 dark:border-gray-700 hover:border-indigo-300 dark:hover:border-indigo-600 hover:shadow-lg hover:shadow-indigo-100/50 dark:hover:shadow-indigo-900/30 transition-all duration-200 text-right"
                                                >
                                                    <div className="flex items-start gap-3">
                                                        <div className="w-10 h-10 rounded-xl bg-gray-50 dark:bg-gray-700 flex items-center justify-center text-xl group-hover:scale-110 transition-transform">
                                                            {CATEGORIES[category]?.icon}
                                                        </div>
                                                        <div className="flex-1 min-w-0">
                                                            <div className="font-semibold text-gray-700 dark:text-gray-200 text-sm leading-tight mb-1">{getProductTranslation(product, language)}</div>
                                                            <div className="text-xs text-gray-400 dark:text-gray-500">{getCategoryName(category)}</div>
                                                        </div>
                                                        <div className="w-6 h-6 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center opacity-0 group-hover:opacity-100 group-hover:bg-indigo-500 transition-all duration-200">
                                                            <svg className="w-3.5 h-3.5 text-gray-400 group-hover:text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2.5}>
                                                                <path strokeLinecap="round" strokeLinejoin="round" d="M12 4v16m8-8H4" />
                                                            </svg>
                                                        </div>
                                                    </div>
                                                </button>
                                            ))
                                    )}
                                </div>
                                {Object.entries(PRODUCTS).flatMap(([_, products]) => products.filter(p => p.includes(searchTerm))).length === 0 && (
                                    <div className="text-center py-8">
                                        <div className="text-6xl mb-4"></div>
                                        <p className="text-gray-500 dark:text-gray-400 text-lg">{t('noProductsFound')} "<span className="font-bold">{searchTerm}</span>"</p>
                                        <p className="text-sm text-gray-400 dark:text-gray-500 mt-2">{t('tryAnotherSearch')}</p>
                                    </div>
                                )}
                            </div>
                        )}

                        {!selectedCategory && !searchTerm ? (
                            <div className="glass rounded-2xl shadow-xl p-6 mb-6">
                                <h2 className="text-2xl font-bold text-center mb-2 dark:text-white flex items-center justify-center gap-2">
                                    <span className="text-3xl">凤</span>
                                    <span className="text-gradient">{t('selectCategory')}</span>
                                </h2>
                                <p className="text-center text-gray-500 dark:text-gray-400 text-sm mb-6">{t('addItemsHint')}</p>
                                <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3">
                                    {Object.entries(CATEGORIES).map(([key, cat]) => {
                                        const count = items.filter(item => item.category === key && !item.purchased).length;
                                        return (
                                            <button
                                                key={key}
                                                onClick={() => { setSelectedCategory(key); setTimeout(() => { const el = document.getElementById('products-section'); if (el) el.scrollIntoView({ behavior: 'smooth', block: 'start' }); }, 50); }}
                                                className="group relative bg-white dark:bg-gray-800 p-5 rounded-2xl border border-gray-100 dark:border-gray-700 hover:border-indigo-300 dark:hover:border-indigo-600 hover:shadow-xl hover:shadow-indigo-100/50 dark:hover:shadow-indigo-900/30 transition-all duration-200"
                                            >
                                                <div className="flex flex-col items-center text-center">
                                                    <div className="w-14 h-14 rounded-2xl bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-600 flex items-center justify-center text-3xl mb-3 group-hover:scale-110 group-hover:shadow-lg transition-all duration-200">
                                                        {cat.icon}
                                                    </div>
                                                    <div className="text-sm font-semibold text-gray-700 dark:text-gray-200">{getCategoryName(key)}</div>
                                                </div>
                                                {count > 0 && (
                                                    <div className="absolute -top-1 -left-1 bg-indigo-500 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center shadow-md">
                                                        {count}
                                                    </div>
                                                )}
                                            </button>
                                        );
                                    })}
                                </div>
                            </div>
                        ) : selectedCategory && !searchTerm && (
                            <>
                                {/* Fixed Back Button at Bottom */}
                                <div className="fixed bottom-28 left-4 right-4 z-40 flex justify-center pointer-events-none" style={{ paddingBottom: 'env(safe-area-inset-bottom, 0px)' }}>
                                    <button onClick={() => setSelectedCategory(null)}
                                        className="pointer-events-auto btn-gradient text-white px-6 py-3 rounded-full font-bold shadow-2xl hover:shadow-xl hover:scale-105 transition-all flex items-center gap-2 text-lg">
                                        <span></span>
                                        <span>{t('backToCategories')}</span>
                                    </button>
                                </div>

                                <div id="products-section" className="glass rounded-2xl shadow-xl mb-6 overflow-visible">
                                    {/* Category Header - Sticky */}
                                    <div className="sticky top-0 z-30 p-4 border-b border-gray-200 dark:border-gray-700 bg-white/95 dark:bg-gray-800/95 backdrop-blur-md rounded-t-2xl">
                                        <h2 className="text-xl font-bold flex items-center justify-center gap-2 dark:text-white">
                                            <span className="text-3xl">{CATEGORIES[selectedCategory].icon}</span>
                                            <span className="text-gradient">{t(CATEGORY_TO_TRANSLATION[selectedCategory]) || getCategoryName(selectedCategory)}</span>
                                        </h2>
                                    </div>

                                    {/* Products Grid */}
                                    <div className="p-4">
                                        <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3">
                                            {PRODUCTS[selectedCategory]?.map((product, idx) => (
                                                <button key={idx} onClick={() => addProduct(product)}
                                                    className="group relative bg-white dark:bg-gray-800 p-4 rounded-2xl border border-gray-100 dark:border-gray-700 hover:border-indigo-300 dark:hover:border-indigo-600 hover:shadow-lg hover:shadow-indigo-100/50 dark:hover:shadow-indigo-900/30 transition-all duration-200 text-right"
                                                    style={{animationDelay: `${idx * 30}ms`}}
                                                >
                                                <div className="flex items-center justify-between gap-2">
                                                    <div className="w-8 h-8 rounded-full bg-gray-50 dark:bg-gray-700 flex items-center justify-center group-hover:bg-indigo-500 group-hover:scale-110 transition-all duration-200">
                                                        <svg className="w-4 h-4 text-gray-400 group-hover:text-white transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2.5}>
                                                            <path strokeLinecap="round" strokeLinejoin="round" d="M12 4v16m8-8H4" />
                                                        </svg>
                                                    </div>
                                                    <span className="flex-1 font-semibold text-gray-700 dark:text-gray-200 text-sm leading-tight">{getProductTranslation(product, language)}</span>
                                                </div>
                                            </button>
                                        ))}
                                    </div>
                                </div>
                            </div>
                            </>
                        )}

                        {filteredItems.length > 0 && (
                            <div id="shopping-list-section" className="glass rounded-2xl shadow-xl p-6 mb-6">
                                <h2 className="text-2xl font-bold mb-4 dark:text-white flex items-center gap-3">
                                    <span className="text-3xl"></span>
                                    <span className="text-gradient">{t('myList')}</span>
                                    <span className="btn-gradient text-white text-sm px-3 py-1 rounded-full">{filteredItems.length}</span>
                                </h2>

                                {/* Estimated Total & Templates */}
                                <div className="flex flex-wrap items-center gap-3 mb-6 pb-4 border-b border-gray-200 dark:border-gray-700">
                                    {(() => {
                                        const unpurchasedItems = items.filter(i => !i.purchased);
                                        const itemsWithPrice = unpurchasedItems.filter(i => i.price);
                                        return estimatedTotal > 0 && (
                                            <div className="flex flex-col gap-1">
                                                <div className="flex items-center gap-2 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 px-4 py-2 rounded-xl">
                                                    <span></span>
                                                    <div className="flex flex-col">
                                                        <span className="font-semibold">{t('estimatedTotal')}: {estimatedTotal.toFixed(2)}</span>
                                                        <span className="text-xs opacity-75">
                                                            {itemsWithPrice.length} {t('itemsWithPrice')} {t('of')} {unpurchasedItems.length}
                                                        </span>
                                                    </div>
                                                </div>
                                                <span className="text-xs text-gray-500 dark:text-gray-400 px-1">{t('priceDisclaimer')}</span>
                                            </div>
                                        );
                                    })()}
                                    <button
                                        onClick={() => setShowTemplates(!showTemplates)}
                                        className="flex items-center gap-2 bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-400 px-4 py-2 rounded-xl hover:bg-purple-100 dark:hover:bg-purple-900/40 transition-all"
                                    >
                                        <span></span>
                                        <span className="font-medium">{t('templates')}</span>
                                    </button>
                                    {items.filter(i => !i.purchased).length > 0 && (
                                        <button
                                            onClick={() => setShowSaveTemplate(true)}
                                            className="flex items-center gap-2 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-400 px-4 py-2 rounded-xl hover:bg-indigo-100 dark:hover:bg-indigo-900/40 transition-all"
                                        >
                                            <span></span>
                                            <span className="font-medium">{t('saveAsTemplate')}</span>
                                        </button>
                                    )}
                                </div>

                                {/* Templates Panel */}
                                {showTemplates && (
                                    <div className="mb-6 p-4 bg-purple-50 dark:bg-purple-900/20 rounded-xl">
                                        <h3 className="font-bold text-purple-700 dark:text-purple-400 mb-3 flex items-center gap-2">
                                            <span></span> {t('myTemplates')}
                                        </h3>
                                        {templates.length === 0 ? (
                                            <p className="text-sm text-gray-500 dark:text-gray-400">{t('noTemplatesSaved')}</p>
                                        ) : (
                                            <div className="grid gap-2">
                                                {templates.map(template => (
                                                    <div key={template.id} className="flex items-center justify-between bg-white dark:bg-gray-800 p-3 rounded-lg">
                                                        <div>
                                                            <span className="font-medium">{template.name}</span>
                                                            <span className="text-xs text-gray-500 mr-2">({template.items.length} {t('items')})</span>
                                                        </div>
                                                        <div className="flex gap-2">
                                                            <button
                                                                onClick={() => loadTemplate(template)}
                                                                className="text-xs bg-purple-500 text-white px-3 py-1 rounded-lg hover:bg-purple-600"
                                                            >
                                                                {t('loadList')}
                                                            </button>
                                                            <button
                                                                onClick={() => deleteTemplate(template.id)}
                                                                className="text-xs bg-red-100 text-red-600 px-3 py-1 rounded-lg hover:bg-red-200"
                                                            >
                                                                {t('delete')}
                                                            </button>
                                                        </div>
                                                    </div>
                                                ))}
                                            </div>
                                        )}
                                    </div>
                                )}

                                {/* Save Template Modal */}
                                {showSaveTemplate && (
                                    <div className="fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4">
                                        <div className="glass rounded-2xl p-6 w-full max-w-md">
                                            <h3 className="text-xl font-bold mb-4 flex items-center gap-2">
                                                <span></span> {t('saveAsTemplate')}
                                            </h3>
                                            <input
                                                type="text"
                                                value={newTemplateName}
                                                onChange={(e) => setNewTemplateName(e.target.value)}
                                                placeholder={t('templateNamePlaceholder')}
                                                className="w-full p-3 border rounded-xl dark:bg-gray-700 dark:border-gray-600 mb-4"
                                                autoFocus
                                            />
                                            <p className="text-sm text-gray-500 dark:text-gray-400 mb-4">
                                                {t('itemsWillBeSaved').replace('{count}', items.filter(i => !i.purchased).length)}
                                            </p>
                                            <div className="flex gap-3">
                                                <button
                                                    onClick={() => { setShowSaveTemplate(false); setNewTemplateName(''); }}
                                                    className="flex-1 px-4 py-2 border rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700"
                                                >
                                                    {t('cancel')}
                                                </button>
                                                <button
                                                    onClick={() => saveAsTemplate(newTemplateName)}
                                                    disabled={!newTemplateName.trim()}
                                                    className="flex-1 btn-gradient text-white px-4 py-2 rounded-xl disabled:opacity-50"
                                                >
                                                    {t('save')}
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                )}

                                {Object.entries(groupedItems).map(([category, categoryItems]) => (
                                    <div key={category} className="mb-6">
                                        <h3 className="sticky-category-header flex items-center gap-2 mb-3 pb-2 border-b border-gray-200 dark:border-gray-700">
                                            <span className="text-xl">{CATEGORIES[category]?.icon}</span>
                                            <span className="text-base font-semibold text-gray-700 dark:text-gray-300">{t(CATEGORY_TO_TRANSLATION[category]) || CATEGORIES[category]?.name}</span>
                                            <span className="text-xs bg-orange-100 dark:bg-orange-900/40 text-orange-600 dark:text-orange-400 px-2 py-0.5 rounded-full font-medium">{categoryItems.length}</span>
                                        </h3>
                                        {categoryItems.map(item => (
                                            <SwipeableItem
                                                key={item.id}
                                                className={`mb-3 ${exitingItems.has(item.id) ? 'item-exit' : 'item-enter'}`}
                                                purchased={item.purchased}
                                                onSwipeRight={() => !item.purchased && togglePurchasedWithAnimation(item.id, item.purchased)}
                                                onSwipeLeft={() => !item.purchased && postponeItem(item.id)}
                                            >
                                                <div className={`product-card ${animatingItems.has(item.id) ? 'success-glow' : ''} ${item.purchased ? 'purchased' : ''}`}>
                                                    {/* Clean single-row layout */}
                                                    <div className="item-row" role="group" aria-label={`驻专: ${item.name}`}>
                                                        {/* Checkbox */}
                                                        <button
                                                            onTouchStart={(e) => e.stopPropagation()}
                                                            onClick={(e) => togglePurchasedWithAnimation(item.id, item.purchased, e)}
                                                            aria-label={item.purchased ? ` 住 注专 ${item.name}` : `住 ${item.name} 拽`}
                                                            className={`item-checkbox ${item.purchased ? 'checked' : ''}`}
                                                            style={{ touchAction: 'manipulation' }}
                                                        >
                                                            {item.purchased && (
                                                                <svg className={`w-4 h-4 text-white ${animatingItems.has(item.id) ? 'check-animate' : ''}`} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={3}>
                                                                    <path strokeLinecap="round" strokeLinejoin="round" d="M5 13l4 4L19 7" />
                                                                </svg>
                                                            )}
                                                        </button>

                                                        {/* Product Name */}
                                                        <div className="flex-1 min-w-0">
                                                            <div className={`item-name ${item.purchased ? 'purchased' : ''}`}>
                                                                {getProductTranslation(item.name, language)}
                                                            </div>
                                                            {/* Status indicators */}
                                                            <div className="flex items-center gap-2 flex-wrap">
                                                                {item.note && (
                                                                    <span className="item-note-badge" onClick={() => setEditingNote(item)}>
                                                                         {item.note.length > 15 ? item.note.substring(0, 15) + '...' : item.note}
                                                                    </span>
                                                                )}
                                                                {item.postponedBy && !item.purchased && (
                                                                    <span className="item-status postponed">{t('postponedStatus')}</span>
                                                                )}
                                                                {item.purchased && item.purchasedBy && (
                                                                    <span className="item-status purchased-by"> {item.purchasedBy}</span>
                                                                )}
                                                                {item.outOfStock && (
                                                                    <span className="item-status postponed"> {t('outOfStockStatus')}</span>
                                                                )}
                                                            </div>
                                                        </div>

                                                        {/* Price display (read-only, calculated based on quantity) */}
                                                        {item.price ? (
                                                            <span className="text-xs text-green-600 dark:text-green-400 font-medium px-2 py-1">
                                                                {calculateItemPrice(item).toFixed(2)}
                                                            </span>
                                                        ) : null}

                                                        {/* Quantity - compact stepper */}
                                                        <div
                                                            className="qty-stepper flex-shrink-0"
                                                            role="group"
                                                            aria-label={`转 ${item.name}`}
                                                            onTouchStart={(e) => e.stopPropagation()}
                                                        >
                                                            <button
                                                                onClick={() => updateQuantity(item.id, getQuantityNumber(item.quantity) - 1)}
                                                                className="qty-btn"
                                                                aria-label="驻转"
                                                                style={{ touchAction: 'manipulation' }}
                                                            ></button>
                                                            <span className="qty-value">{getQuantityNumber(item.quantity)}</span>
                                                            <button
                                                                onClick={() => updateQuantity(item.id, getQuantityNumber(item.quantity) + 1)}
                                                                className="qty-btn"
                                                                aria-label="住祝"
                                                                style={{ touchAction: 'manipulation' }}
                                                            >+</button>
                                                        </div>

                                                        {/* Menu button */}
                                                        <button
                                                            type="button"
                                                            onTouchStart={(e) => {
                                                                e.stopPropagation();
                                                            }}
                                                            onTouchEnd={(e) => {
                                                                e.preventDefault();
                                                                e.stopPropagation();
                                                                setOpenItemMenu(openItemMenu === item.id ? null : item.id);
                                                            }}
                                                            onClick={(e) => {
                                                                e.preventDefault();
                                                                e.stopPropagation();
                                                                setOpenItemMenu(openItemMenu === item.id ? null : item.id);
                                                            }}
                                                            className="item-menu-btn touch-target"
                                                            aria-label="转驻专 驻注转"
                                                            style={{ minWidth: '44px', minHeight: '44px', touchAction: 'manipulation' }}
                                                        >
                                                            <svg className="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                                                                <path d="M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z" />
                                                            </svg>
                                                        </button>
                                                    </div>

                                                </div>
                                            </SwipeableItem>
                                        ))}
                                    </div>
                                ))}

                                {/* Delete All Button - at the bottom of the list */}
                                {items.length > 0 && (
                                    <div className="mt-8 pt-6 border-t border-gray-200 dark:border-gray-700">
                                        <button
                                            onClick={() => setShowDeleteAllConfirm(true)}
                                            className="w-full bg-gradient-to-r from-red-500 to-rose-500 text-white px-4 py-3 rounded-xl hover:from-red-600 hover:to-rose-600 transition-all font-semibold shadow-lg hover:shadow-xl hover:scale-[1.02] flex items-center justify-center gap-2"
                                        >
                                            <span>锔</span>
                                            <span>{t('deleteAll')}</span>
                                        </button>
                                    </div>
                                )}
                            </div>
                        )}

                        {filteredItems.length === 0 && !searchTerm && (
                            <div className="glass rounded-2xl shadow-xl p-12 text-center">
                                <div className="text-7xl mb-6 float"></div>
                                <p className="text-2xl text-gradient font-bold mb-2">{t('emptyList')}</p>
                                <p className="text-gray-500 dark:text-gray-400 mt-2">{t('addProductsBelow')}</p>
                            </div>
                        )}

                        {/* Bottom spacing for sticky bar */}
                        <div className="h-24"></div>
                    </div>

                    {/* Sticky Add Bar */}
                    <div className="sticky-add-bar">
                        <div className="max-w-2xl mx-auto flex gap-2 items-center">
                            <div className="relative flex-1">
                                <label htmlFor="product-search" className="sr-only">{t('searchProduct')}</label>
                                <input
                                    id="product-search"
                                    ref={addBarInputRef}
                                    type="text"
                                    value={searchTerm}
                                    onChange={e => setSearchTerm(e.target.value)}
                                    placeholder={` ${t('addProductPlaceholder')}`}
                                    aria-label={t('searchProduct')}
                                    aria-autocomplete="list"
                                    className="w-full px-4 py-3 pr-4 pl-12 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 dark:text-white focus:border-indigo-500 dark:focus:border-indigo-400 focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 transition-all text-base font-medium placeholder:text-gray-400"
                                />
                                {searchTerm && (
                                    <button
                                        onClick={() => setSearchTerm('')}
                                        className="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-red-500 text-xl touch-target"
                                        aria-label="拽 砖 驻砖"
                                    >
                                        <span aria-hidden="true"></span>
                                    </button>
                                )}
                            </div>
                            {voiceSupported && (
                                <button
                                    onClick={isListening ? stopListening : startListening}
                                    className={`w-12 h-12 rounded-xl flex items-center justify-center text-xl transition-all touch-target ${
                                        isListening
                                            ? 'bg-red-500 text-white animate-pulse'
                                            : 'bg-indigo-100 dark:bg-indigo-900/50 text-indigo-600 dark:text-indigo-400 hover:bg-indigo-200'
                                    }`}
                                    aria-label={isListening ? '驻住拽 拽 拽转' : '转 拽 拽转 住驻转 爪专'}
                                    aria-pressed={isListening}
                                >
                                    <span aria-hidden="true">{isListening ? '癸' : ''}</span>
                                </button>
                            )}
                            {/* AI Smart Add Button */}
                            <button
                                onClick={() => setShowSmartAdd(true)}
                                className="w-12 h-12 rounded-xl flex items-center justify-center text-xl transition-all touch-target bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:from-purple-600 hover:to-pink-600 shadow-lg hover:shadow-xl hover:scale-105"
                                aria-label="住驻  注 AI"
                                title="住驻  - 转 砖驻 驻砖"
                            >
                                <span aria-hidden="true"></span>
                            </button>
                        </div>

                        {/* Voice listening indicator - Enhanced */}
                        {isListening && (
                            <div className="max-w-2xl mx-auto mt-2 expand-in">
                                <div className="bg-gradient-to-r from-purple-100 to-indigo-100 dark:from-purple-900/50 dark:to-indigo-900/50 rounded-xl p-4 border-2 border-purple-300 dark:border-purple-700">
                                    <div className="flex items-center justify-between mb-2">
                                        <div className="flex items-center gap-2">
                                            <div className="flex items-center h-4">
                                                <span className="sound-wave"></span>
                                                <span className="sound-wave"></span>
                                                <span className="sound-wave"></span>
                                            </div>
                                            <span className="text-sm font-bold text-purple-700 dark:text-purple-300">
                                                {voiceStatus || (voiceLang === 'en-US' ? 'Listening...' : '拽砖...')}
                                            </span>
                                        </div>
                                        <button onClick={toggleVoiceLang} className="text-xs px-3 py-1 bg-white dark:bg-gray-800 rounded-full shadow-sm font-medium">
                                            {voiceLang === 'en-US' ? '吼 English' : ' 注专转'}
                                        </button>
                                    </div>
                                    {voiceTranscript && (
                                        <div className="bg-white dark:bg-gray-800 rounded-lg p-3 mt-2">
                                            <p className="text-gray-600 dark:text-gray-300 text-sm">
                                                <span className="text-purple-500">砖注转:</span> {voiceTranscript}
                                            </p>
                                        </div>
                                    )}
                                    <p className="text-xs text-purple-500 dark:text-purple-400 mt-2 text-center">
                                         驻: 专 专专 专 "住祝  爪"
                                    </p>
                                </div>
                            </div>
                        )}

                        {/* Voice status message (when not listening) */}
                        {!isListening && voiceStatus && voiceStatus !== '转...' && (
                            <div className="max-w-2xl mx-auto mt-2 text-center">
                                <p className="text-sm text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-800 rounded-lg py-2 px-4 inline-block">
                                    {voiceStatus}
                                </p>
                            </div>
                        )}

                        {/* Quick add suggestions when searching */}
                        {searchTerm && !isListening && (
                            <div className="max-w-2xl mx-auto mt-2 flex flex-wrap gap-1.5 pb-1">
                                {Object.entries(PRODUCTS)
                                    .flatMap(([cat, prods]) => prods.map(p => ({ name: p, cat })))
                                    .filter(p => p.name.includes(searchTerm))
                                    .slice(0, 6)
                                    .map((p, i) => (
                                        <button
                                            key={i}
                                            onClick={() => addProduct(p.name)}
                                            className="px-2.5 py-1.5 bg-indigo-100 dark:bg-indigo-900/50 text-indigo-700 dark:text-indigo-300 rounded-lg text-xs font-medium hover:bg-indigo-200 dark:hover:bg-indigo-800 transition-all expand-in"
                                        >
                                            {CATEGORIES[p.cat]?.icon} {p.name}
                                        </button>
                                    ))}
                                {searchTerm.length >= 2 && !Object.values(PRODUCTS).flat().some(p => p === searchTerm) && (
                                    <button
                                        onClick={() => addProduct(searchTerm)}
                                        className="px-2.5 py-1.5 bg-emerald-100 dark:bg-emerald-900/50 text-emerald-700 dark:text-emerald-300 rounded-lg text-xs font-medium hover:bg-emerald-200 dark:hover:bg-emerald-800 transition-all expand-in"
                                    >
                                         "{searchTerm}"
                                    </button>
                                )}
                            </div>
                        )}
                    </div>

                    {/* Back to Top Button - Sticky */}
                    <button
                        onClick={() => window.scrollTo({ top: 0, behavior: 'smooth' })}
                        className="fixed left-4 w-12 h-12 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full flex items-center justify-center text-white text-2xl shadow-lg z-[9998] hover:scale-110 transition-transform touch-target"
                        style={{ bottom: '100px' }}
                        title="专 专砖 祝"
                        aria-label="专 专砖 祝"
                    >
                        <span aria-hidden="true"></span>
                    </button>

                    {/* Accessibility Modal */}
                    {showAccessibility && (
                        <div className="fixed inset-0 bg-black/50 z-[10000] flex items-start justify-center pt-10 overflow-y-auto" onClick={() => setShowAccessibility(false)}>
                            <div className="bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-md mx-4 mb-10" onClick={e => e.stopPropagation()}>
                                <div className="flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700">
                                    <button onClick={() => setShowAccessibility(false)} className="text-2xl text-gray-500 hover:text-gray-700 touch-target" aria-label="住专 转驻专 砖转"><span aria-hidden="true"></span></button>
                                    <h2 className="text-xl font-bold text-gray-800 dark:text-white">住专 砖转</h2>
                                    <div className="w-8"></div>
                                </div>
                                <div className="p-4 space-y-4">
                                    {/* Skip to content */}
                                    <button onClick={() => { document.querySelector('main, [role="main"], .max-w-4xl')?.scrollIntoView(); setShowAccessibility(false); }}
                                        className="w-full py-3 bg-gray-100 dark:bg-gray-700 rounded-xl font-medium text-gray-800 dark:text-white hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                                         转 注
                                    </button>

                                    {/* Font Size */}
                                    <div>
                                        <p className="text-sm text-gray-500 dark:text-gray-400 mb-2 text-center">驻 拽砖专</p>
                                        <div className="flex gap-2">
                                            <button onClick={() => updateAccessibility('fontSize', 'large')}
                                                className={`flex-1 py-2 rounded-xl font-medium transition-colors ${accessibilitySettings.fontSize === 'large' ? 'bg-blue-500 text-white' : 'bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-white'}`}>
                                                转 拽住
                                            </button>
                                            <button onClick={() => updateAccessibility('fontSize', 'small')}
                                                className={`flex-1 py-2 rounded-xl font-medium transition-colors ${accessibilitySettings.fontSize === 'small' ? 'bg-blue-500 text-white' : 'bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-white'}`}>
                                                拽转 拽住
                                            </button>
                                            <button onClick={() => updateAccessibility('highlightLinks', !accessibilitySettings.highlightLinks)}
                                                className={`flex-1 py-2 rounded-xl font-medium transition-colors ${accessibilitySettings.highlightLinks ? 'bg-blue-500 text-white' : 'bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-white'}`}>
                                                砖 拽砖专
                                            </button>
                                        </div>
                                    </div>

                                    {/* Contrast */}
                                    <div>
                                        <p className="text-sm text-gray-500 dark:text-gray-400 mb-2 text-center">爪注</p>
                                        <div className="flex gap-2">
                                            <button onClick={() => updateAccessibility('contrast', 'low')}
                                                className={`flex-1 py-2 rounded-xl font-medium transition-colors ${accessibilitySettings.contrast === 'low' ? 'bg-blue-500 text-white' : 'bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-white'}`}>
                                                转 注
                                            </button>
                                            <button onClick={() => updateAccessibility('contrast', 'normal')}
                                                className={`flex-1 py-2 rounded-xl font-medium transition-colors ${accessibilitySettings.contrast === 'normal' ? 'bg-blue-500 text-white' : 'bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-white'}`}>
                                                转 专
                                            </button>
                                            <button onClick={() => updateAccessibility('contrast', 'high')}
                                                className={`flex-1 py-2 rounded-xl font-medium transition-colors ${accessibilitySettings.contrast === 'high' ? 'bg-blue-500 text-white' : 'bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-white'}`}>
                                                转 
                                            </button>
                                        </div>
                                    </div>

                                    {/* Cursor */}
                                    <div>
                                        <p className="text-sm text-gray-500 dark:text-gray-400 mb-2 text-center">住 注专</p>
                                        <div className="flex gap-2">
                                            <button onClick={() => updateAccessibility('cursorSize', 'large-black')}
                                                className={`flex-1 py-2 rounded-xl font-medium transition-colors ${accessibilitySettings.cursorSize === 'large-black' ? 'bg-blue-500 text-white' : 'bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-white'}`}>
                                                住  砖专
                                            </button>
                                            <button onClick={() => updateAccessibility('cursorSize', 'normal')}
                                                className={`flex-1 py-2 rounded-xl font-medium transition-colors ${accessibilitySettings.cursorSize === 'normal' ? 'bg-blue-500 text-white' : 'bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-white'}`}>
                                                住 专
                                            </button>
                                            <button onClick={() => updateAccessibility('cursorSize', 'large-white')}
                                                className={`flex-1 py-2 rounded-xl font-medium transition-colors ${accessibilitySettings.cursorSize === 'large-white' ? 'bg-blue-500 text-white' : 'bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-white'}`}>
                                                住  
                                            </button>
                                        </div>
                                    </div>

                                    {/* Language Selector */}
                                    <div>
                                        <p className="text-sm text-gray-500 dark:text-gray-400 mb-2 text-center"> 砖驻 / Language</p>
                                        <div className="grid grid-cols-4 gap-2">
                                            <button onClick={() => { if(window.changeAppLanguage) window.changeAppLanguage('he'); }}
                                                className={`py-2 rounded-xl font-medium transition-colors ${localStorage.getItem('appLanguage') === 'he' || !localStorage.getItem('appLanguage') ? 'bg-blue-500 text-white' : 'bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-white'}`}>
                                                注专转
                                            </button>
                                            <button onClick={() => { if(window.changeAppLanguage) window.changeAppLanguage('en'); }}
                                                className={`py-2 rounded-xl font-medium transition-colors ${localStorage.getItem('appLanguage') === 'en' ? 'bg-blue-500 text-white' : 'bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-white'}`}>
                                                English
                                            </button>
                                            <button onClick={() => { if(window.changeAppLanguage) window.changeAppLanguage('ru'); }}
                                                className={`py-2 rounded-xl font-medium transition-colors ${localStorage.getItem('appLanguage') === 'ru' ? 'bg-blue-500 text-white' : 'bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-white'}`}>
                                                泻懈泄
                                            </button>
                                            <button onClick={() => { if(window.changeAppLanguage) window.changeAppLanguage('ar'); }}
                                                className={`py-2 rounded-xl font-medium transition-colors ${localStorage.getItem('appLanguage') === 'ar' ? 'bg-blue-500 text-white' : 'bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-white'}`}>
                                                丕毓乇亘丞
                                            </button>
                                        </div>
                                    </div>

                                    {/* Reset */}
                                    <button onClick={resetAccessibility}
                                        className="w-full py-3 bg-gray-200 dark:bg-gray-600 rounded-xl font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors">
                                        驻住  专转
                                    </button>

                                    {/* Footer links */}
                                    <div className="flex justify-between pt-2 border-t border-gray-200 dark:border-gray-700">
                                        <button onClick={() => setShowFeedback(true)} className="text-blue-500 hover:underline text-sm">爪专 拽砖专</button>
                                        <button onClick={() => alert('驻拽爪转 ListNest 转 砖转   砖转砖.\n\n驻拽爪 转 转 转拽 砖专 转" 5568 转 WCAG 2.1 专 AA.\n\n砖转 砖 砖转 转 驻转 .')} className="text-blue-500 hover:underline text-sm">爪专转 砖转</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Help Modal */}
                    {showHelp && (
                        <div className="fixed inset-0 bg-black/50 z-[10000] flex items-center justify-center p-4" onClick={() => setShowHelp(false)}>
                            <div className="bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto" onClick={e => e.stopPropagation()}>
                                <div className="flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 sticky top-0 bg-white dark:bg-gray-800">
                                    <button onClick={() => setShowHelp(false)} className="text-2xl text-gray-500 hover:text-gray-700 touch-target" aria-label="住专  注专"><span aria-hidden="true"></span></button>
                                    <h2 className="text-xl font-bold text-gray-800 dark:text-white">注专</h2>
                                    <div className="w-8"></div>
                                </div>
                                <div className="p-4 space-y-4">
                                    <div className="bg-indigo-50 dark:bg-indigo-900/30 rounded-xl p-4">
                                        <h3 className="font-bold text-indigo-800 dark:text-indigo-200 mb-2">  砖转砖 驻拽爪</h3>
                                        <ul className="text-sm text-indigo-700 dark:text-indigo-300 space-y-2 list-disc list-inside">
                                            <li>专 拽专 抓 注 爪专 住驻 专砖</li>
                                            <li>拽 砖 注 爪专 住 "拽"</li>
                                            <li>拽   抓 注   住祝 专砖</li>
                                            <li>砖转砖 驻砖  拽 拽转 住驻 专</li>
                                            <li>砖专 专砖转 砖砖 专</li>
                                        </ul>
                                    </div>
                                    <div className="bg-purple-50 dark:bg-purple-900/30 rounded-xl p-4">
                                        <h3 className="font-bold text-purple-800 dark:text-purple-200 mb-2">ㄢ┾р 砖转祝 注 砖驻</h3>
                                        <ul className="text-sm text-purple-700 dark:text-purple-300 space-y-2 list-disc list-inside">
                                            <li>砖转祝 拽, QR, 拽砖专  WhatsApp</li>
                                            <li><strong>专 (/)</strong> - 专砖转  转</li>
                                            <li><strong></strong> -  住祝 住 爪专 </li>
                                            <li>拽 转专转 砖砖 住祝 爪专</li>
                                            <li>爪'  转 拽转</li>
                                        </ul>
                                    </div>
                                    <div className="bg-amber-50 dark:bg-amber-900/30 rounded-xl p-4">
                                        <h3 className="font-bold text-amber-800 dark:text-amber-200 mb-2"> 住专拽 </h3>
                                        <ul className="text-sm text-amber-700 dark:text-amber-300 space-y-2 list-disc list-inside">
                                            <li>住专拽 转 住驻转 专 转</li>
                                            <li>爪 爪专  砖转 专</li>
                                        </ul>
                                    </div>
                                    <div className="bg-green-50 dark:bg-green-900/30 rounded-xl p-4">
                                        <h3 className="font-bold text-green-800 dark:text-green-200 mb-2"> 砖驻转 砖转</h3>
                                        <ul className="text-sm text-green-700 dark:text-green-300 space-y-2 list-disc list-inside">
                                            <li>转 注专转, 转, 专住转 注专转</li>
                                            <li>祝 砖驻 驻转专 砖转 ()</li>
                                            <li>爪 /专, 转 拽住 注</li>
                                        </ul>
                                    </div>
                                    <button onClick={() => { setShowHelp(false); setShowFeedback(true); }}
                                        className="w-full py-3 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-xl font-bold hover:opacity-90 transition-opacity">
                                         砖 砖   注 注
                                    </button>
                                    <button onClick={() => { localStorage.removeItem('hasSeenOnboarding'); setShowHelp(false); setShowOnboarding(true); setOnboardingStep(0); }}
                                        className="w-full py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded-xl font-medium hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                                         爪 专 砖
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Feedback Modal */}
                    {showFeedback && (
                        <div className="fixed inset-0 bg-black/50 z-[10001] flex items-center justify-center p-4" onClick={() => setShowFeedback(false)}>
                            <div className="bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-md" onClick={e => e.stopPropagation()}>
                                <div className="flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700">
                                    <button onClick={() => setShowFeedback(false)} className="text-2xl text-gray-500 hover:text-gray-700"></button>
                                    <h2 className="text-xl font-bold text-gray-800 dark:text-white">砖 砖</h2>
                                    <div className="w-8"></div>
                                </div>
                                {feedbackSent ? (
                                    <div className="p-8 text-center">
                                        <div className="text-5xl mb-4"></div>
                                        <p className="text-lg font-medium text-gray-800 dark:text-white">转 注 砖!</p>
                                        <p className="text-gray-500 dark:text-gray-400">专  拽</p>
                                    </div>
                                ) : (
                                    <div className="p-4 space-y-4">
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">住 驻</label>
                                            <div className="flex gap-2">
                                                <button onClick={() => setFeedbackType('bug')}
                                                    className={`flex-1 py-2 rounded-xl font-medium transition-colors ${feedbackType === 'bug' ? 'bg-red-500 text-white' : 'bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200'}`}>
                                                     
                                                </button>
                                                <button onClick={() => setFeedbackType('feature')}
                                                    className={`flex-1 py-2 rounded-xl font-medium transition-colors ${feedbackType === 'feature' ? 'bg-blue-500 text-white' : 'bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200'}`}>
                                                     拽砖
                                                </button>
                                                <button onClick={() => setFeedbackType('other')}
                                                    className={`flex-1 py-2 rounded-xl font-medium transition-colors ${feedbackType === 'other' ? 'bg-purple-500 text-white' : 'bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200'}`}>
                                                     专
                                                </button>
                                            </div>
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">转专</label>
                                            <textarea
                                                value={feedbackText}
                                                onChange={(e) => setFeedbackText(e.target.value)}
                                                placeholder="住驻专   拽专   转专爪 专转..."
                                                className="w-full h-32 p-3 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-800 dark:text-white resize-none focus:ring-2 focus:ring-indigo-500"
                                            />
                                        </div>
                                        <button onClick={sendFeedback} disabled={!feedbackText.trim() || feedbackSending}
                                            className="w-full py-3 bg-gradient-to-r from-indigo-500 to-purple-500 text-white rounded-xl font-bold disabled:opacity-50 hover:opacity-90 transition-opacity">
                                            {feedbackSending ? ' 砖...' : ' 砖'}
                                        </button>
                                    </div>
                                )}
                            </div>
                        </div>
                    )}

                    {/* Onboarding Modal */}
                    {showOnboarding && (
                        <div className="fixed inset-0 bg-black/70 z-[10002] flex items-center justify-center p-4">
                            <div className="bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden">
                                {onboardingStep === 0 && (
                                    <div className="p-6 text-center">
                                        <div className="text-6xl mb-4"></div>
                                        <h2 className="text-2xl font-bold text-gray-800 dark:text-white mb-2">专  -ListNest!</h2>
                                        <p className="text-gray-600 dark:text-gray-300 mb-6">专砖转 拽转   砖驻</p>
                                        <button onClick={() => setOnboardingStep(1)} className="w-full py-3 bg-gradient-to-r from-indigo-500 to-purple-500 text-white rounded-xl font-bold">
                                             转! 
                                        </button>
                                    </div>
                                )}
                                {onboardingStep === 1 && (
                                    <div className="p-6">
                                        <div className="text-4xl mb-3 text-center"></div>
                                        <h3 className="text-xl font-bold text-gray-800 dark:text-white mb-2 text-center">住驻转 爪专</h3>
                                        <div className="bg-indigo-50 dark:bg-indigo-900/30 rounded-xl p-4 mb-4">
                                            <ul className="text-sm text-gray-700 dark:text-gray-300 space-y-2">
                                                <li> <strong>拽专转:</strong> 专 拽专 抓 注 爪专</li>
                                                <li> <strong>驻砖:</strong> 拽 砖 爪专 砖专转 驻砖</li>
                                                <li> <strong>拽:</strong> 抓 注 拽专驻 专 转 爪专</li>
                                            </ul>
                                        </div>
                                        <div className="flex gap-2">
                                            <button onClick={() => setOnboardingStep(0)} className="flex-1 py-2 bg-gray-100 dark:bg-gray-700 rounded-xl"> 拽</button>
                                            <button onClick={() => setOnboardingStep(2)} className="flex-1 py-2 bg-indigo-500 text-white rounded-xl"> </button>
                                        </div>
                                    </div>
                                )}
                                {onboardingStep === 2 && (
                                    <div className="p-6">
                                        <div className="text-4xl mb-3 text-center"></div>
                                        <h3 className="text-xl font-bold text-gray-800 dark:text-white mb-2 text-center"> 专砖</h3>
                                        <div className="bg-green-50 dark:bg-green-900/30 rounded-xl p-4 mb-4">
                                            <ul className="text-sm text-gray-700 dark:text-gray-300 space-y-2">
                                                <li> <strong>拽 砖:</strong> 住 "拽" </li>
                                                <li> <strong>拽 :</strong>  住祝 专砖</li>
                                                <li> <strong>爪 注 转:</strong> 砖 转</li>
                                                <li> <strong>爪 专:</strong> 注专转 注专</li>
                                            </ul>
                                        </div>
                                        <div className="flex gap-2">
                                            <button onClick={() => setOnboardingStep(1)} className="flex-1 py-2 bg-gray-100 dark:bg-gray-700 rounded-xl"> 拽</button>
                                            <button onClick={() => setOnboardingStep(3)} className="flex-1 py-2 bg-indigo-500 text-white rounded-xl"> </button>
                                        </div>
                                    </div>
                                )}
                                {onboardingStep === 3 && (
                                    <div className="p-6">
                                        <div className="text-4xl mb-3 text-center">ㄢ┾р</div>
                                        <h3 className="text-xl font-bold text-gray-800 dark:text-white mb-2 text-center">砖转祝 砖驻转</h3>
                                        <div className="bg-purple-50 dark:bg-purple-900/30 rounded-xl p-4 mb-4">
                                            <ul className="text-sm text-gray-700 dark:text-gray-300 space-y-2">
                                                <li> <strong>砖转祝:</strong> 拽, QR, WhatsApp  拽砖专</li>
                                                <li> <strong>专:</strong> / - 专砖转  转</li>
                                                <li> <strong>:</strong>  住祝 住 爪专 </li>
                                                <li> <strong>转专转:</strong> 拽 注 砖砖 住祝 爪专</li>
                                                <li> <strong>爪':</strong> 转拽砖专转 砖驻转转  转</li>
                                            </ul>
                                        </div>
                                        <div className="flex gap-2">
                                            <button onClick={() => setOnboardingStep(2)} className="flex-1 py-2 bg-gray-100 dark:bg-gray-700 rounded-xl"> 拽</button>
                                            <button onClick={() => setOnboardingStep(4)} className="flex-1 py-2 bg-indigo-500 text-white rounded-xl"> </button>
                                        </div>
                                    </div>
                                )}
                                {onboardingStep === 4 && (
                                    <div className="p-6 text-center">
                                        <div className="text-6xl mb-4"></div>
                                        <h3 className="text-xl font-bold text-gray-800 dark:text-white mb-2"> 拽转!</h3>
                                        <p className="text-gray-600 dark:text-gray-300 mb-4">转 驻砖专 专 专 驻转专 注专</p>
                                        <div className="flex flex-wrap gap-2 text-xs text-gray-500 dark:text-gray-400 justify-center mb-4">
                                            <span> 注专转 | English | 泻懈泄 | 丕毓乇亘丞</span>
                                        </div>
                                        <div className="flex gap-2 text-xs text-gray-500 dark:text-gray-400 justify-center mb-4">
                                            <span> 砖转</span>
                                            <span></span>
                                            <span> 注专</span>
                                            <span></span>
                                            <span> 爪 </span>
                                        </div>
                                        <button onClick={completeOnboarding} className="w-full py-3 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-xl font-bold">
                                              转!
                                        </button>
                                    </div>
                                )}
                                {/* Progress dots */}
                                <div className="flex justify-center gap-2 pb-4">
                                    {[0, 1, 2, 3, 4].map(step => (
                                        <div key={step} className={`w-2 h-2 rounded-full transition-colors ${onboardingStep === step ? 'bg-indigo-500' : 'bg-gray-300 dark:bg-gray-600'}`} />
                                    ))}
                                </div>
                            </div>
                        </div>
                    )}
                    </main>
                </div>
            );
        }

        // Main App Content (inside FamilyProvider)
        function AppContent() {
            const { family, loading: familyLoading } = useFamily();

            if (familyLoading) {
                return (
                    <div className="min-h-screen gradient-bg flex items-center justify-center">
                        <div className="text-center">
                            <div className="text-6xl mb-4 float">ㄢ┾р</div>
                            <div className="text-xl text-white font-medium">注 砖驻...</div>
                            <div className="mt-4 w-32 h-1 bg-white/20 rounded-full overflow-hidden mx-auto">
                                <div className="h-full w-1/2 progress-animate rounded-full"></div>
                            </div>
                        </div>
                    </div>
                );
            }

            if (!family) {
                return <NoFamilyScreen />;
            }

            return <ShoppingList />;
        }

        // Main App Component
        function App() {
            const { user, loading } = useAuth();

            if (loading) {
                return (
                    <div className="min-h-screen gradient-bg flex items-center justify-center">
                        <div className="text-center">
                            <div className="text-6xl mb-4 float"></div>
                            <div className="text-xl text-white font-medium">注...</div>
                            <div className="mt-4 w-32 h-1 bg-white/20 rounded-full overflow-hidden mx-auto">
                                <div className="h-full w-1/2 progress-animate rounded-full"></div>
                            </div>
                        </div>
                    </div>
                );
            }

            if (!user) {
                return <AuthScreen />;
            }

            return (
                <FamilyProvider>
                    <AppContent />
                </FamilyProvider>
            );
        }

        ReactDOM.render(
            <LanguageProvider>
                <AuthProvider>
                    <App />
                </AuthProvider>
            </LanguageProvider>,
            document.getElementById('root'),
            () => {
                // Hide loading skeleton after React renders
                if (window.hideLoadingSkeleton) {
                    requestAnimationFrame(() => window.hideLoadingSkeleton());
                }
            }
        );
    </script>

    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js')
                    .then(registration => {
                        console.log('ServiceWorker registered:', registration.scope);
                    })
                    .catch(error => {
                        console.log('ServiceWorker registration failed:', error);
                    });
            });
        }
    </script>
</body>
</html>
